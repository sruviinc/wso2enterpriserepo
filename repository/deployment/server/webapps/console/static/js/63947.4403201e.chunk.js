"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[63947,8763,2202],{8763:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(14603),a=r(90268),s=r(81816),o=r(52983),l=r(9202),u=r(54221),i=r(59957),c=r(30640),m=r(26021),d=r(99839);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,l=[],u=!0,i=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){i=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.isConsumersListRequestLoading,r=e.getUsersList,S=e.consumersUsersList,g=e.onEmptyListPlaceholderActionClick,h=e.isNextPage,p=e.isDescriptionShown,v=e.setDescriptionShown,E=(0,l.$)().t,U=(0,u.I0)(),C=(0,s.fQ)().getLink,y=(0,u.v9)((function(e){return e.config.ui.features})),b=f((0,o.useState)(""),2),O=b[0],P=b[1],R=f((0,o.useState)(0),2),A=R[0],I=R[1],M=f((0,o.useState)(c.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),w=M[0],N=M[1],_=f((0,o.useState)({}),2),L=_[0],T=_[1],x=f((0,o.useState)(void 0),1)[0],k=f((0,o.useState)([]),1)[0],j=f((0,o.useState)(!1),2),F=j[0],$=j[1],D=f((0,o.useState)(void 0),1)[0],Q=f((0,o.useState)(!1),1)[0],V=f((0,o.useState)(!1),2),z=V[0],G=V[1];(0,o.useEffect)((function(){S&&T(S)}),[S]),(0,o.useEffect)((function(){p(d.UsersConstants.CONSUMER_DESCRIPTION_SHOWN_STATUS_KEY)&&G(!0)}),[]),(0,o.useEffect)((function(){r(w,A,null==O||""==O?null:O,null,d.CONSUMER_USERSTORE)}),[A,w]);var Y=function(e){"userName sw "!==e?(P(e),r(w,1,e,null,d.CONSUMER_USERSTORE)):r(w,1,null,null,d.CONSUMER_USERSTORE)},Z=function(){G(!1),v(d.UsersConstants.CONSUMER_DESCRIPTION_SHOWN_STATUS_KEY)};return o.createElement(o.Fragment,null,z&&o.createElement("div",{className:"mt-3 mb-6"},o.createElement(s.v0,{onDismiss:Z,content:o.createElement(o.Fragment,null,o.createElement(s.xv,{className:"message-info-text"},o.createElement(o.Fragment,null,E("extensions:manage.users.descriptions.consumerUser"),o.createElement(s.eb,{link:C("manage.users.customerAccounts.learnMore")},E("extensions:common.learnMore")))))})),o.createElement(s.PS,{advancedSearch:o.createElement(c.nC,{onFilter:Y,filterAttributeOptions:[{key:0,text:E("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:E("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:E("console:manage.features.users.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("console:manage.features.users.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("console:manage.features.users.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:E("console:manage.features.users.advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:F}),currentListSize:L.itemsPerPage,listItemLimit:w,onItemsPerPageDropdownChange:function(e,t){N(t.value)},"data-testid":"user-mgt-user-list-layout",onPageChange:function(e,t){I((t.activePage-1)*w+1)},showPagination:!0,showTopActionPanel:t||!(!O&&!Q&&k.length<3&&(null==L?void 0:L.totalResults)<=0),totalPages:Math.ceil(L.totalResults/w),totalListSize:L.totalResults,paginationOptions:{disableNextButton:!h}},Q?o.createElement(s.$J,{subtitle:[E("console:manage.features.users.placeholders.userstoreError.subtitles.0"),E("console:manage.features.users.placeholders.userstoreError.subtitles.1")],title:E("console:manage.features.users.placeholders.userstoreError.title"),image:(0,c.jF)().genericError,imageSize:"tiny"}):o.createElement(i.UsersList,{advancedSearch:o.createElement(c.nC,{onFilter:Y,filterAttributeOptions:[{key:0,text:E("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:E("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"},{key:2,text:"First Name",value:"name.givenName"},{key:3,text:"Last Name",value:"name.familyName"}],filterAttributePlaceholder:E("console:manage.features.users.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("console:manage.features.users.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("console:manage.features.users.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:E("console:manage.features.users.advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:F}),usersList:L,handleUserDelete:function(e){return(0,m.h8)(e).then((function(){var e;e={description:E("console:manage.features.users.notifications.deleteUser.success.description"),level:n.QU.SUCCESS,message:E("console:manage.features.users.notifications.deleteUser.success.message")},U((0,a.V_)(e)),r(w,A,null,null,d.CONSUMER_USERSTORE),r(w,A,null,null,null)}))},userMetaListContent:x,isLoading:t,onEmptyListPlaceholderActionClick:function(){return g()},onSearchQueryClear:function(){$(!F),P(""),r(w,1,null,null,d.CONSUMER_USERSTORE)},searchQuery:O,"data-testid":"user-mgt-user-list",readOnlyUserStores:D,featureConfig:y,userEditPath:d.UsersConstants.getPaths().get("CONSUMER_USERS_EDIT_PATH")})))};g.defaultProps={"data-testid":"users"};const h=g},2202:(e,t,r)=>{r.r(t),r.d(t,{EditConsumerUser:()=>p});var n=r(90268),a=r(81816),s=r(52983),o=r(9202),l=r(54221),u=r(45147),i=r(5910),c=r(28758),m=r(18103),d=r(10758),f=r(67680),S=r(99839);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,o,l=[],u=!0,i=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){i=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t,r,h=e.user,p=e.handleUserUpdate,v=e.isUserProfileLoading,E=e.isReadOnly,U=e.isReadOnlyUserStore,C=e.connectorProperties,y=(0,o.$)().t,b=(0,l.I0)(),O=(0,d.Z)(),P=O.activeTab,R=O.updateActiveTab,A=g((0,s.useState)(void 0),2),I=A[0],M=A[1],w=(0,c.Ug)(null!==(t=h[f.SCIMConfigs.scim.enterpriseSchema])&&void 0!==t&&t.userSource?null===(r=h[f.SCIMConfigs.scim.enterpriseSchema])||void 0===r?void 0:r.userSource:S.CONSUMER_USERSTORE,"members"),N=w.data,_=w.error;(0,s.useEffect)((function(){(null==N?void 0:N.totalResults)>0&&M(null==N?void 0:N.Resources)}),[N]);var L,T,x=function(e){b((0,n.V_)(e))};return s.createElement(a.M$,{activeIndex:P,onTabChange:function(e,t){R(t.activeIndex)},panes:!((null==I?void 0:I.length)>0)||null!==(L=h[f.SCIMConfigs.scim.enterpriseSchema])&&void 0!==L&&L.userSourceId||_?[{menuItem:y("console:manage.features.users.editUser.tab.menuItems.0"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(i.ConsumerUserProfile,{isUserProfileLoading:v,onAlertFired:x,user:h,handleUserUpdate:p,isReadOnly:E,isReadOnlyUserStore:U,connectorProperties:C}))}},null!==(T=h[f.SCIMConfigs.scim.enterpriseSchema])&&void 0!==T&&T.userSourceId||window.AppUtils.getConfig().organizationName?null:{menuItem:y("console:manage.features.users.editUser.tab.menuItems.3"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(m.Y,{user:h}))}}]:[{menuItem:y("console:manage.features.users.editUser.tab.menuItems.0"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(i.ConsumerUserProfile,{isUserProfileLoading:v,onAlertFired:x,user:h,handleUserUpdate:p,isReadOnly:E,isReadOnlyUserStore:U,connectorProperties:C}))}},{menuItem:y("console:manage.features.users.editUser.tab.menuItems.1"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(u.ConsumerUserGroupsList,{onAlertFired:x,user:h,handleUserUpdate:p,isReadOnly:E,primaryGroups:I}))}},{menuItem:y("console:manage.features.users.editUser.tab.menuItems.3"),render:function(){return s.createElement(a.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(m.Y,{user:h}))}}]})}},63947:(e,t,r)=>{r.r(t),r.d(t,{ChangePasswordComponent:()=>l.ChangePasswordComponent,ConsumerUserGroupsList:()=>o.ConsumerUserGroupsList,ConsumerUserProfile:()=>s.ConsumerUserProfile,EditConsumerUser:()=>a.EditConsumerUser,UsersList:()=>n.UsersList});var n=r(59957),a=(r(8763),r(2202)),s=r(5910),o=r(45147),l=r(30967)},89469:(e,t,r)=>{r.d(t,{Z:()=>a});var n=(0,r(52983).createContext)(null);n.displayName="UserManagementContext";const a=n},10758:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(52983),a=r(89469);const s=function(){var e=(0,n.useContext)(a.Z);if(!e)throw new Error("useUserManagement must be used within a UserManagementProvider");return e}}}]);