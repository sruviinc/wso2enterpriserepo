/*! For license information please see 47007.ed9b3862.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[47007],{25258:(e,t,n)=>{"use strict";n.d(t,{jw:()=>F,u4:()=>Wt,DU:()=>St,XH:()=>ft,yM:()=>At});var o=n(31092),i=n(90009),a=n(83374),r=n(14603),l=n(59206),c=n(81816),s=n(67127),u=n(52983),d=n(9202),p=n(54221),m=n(94635),f=n(75917),v=n(91478),g=n(30640),b=n(16782),h=n(50274),y=n(62132),E=n.n(y),S=n(27899),C=n.n(S),O=n(76569),I=n.n(O),A=n(34753),w=n.n(A),T=n(93598),L=n.n(T),N=n(46244),R=n.n(N),Z=n(78536),P=n.n(Z),k={};k.styleTagTransform=R(),k.setAttributes=w(),k.insert=I().bind(null,"head"),k.domAPI=C(),k.insertStyleElement=L();E()(P(),k);P()&&P().locals&&P().locals;function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var M="application-advanced-configuration-form",F=function(e){var t,n,y,E,S,C,O,I,A,w=e.config,T=e.onSubmit,L=e.readOnly,N=e.template,R=e.isSubmitting,Z=e.onAlertFired,P=e["data-testid"],k=(0,d.$)().t,x=(0,i.Z)().UIConfig,F=(0,p.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.features})),D=(0,a.cr)(null==F?void 0:F.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_NATIVE_AUTHENTICATION")),W=(0,u.useRef)(null),_=U((0,u.useState)(null==w?void 0:w.enableAPIBasedAuthentication),2),j=_[0],Q=_[1],B=U((0,u.useState)(null==w||null===(t=w.attestationMetaData)||void 0===t?void 0:t.enableClientAttestation),2),V=B[0],G=B[1],H=U((0,u.useState)(!1),2),z=H[0],X=H[1],Y=function(e){var t;try{(0,s.Z)(e.androidAttestationServiceCredentials)||(t=JSON.parse(e.androidAttestationServiceCredentials))}catch(i){return void Z({description:"Unable to update the application configuration",level:r.QU.ERROR,message:k("Improper JSON format for Android Attestation Service Credentials")})}var n=!!e.enableAPIBasedAuthentication&&e.enableClientAttestation,o={advancedConfigurations:{attestationMetaData:{androidAttestationServiceCredentials:t,androidPackageName:e.androidPackageName,appleAppId:e.appleAppId,enableClientAttestation:n},enableAPIBasedAuthentication:!!e.enableAPIBasedAuthentication,enableAuthorization:!!e.enableAuthorization,returnAuthenticatedIdpList:!!e.returnAuthenticatedIdpList,saas:!!e.saas,skipLoginConsent:!!e.skipConsentLogin,skipLogoutConsent:!!e.skipConsentLogout}};!v.applicationConfig.advancedConfigurations.showSaaS&&delete o.advancedConfigurations.saas,!v.applicationConfig.advancedConfigurations.showEnableAuthorization&&delete o.advancedConfigurations.enableAuthorization,!v.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs&&delete o.advancedConfigurations.returnAuthenticatedIdpList,T(o)},J=!j,q=!V||J,K=function(){return X(J)};return u.createElement(l.l0,{id:M,uncontrolledForm:!0,ref:W,validate:function(e){var t,n,o,i,a={androidAttestationServiceCredentials:void 0,androidPackageName:void 0};return null!==(t=e.androidPackageName)&&void 0!==t&&t.toString().trim()||null===(n=e.androidAttestationServiceCredentials)||void 0===n||!n.toString().trim()?null===(o=e.androidPackageName)||void 0===o||!o.toString().trim()||null!==(i=e.androidAttestationServiceCredentials)&&void 0!==i&&i.toString().trim()||(a.androidAttestationServiceCredentials=k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.validations.empty")):a.androidPackageName=k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.validations.empty"),a},validateOnBlur:!1,onSubmit:function(e){Y(e)}},u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Saas application",name:"saas",label:k("console:develop.features.applications.forms.advancedConfig.fields.saas.label"),required:!1,value:null!=w&&w.saas?["saas"]:[],readOnly:L,"data-testid":"".concat(P,"-sass-checkbox"),"data-componentid":"".concat(P,"-sass-checkbox"),hint:k("console:develop.features.applications.forms.advancedConfig.fields.saas.hint"),hidden:!(null!=x&&null!==(n=x.legacyMode)&&void 0!==n&&n.saasApplications&&v.applicationConfig.advancedConfigurations.showSaaS)}),u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Skip consent login",name:"skipConsentLogin",label:k("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.label"),required:!1,value:null!=w&&w.skipLoginConsent?["skipLoginConsent"]:[],readOnly:L,"data-testid":"".concat(P,"-skip-login-consent-checkbox"),"data-componentid":"".concat(P,"-skip-login-consent-checkbox"),hint:k("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.hint")}),(null==h?void 0:h.id)!==(null==N?void 0:N.id)&&u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Skip consent logout",name:"skipConsentLogout",label:k("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.label"),required:!1,value:null!=w&&w.skipLogoutConsent?["skipLogoutConsent"]:[],readOnly:L,"data-testid":"".concat(P,"-skip-logout-consent-checkbox"),"data-componentid":"".concat(P,"-skip-logout-consent-checkbox"),hint:k("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.hint")}),u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Return authenticated IDP list",name:"returnAuthenticatedIdpList",label:k("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.label"),required:!1,value:null!=w&&w.returnAuthenticatedIdpList?["returnAuthenticatedIdpList"]:[],readOnly:L,"data-testid":"".concat(P,"-return-authenticated-idp-list-checkbox"),"data-componentid":"".concat(P,"-return-authenticated-idp-list-checkbox"),hidden:!v.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs,hint:k("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.hint")}),u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Enable authorization",name:"enableAuthorization",label:k("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.label"),required:!1,value:null!=w&&w.enableAuthorization?["enableAuthorization"]:[],readOnly:L,"data-testid":"".concat(P,"-enable-authorization-checkbox"),"data-componentid":"".concat(P,"-enable-authorization-checkbox"),hidden:!v.applicationConfig.advancedConfigurations.showEnableAuthorization||!(null!=x&&x.isXacmlConnectorEnabled),hint:k("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.hint")}),(D&&(null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION||(null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION_OIDC||(null==N?void 0:N.id)===b.jo.MOBILE||(null==N?void 0:N.id)===b.jo.TEMPLATE_IDS.get("oidcWeb"))&&u.createElement(u.Fragment,null,u.createElement(m.Z,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},"Application native authentication"),J&&z&&u.createElement(o.Z,{severity:"info",className:"client-attestation-info-alert"},k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.alerts.clientAttestation")),u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Enable apiBasedAuthentication",name:"enableAPIBasedAuthentication",label:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableAPIBasedAuthentication.label"),required:!1,readOnly:L,value:j?["enableAPIBasedAuthentication"]:[],listen:function(e){Q(e),X(!e&&V)},"data-testid":"".concat(P,"-enable-api-based-authentication"),"data-componentid":"".concat(P,"-enable-api-based-authentication"),hidden:!v.applicationConfig.advancedConfigurations.showEnableAuthorization,hint:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableAPIBasedAuthentication.hint")}))),((null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION||(null==N?void 0:N.id)===b.jo.CUSTOM_APPLICATION_OIDC||(null==N?void 0:N.id)===b.jo.MOBILE)&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1,onClick:K},u.createElement(m.Z.Column,null,u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Enable attestation",name:"enableClientAttestation",label:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableClientAttestation.label"),required:!1,readOnly:L,value:null!=w&&null!==(y=w.attestationMetaData)&&void 0!==y&&y.enableClientAttestation?["enableClientAttestation"]:[],listen:G,"data-testid":"".concat(P,"-enable-client-attestation"),"data-componentid":"".concat(P,"-enable-api-based-authentication"),disabled:J,hint:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableClientAttestation.hint")}))),u.createElement(m.Z.Row,{columns:1,onClick:K},u.createElement(m.Z.Column,null,u.createElement(c.X6,{as:"h5",bold:"500"},u.createElement(c.dn,{size:"micro",icon:(0,g.r2)().android,verticalAlign:"middle",floated:"left"}),k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.heading")),u.createElement(l.gN.Input,{ariaLabel:"Android package name",inputType:"default",name:"androidPackageName",label:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.label"),required:!1,readOnly:L,value:null!==(E=null==w||null===(S=w.attestationMetaData)||void 0===S?void 0:S.androidPackageName)&&void 0!==E?E:"",placeholder:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.placeholder"),hint:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidPackageName.hint"),maxLength:200,minLength:3,width:16,"data-testid":"".concat(P,"-client-attestation-android-package-name"),"data-componentid":"".concat(P,"-client-attestation-android-package-name"),disabled:q}))),u.createElement(m.Z.Row,{columns:1,onClick:K},u.createElement(m.Z.Column,null,u.createElement(l.gN.Textarea,{ariaLabel:"Android service account credentials",inputType:"description",name:"androidAttestationServiceCredentials",label:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.label"),placeholder:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.placeholder"),value:null!=w&&null!==(C=w.attestationMetaData)&&void 0!==C&&C.androidAttestationServiceCredentials?[JSON.stringify(null==w||null===(O=w.attestationMetaData)||void 0===O?void 0:O.androidAttestationServiceCredentials,null,4)]:[],hint:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.android.fields.androidAttestationServiceCredentials.hint"),type:"text",maxLength:5e3,minLength:30,width:16,"data-testid":"".concat(P,"-client-attestation-android-account-credentials"),"data-componentid":"".concat(P,"-client-attestation-android-account-credentials"),disabled:q,readOnly:L}))),u.createElement(m.Z.Row,{columns:1,onClick:K},u.createElement(m.Z.Column,null,u.createElement(c.X6,{as:"h5",bold:"500"},u.createElement(c.dn,{size:"micro",icon:(0,g.r2)().apple,floated:"left",verticalAlign:"middle"}),k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.heading")),u.createElement(l.gN.Input,{ariaLabel:"Apple App Id",inputType:"default",name:"appleAppId",label:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.fields.appleAppId.label"),required:!1,placeholder:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.fields.appleAppId.placeholder"),value:null!==(I=null==w||null===(A=w.attestationMetaData)||void 0===A?void 0:A.appleAppId)&&void 0!==I?I:"",hint:k("console:develop.features.applications.forms.advancedConfig.sections.applicationNativeAuthentication.fields.apple.fields.appleAppId.hint"),maxLength:200,minLength:3,width:16,"data-testid":"".concat(P,"-client-attestation-apple=app=id"),"data-componentid":"".concat(P,"-client-attestation-apple=app=id"),disabled:q,readOnly:L})))))),u.createElement(l.gN.Button,{form:M,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(P,"-submit-button"),"data-componentid":"".concat(P,"-submit-button"),disabled:R,loading:R,hidden:L,label:k("common:update")}))};F.defaultProps={"data-testid":"application-advanced-configurations-form"};var D=n(96433),W=n(90268),_=n(83831),j=n(13318),Q=n(53337),B=n(88171),V=n(87089),G=n(48684),H=n(21921),z=["certificate","data-testid"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var J=function(e){var t=e.certificate,n=e["data-testid"],o=Y(e,z),i=(0,d.$)().t,a=u.createElement(G.Z,{className:"certificate","data-testid":n},u.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",D.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return u.createElement("span",{key:"".concat(e,"+").concat(t)},u.createElement(c.EK,null,e),"\xa0")}))," key algorithms. Support for ",u.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return u.createElement(H.Z,X({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},o),u.createElement(H.Z.Header,null,u.createElement("div",{className:"certificate-ribbon"},u.createElement(c.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,g._5)().ribbon}),u.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&_.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),u.createElement("br",null),u.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==t?void 0:t.serialNumber))),u.createElement(H.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:u.createElement(c.KB,{certificate:t,labels:{issuerDN:i("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:i("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:i("console:manage.features.certificates.keystore.summary.validFrom"),validTill:i("console:manage.features.certificates.keystore.summary.validTill"),version:i("console:manage.features.certificates.keystore.summary.version")}})))};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}J.defaultProps={"data-testid":"certificate-form-field-modal"};var ee=function(e){var t=e.certificate,n=e.metadata,o=e.initialValues,i=e.onSubmit,a=e.readOnly,l=e.isLoading,v=e["data-testid"],g=(0,d.$)().t,h=(0,p.I0)(),y=q((0,u.useState)(!1),2),E=y[0],S=y[1],C=q((0,u.useState)(!1),2),O=C[0],I=C[1],A=q((0,u.useState)(void 0),2),w=A[0],T=A[1],L=q((0,u.useState)(null),2),N=L[0],R=L[1];(0,u.useEffect)((function(){V.el.PEM===(null==t?void 0:t.type)&&(S(!0),null!=t&&t.value&&T(t.value))}),[t]);var Z=function(){if(n){var e=null==n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=o.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:g("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:P(null==e?void 0:e.availableValues),"data-testid":"".concat(v,"-").concat(null==e?void 0:e.name,"-dropdown")}))):null!=e&&e.isConfidential?u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:g("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:g("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:g("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:g("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(v,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===V.og.BOOLEAN?u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:g("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(v,"-").concat(null==e?void 0:e.name,"-checkbox")}))):u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:g("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:g("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===V.og.INTEGER?"number":"text","data-testid":"".concat(v,"-").concat(null==e?void 0:e.name,"-input")})))}(e,t)}))}},P=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},k=function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(i.s();!(t=i.n()).done;){var a=q(t.value,2),r=a[0],l=a[1],c=void 0;c=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(c)}}catch(s){i.e(s)}finally{i.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:E?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null==o?void 0:o.configName,name:null==o?void 0:o.name,properties:[].concat(n)}}};(0,u.useEffect)((function(){n&&Z()}),[n]);return u.createElement(j.Es,{onSubmit:function(e){i(k(e))}},u.createElement(m.Z,null,Z(),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null)),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},g("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),u.createElement(j.gN,{label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:V.el.JWKS,listen:function(e){S("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:V.el.JWKS},{label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:V.el.PEM}],readOnly:a,"data-testid":"".concat(v,"-certificate-type-radio-group")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},E?u.createElement(u.Fragment,null,u.createElement(j.gN,{name:"certificateValue",label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:b.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:V.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){T(e.get("certificateValue"))},readOnly:a,"data-testid":"".concat(v,"-certificate-textarea")}),u.createElement(c.kW,null,g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),u.createElement(c.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),E&&w&&((t=_.CertificateManagementUtils.canSafelyParseCertificate(w)?_.CertificateManagementUtils.displayCertificate(null,w):D.lu.DUMMY_DISPLAY_CERTIFICATE)?(R(t),I(!0)):h((0,W.V_)({description:g("console:common.notifications.invalidPEMFile.genericError.description"),level:r.QU.ERROR,message:g("console:common.notifications.invalidPEMFile.genericError.message")})))},disabled:(0,s.Z)(w),"data-testid":"".concat(v,"-certificate-info-button")},g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):u.createElement(u.Fragment,null,u.createElement(j.gN,{name:"jwksValue",label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:V.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:a,"data-testid":"".concat(v,"-jwks-input")})))),O&&u.createElement(J,{open:O,certificate:N,onClose:function(){I(!1)}}),!a&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:l,disabled:l},g("common:update"))))))};ee.defaultProps={"data-testid":"inbound-custom-protocol-form"};var te=n(17),ne=n(99285),oe=n(80254),ie=n(39990),ae=n(10594),re=n(73949),le=n(16029),ce=n(71325),se=n(85833),ue=n(11542),de=n(5163),pe=n(18606),me=n(61375),fe=n(1473),ve=n(41780),ge=n(45690),be=n(23865),he=n(22806),ye=n(6901),Ee=n.n(ye),Se=n(74691);function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ie=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,o=e.setShowFinishButton,i=e["data-testid"],a=Ce((0,u.useState)(""),2),r=a[0],l=a[1],c=Ce((0,u.useState)(""),2),s=c[0],d=c[1],p=Ce((0,u.useState)(""),2),f=p[0],v=p[1],b=Ce((0,u.useState)(null),2),h=b[0],y=b[1],E=Ce((0,u.useState)(null),2),S=E[0],C=E[1],O=Ce((0,u.useState)(""),2),I=O[0],A=O[1];(0,u.useEffect)((function(){""!==I&&n(I)}),[I]);var w=function(e,t,n,o,i,a){l(t),v(n),d(o),y(i),C(a),A(btoa(_.CertificateManagementUtils.enclosePem(e.certificate)))};return u.createElement(u.Fragment,null,u.createElement(j.Es,{"data-testid":"".concat(i,"-form")},u.createElement(m.Z,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(g.e,{submit:w,triggerSubmit:t,pemData:f,nameData:r,fileDecodedData:s,fileData:h,forgeCertificateData:S,"data-testid":"".concat(i,"-upload"),hideAliasInput:!0,setShowFinishButton:o}))))))};Ie.defaultProps={"data-testid":"add-application-certificate-form"};var Ae=n(91303);function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Le=function(e){var t=e.closeWizard,n=e.currentStep,o=e.updatePEMValue,i=e["data-testid"],a=(0,d.$)().t,r=we((0,j.cC)(),2),l=r[0],s=r[1],p=we((0,j.cC)(),2),f=p[0],v=p[1],g=we((0,u.useState)(void 0),1)[0],b=we((0,u.useState)(n),2),h=b[0],y=b[1],E=we((0,u.useState)(!1),2),S=E[0],C=E[1],O=we((0,c.IK)(),3),I=O[0],A=O[2];(0,u.useEffect)((function(){void 0!==g&&y(h-1)}),[g]);var w=[{content:u.createElement(Ie,{triggerCertificateUpload:f,triggerSubmit:l,onSubmit:function(e){!function(e){o(e),t()}(e)},setShowFinishButton:C}),icon:(0,Ae.ot)().general,title:a("console:manage.features.certificates.keystore.wizard.steps.upload")}];return u.createElement(H.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":i,closeOnDimmerClick:!1,closeOnEscape:!0},u.createElement(H.Z.Header,{className:"wizard-header"},a("console:develop.features.applications.wizards.applicationCertificateWizard.heading"),u.createElement(c.X6,{as:"h6"},a("console:develop.features.applications.wizards.applicationCertificateWizard.subHeading"))),u.createElement(H.Z.Content,{className:"content-container",scrolling:!0},I&&A,w[h].content),u.createElement(H.Z.Actions,null,u.createElement(m.Z,null,u.createElement(m.Z.Row,{column:1},u.createElement(m.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(c.Qj,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(i,"-cancel-button")},a("common:cancel"))),u.createElement(m.Z.Column,{mobile:8,tablet:8,computer:8},h===w.length-1&&u.createElement(c.KM,{disabled:!S,floated:"right",onClick:function(){if(0===h)v(),s()},"data-testid":"".concat(i,"-finish-button")},a("common:finish")))))))};Le.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var Ne=n(61133);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ze(){Ze=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(o||[]);return i(r,"_invoke",{value:w(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function h(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(Z([])));C&&C!==n&&o.call(C,r)&&(E=C);var O=y.prototype=b.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,r,l){var c=d(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Re(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,o){var i=p;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw r;return{value:e,done:!0}}for(o.method=a,o.arg=r;;){var l=o.delegate;if(l){var c=T(l,o);if(c){if(c===g)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var s=d(t,n,o);if("normal"===s.type){if(i=o.done?v:m,s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(i=v,o.method="throw",o.arg=s.arg)}}}function T(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Re(t)+" is not iterable")}return h.prototype=y,i(O,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},I(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new A(u(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},I(O),s(O,c,"Generator"),s(O,r,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:Z(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Re(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Re(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t,n,o,i,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(o,i)}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var De=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,i=e.application,a=e.applicationCertificate,l=e.updatePEMValue,s=e["data-testid"],v=(0,d.$)().t,b=(0,p.I0)(),h=Me((0,u.useState)(null),2),y=h[0],E=h[1],S=Me((0,u.useState)(!1),2),C=S[0],O=S[1],I=Me((0,u.useState)(null),2),A=I[0],w=I[1],T=Me((0,u.useState)(!1),2),L=T[0],N=T[1],R=Me((0,u.useState)(!1),2),Z=R[0],P=R[1],k=Me((0,u.useState)(!1),2),U=k[0],x=k[1];(0,u.useEffect)((function(){if(a){var e=[];_.CertificateManagementUtils.canSafelyParseCertificate(a)?null==e||e.push(_.CertificateManagementUtils.displayCertificate(null,a)):null==e||e.push(D.lu.DUMMY_DISPLAY_CERTIFICATE),E(e)}}),[a]),(0,u.useEffect)((function(){A&&O(!0)}),[A]),(0,u.useEffect)((function(){C||w(null)}),[C]);var M=function(e){w(e)},F=function(){var e,t=(e=Ze().mark((function e(){var t;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),l(""),E(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:V.el.PEM,value:""}}}},e.next=8,(0,Ne.hN)(ke({id:null==i?void 0:i.id},t.general));case 8:b((0,W.V_)({description:v("console:develop.features.applications.notifications.deleteCertificateSuccess.description"),level:r.QU.SUCCESS,message:v("console:develop.features.applications.notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return b((0,W.V_)({description:e.t0.response.data.description,level:r.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:b((0,W.V_)({description:v("console:develop.features.applications.notifications.deleteCertificateGenericError.description"),level:r.QU.ERROR,message:v("console:develop.features.applications.notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,P(!1),x(!1),o(i.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){xe(a,o,i,r,l,"next",e)}function l(e){xe(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),Q=u.createElement(c.cV,{onClose:function(){return P(!1)},onSecondaryActionClick:function(){return P(!1)},primaryActionLoading:U,onPrimaryActionClick:F,open:Z,type:"negative",primaryAction:v("console:develop.features.applications.confirmations.certificateDelete.primaryAction"),secondaryAction:v("console:develop.features.applications.confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(s,"-delete-confirmation-modal"),closeOnDimmerClick:!1},u.createElement(c.cV.Header,{"data-testid":"".concat(s,"-delete-confirmation-modal-header")},v("console:develop.features.applications.confirmations.certificateDelete.header")),u.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(s,"-delete-confirmation-modal-message")},v("console:develop.features.applications.confirmations.certificateDelete.message"))),B=function(e,t,n){var o,i,a=Ee()(t);switch(_.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case r.WE.VALID:o="check circle",i="green";break;case r.WE.WILL_EXPIRE_SOON:o="exclamation circle",i="yellow";break;default:o="times circle",i="red"}return u.createElement(u.Fragment,null,n+D.lu.SPACE_CHARACTER,u.createElement(c.GI,{trigger:u.createElement(Se.Z,{name:o,color:i}),content:"Expiry date: "+a.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},H=function(e){return u.createElement(c.Yt,{name:null!=e&&e.infoUnavailable?D.lu.QUESTION_MARK:_.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},z=function(e){return u.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",u.createElement(c.GI,{trigger:u.createElement(Se.Z,{onClick:function(){return M(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return u.createElement(j.Es,null,y?u.createElement(m.Z,null,u.createElement(m.Z.Row,null,u.createElement(m.Z.Column,{width:16},u.createElement(f.Z,{hidden:!0}),u.createElement(c.Db,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:g.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==y?void 0:y.map((function(e,o){return u.createElement(c.zA,{key:o,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(s,"-edit-cert-").concat(o,"-button"),icon:"pencil",onClick:function(){return N(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(s,"-edit-cert-").concat(o,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return M(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(s,"-delete-cert-").concat(o,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return P(!0)},popupText:t?v("console:manage.features.users.usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:H(e),itemHeader:null!=e&&e.infoUnavailable?z(e):B(e.validFrom,e.validTill,_.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:_.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):u.createElement(m.Z,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{width:16},u.createElement(f.Z,{hidden:!0}),u.createElement(G.Z,null,u.createElement(c.$J,{title:v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,g.jF)().emptyList,subtitle:[v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:u.createElement(c.KM,{onClick:function(){return N(!0)},"data-testid":"".concat(s,"-emptyPlaceholder-add-certificate-button"),type:"button"},u.createElement(Se.Z,{name:"add"}),v("console:develop.features.authenticationProvider.buttons.addCertificate")),"data-testid":"".concat(s,"-empty-placeholder")})),u.createElement(f.Z,{hidden:!0})))),L&&u.createElement(Le,{closeWizard:function(){return N(!1)},updatePEMValue:l,"data-testid":"".concat(s,"-add-certificate-wizard")}),Q,C&&u.createElement(J,{open:C,certificate:A,onClose:function(){return O(!1)}}))};function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}De.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var je=function(e){var t=e.protocol,n=e.deleteAllowed,o=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,a=e.application,l=e.certificate,g=e.triggerSubmit,b=e.hidden,h=e.hideJWKS,y=e.readOnly,E=e.updateCertFinalValue,S=e.updateCertType,C=e.canDiscardCertificate,O=e["data-testid"],I=(0,d.$)().t,A=(0,p.I0)(),w=We((0,u.useState)(!1),2),T=w[0],L=w[1],N=We((0,u.useState)(V.el.NONE),2),R=N[0],Z=N[1],P=We((0,u.useState)(void 0),2),k=P[0],U=P[1],x=We((0,u.useState)(void 0),2),M=x[0],F=x[1],D=We((0,u.useState)(!1),2),B=D[0],G=D[1],H=We((0,u.useState)(!1),2),z=H[0],X=H[1],Y=We((0,u.useState)(!1),2),J=Y[0],q=Y[1];(0,u.useEffect)((function(){null!=l&&l.type&&Z(null==l?void 0:l.type)}),[l]),(0,u.useEffect)((function(){V.el.PEM===R?(E(k),(0,s.Z)(k)||L(!1)):V.el.JWKS===R&&E(M)}),[k,M]),(0,u.useEffect)((function(){V.el.PEM===(null==l?void 0:l.type)?null!=l&&l.value&&U(l.value):V.el.JWKS===(null==l?void 0:l.type)&&null!=l&&l.value&&F(l.value)}),[l]),(0,u.useEffect)((function(){K(R),V.el.PEM===R?F(""):V.el.JWKS===R&&U("")}),[R]),(0,u.useEffect)((function(){(null==a?void 0:a.templateId)===V.u.M2M_APPLICATION&&q(!0)}),[a]);var K=function(e){e!==V.el.PEM||(0,s.Z)(M)?e!==V.el.JWKS||(0,s.Z)(k)||A((0,W.V_)({description:I("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.description"),level:r.QU.WARNING,message:I("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.message")})):A((0,W.V_)({description:I("console:develop.features.authenticationProvider.notifications.changeCertType.pem.description"),level:r.QU.WARNING,message:I("console:develop.features.authenticationProvider.notifications.changeCertType.pem.message")})),R===V.el.NONE&&l?X(!0):X(!1),S(e)};return b?null:u.createElement(j.Es,{onSubmit:function(){K(R),R===V.el.PEM&&(0,s.Z)(k)&&L(!0)},submitState:g},u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null)),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},I("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),u.createElement(j.gN,{label:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:R,listen:function(e){Z(e.get("certificateType")),K(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(V.el.NONE===n&&C&&!C())||(G(!0),!1)},type:"radio",value:null==l?void 0:l.type,children:h?[{label:"None",value:V.el.NONE},{hint:{content:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:V.el.PEM}]:[{label:"None",value:V.el.NONE},{hint:{content:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:V.el.JWKS},{hint:{content:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:V.el.PEM}],readOnly:y,"data-testid":"".concat(O,"-certificate-type-radio-group")}),z&&u.createElement(c.v0,{"data-componentid":"application-certificate-removal-warning-message",type:"warning",header:"Warning",content:u.createElement(u.Fragment,null,I("console:develop.features.applications.forms.inboundSAML.sections.certificates.certificateRemoveConfirmation.content"))}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},R===V.el.PEM&&u.createElement(De,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:o,onUpdate:i,application:a,updatePEMValue:function(e){U(e)},applicationCertificate:k}),R===V.el.JWKS&&!h&&u.createElement(j.gN,{name:"jwksValue",displayErrorOn:"blur",label:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:V.el.JWKS===R,requiredErrorMessage:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==v.commonConfig&&void 0!==v.commonConfig&&v.commonConfig.blockLoopBackCalls&&_.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(I("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},listen:function(e){F(e.get("jwksValue"))},value:V.el.JWKS===(null==l?void 0:l.type)&&(null==l?void 0:l.value),readOnly:y,"data-testid":"".concat(O,"-jwks-input")}),T&&(0,s.Z)(k)&&V.el.PEM===R&&u.createElement(c.v0,{type:"error","data-testid":"".concat(O,"-error-message"),content:I("console:manage.features.certificates.keystore.errorEmpty")}),t&&!J&&u.createElement(c.kW,null,function(e){switch(e){case V.AI.OAUTH2_OIDC:case V.AI.OIDC:return u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",u.createElement(c.EK,null,"id_token"),"returned after the authentication.");case V.AI.SAML:return I("console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customSaml");case V.AI.WS_FEDERATION:return I("console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customPassiveSTS");default:return null}}(t)))),B&&u.createElement(c.cV,{onClose:function(){return G(!1)},type:"negative",open:B,primaryAction:I("common:okay"),onPrimaryActionClick:function(){G(!1)},closeOnDimmerClick:!1},u.createElement(c.cV.Header,{"data-testid":"".concat(O,"-invalid-operation-modal-header")},I("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.header")),u.createElement(c.cV.Content,{"data-testid":"".concat(O,"-invalid-operation-modal-content")},I("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Be(){Be=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(o||[]);return i(r,"_invoke",{value:w(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function h(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(Z([])));C&&C!==n&&o.call(C,r)&&(E=C);var O=y.prototype=b.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,r,l){var c=d(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Qe(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,o){var i=p;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw r;return{value:e,done:!0}}for(o.method=a,o.arg=r;;){var l=o.delegate;if(l){var c=T(l,o);if(c){if(c===g)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var s=d(t,n,o);if("normal"===s.type){if(i=o.done?v:m,s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(i=v,o.method="throw",o.arg=s.arg)}}}function T(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Qe(t)+" is not iterable")}return h.prototype=y,i(O,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},I(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new A(u(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},I(O),s(O,c,"Generator"),s(O,r,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:Z(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Ve(e,t,n,o,i,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(o,i)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Ve(a,o,i,r,l,"next",e)}function l(e){Ve(a,o,i,r,l,"throw",e)}r(void 0)}))}}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Qe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}je.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var $e=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.metadata,a=e.initialValues,l=e.onSubmit,g=e.onApplicationRegenerate,h=e.onApplicationRevoke,y=e.readOnly,E=e.allowedOriginList,S=e.tenantDomain,C=e.template,O=e.isLoading,I=e.setIsLoading,A=e.containerRef,w=e.isDefaultApplication,T=e.isSystemApplication,L=e["data-testid"],N=(0,d.$)().t,R=(0,p.I0)(),Z=(0,p.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),P=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),k=(0,p.v9)((function(e){return e.organization.organization})),U=a.isFAPIApplication,x=Je((0,u.useState)(!1),2),M=x[0],F=x[1],D=Je((0,u.useState)(!1),2),G=D[0],H=D[1],z=Je((0,u.useState)(""),2),X=z[0],Y=z[1],J=Je((0,u.useState)(""),2),q=J[0],K=J[1],$=Je((0,u.useState)(!1),2),ee=$[0],ye=$[1],Ee=Je((0,u.useState)(!1),2),Se=Ee[0],Ce=Ee[1],Oe=Je((0,u.useState)(!1),2),Ie=Oe[0],Ae=Oe[1],we=Je((0,u.useState)(void 0),2),Te=we[0],Le=we[1],Ne=Je((0,u.useState)(void 0),2),Re=Ne[0],Ze=Ne[1],Pe=Je((0,u.useState)(!1),2),ke=Pe[0],Ue=Pe[1],xe=Je((0,u.useState)(void 0),2),Me=xe[0],Fe=xe[1],De=Je((0,u.useState)(!1),2),We=De[0],_e=De[1],Qe=Je((0,u.useState)(!1),2),Ve=Qe[0],He=Qe[1],Xe=Je((0,u.useState)(!1),2),Ke=Xe[0],$e=Xe[1],et=Je((0,u.useState)(!1),2),tt=et[0],nt=et[1],ot=Je((0,u.useState)(!1),2),it=ot[0],at=ot[1],rt=Je((0,u.useState)(null),2),lt=rt[0],ct=rt[1],st=Je((0,u.useState)(""),2),ut=st[0],dt=st[1],pt=Je((0,u.useState)(!1),2),mt=pt[0],ft=pt[1],vt=Je((0,u.useState)(null),2),gt=vt[0],bt=vt[1],ht=Je((0,u.useState)(null),2),yt=ht[0],Et=ht[1],St=Je((0,u.useState)(!1),2)[1],Ct=Je((0,u.useState)(void 0),2)[1],Ot=Je((0,u.useState)(null!=a&&a.clientAuthentication?a.clientAuthentication.tlsClientAuthSubjectDn:null),2),It=Ot[0],At=Ot[1],wt=Je((0,u.useState)(void 0),2),Tt=wt[0],Lt=wt[1],Nt=Je((0,u.useState)(!1),2),Rt=Nt[0],Zt=Nt[1],Pt=(0,p.v9)((function(e){return e.config})),kt=(0,u.useRef)(),Ut=(0,u.useRef)(),xt=(0,u.useRef)(),Mt=(0,u.useRef)(),Ft=(0,u.useRef)(),Dt=(0,u.useRef)(),Wt=(0,u.useRef)(),_t=(0,u.useRef)(),jt=(0,u.useRef)(),Qt=(0,u.useRef)(),Bt=(0,u.useRef)(),Vt=(0,u.useRef)(),Gt=(0,u.useRef)(),Ht=(0,u.useRef)(),zt=(0,u.useRef)(),Xt=(0,u.useRef)(),Yt=(0,u.useRef)(),Jt=(0,u.useRef)(),qt=(0,u.useRef)(),Kt=(0,u.useRef)(),$t=(0,u.useRef)(),en=(0,u.useRef)(),tn=(0,u.useRef)(),nn=(0,u.useRef)(),on=(0,u.useRef)(),an=(0,u.useRef)(),rn=(0,u.useRef)(),ln=(0,u.useRef)(),cn=(0,u.useRef)(),sn=(0,u.useRef)(),un=(0,u.useRef)(),dn=(0,u.useRef)(),pn=(0,u.useRef)(),mn=Je((0,u.useState)(!1),2),fn=mn[0],vn=mn[1],gn=Je((0,u.useState)(!1),2),bn=gn[0],hn=gn[1],yn=Je((0,u.useState)(!1),2),En=yn[0],Sn=yn[1],Cn=Je((0,u.useState)(!1),2),On=Cn[0],In=Cn[1],An=Je((0,u.useState)(!1),2),wn=An[0],Tn=An[1],Ln=Je((0,u.useState)(void 0),2),Nn=Ln[0],Rn=Ln[1],Zn=Je((0,u.useState)(V.el.NONE),2),Pn=Zn[0],kn=Zn[1],Un=Je((0,u.useState)(!1),2),xn=Un[0],Mn=Un[1],Fn=Je((0,u.useState)(!1),2),Dn=Fn[0],Wn=Fn[1],_n=Je((0,u.useState)(void 0),2),jn=_n[0],Qn=_n[1],Bn=Je((0,j.cC)(),2),Vn=Bn[0],Gn=Bn[1],Hn=function(){var e,t;!1===(null==a||null===(e=a.idToken)||void 0===e||null===(t=e.encryption)||void 0===t?void 0:t.enabled)&&(a.idToken.encryption={algorithm:"",enabled:!1,method:""})};Hn();var zn=Je((0,u.useState)(!1),2),Xn=zn[0],Yn=zn[1],Jn="PKCE",qn="mandatory",Kn="supportPlainTransformAlgorithm",$n=function(e){e.has(Jn)&&(e.get(Jn).find((function(e){return e===qn}))?Yn(!0):(e.set(Jn,[]),Yn(!1)))};(0,u.useEffect)((function(){jn||(0,ue.DM)(k.id,n.id).then((function(e){Qn(e.data.organizations)})).catch((function(e){e.response.data.description?R((0,W.V_)({description:e.response.data.description,level:r.QU.ERROR,message:N("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):R((0,W.V_)({description:N("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:r.QU.ERROR,message:N("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))}),[n]),(0,u.useEffect)((function(){var e,t,o=null==n||null===(e=n.advancedConfigurations)||void 0===e||null===(t=e.additionalSpProperties)||void 0===t?void 0:t.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));((null==jn?void 0:jn.length)>0||(null==o?void 0:o.length)>0&&JSON.parse(o[0].value))&&Wn(!0)}),[jn]),(0,u.useEffect)((function(){null!=C&&C.id&&null!=be&&be.id?(C.id==be.id&&vn(!0),I(!1)):I(!1)}),[C]),(0,u.useEffect)((function(){null!=C&&C.id&&null!=ge&&ge.id&&C.id==ge.id&&hn(!0)}),[C]),(0,u.useEffect)((function(){null!=C&&C.id&&null!=ve&&ve.id?((null==C?void 0:C.id)==(null==ve?void 0:ve.id)&&Sn(!0),I(!1)):I(!1)}),[C]),(0,u.useEffect)((function(){C&&fe?(C.id===fe.id&&In(!0),I(!1)):I(!0)}),[C]),(0,u.useEffect)((function(){null!=Me&&Me.includes("authorization_code")||null!=Me&&Me.includes("implicit")?Ze(!0):Ze(!1),!(0,ne.Z)(b.jo.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,Me).length&&null!=Me&&Me.includes("refresh_token")?Zt(!0):Zt(!1)}),[Me,We]),(0,u.useEffect)((function(){Le(!1),null!=Me&&Me.includes(b.jo.AUTHORIZATION_CODE_GRANT)&&Le(!0)}),[Me,We]),(0,u.useEffect)((function(){Ue(!1),eo(Me)&&Ue(!0)}),[Me,We]);var eo=function(e){return!!(0===(null==e?void 0:e.length)||null!=e&&e.includes("implicit")&&1===(null==e?void 0:e.length))||(!(null==e||!e.includes("implicit")||null==e||!e.includes("refresh_token")||2!==(null==e?void 0:e.length))||(null==e?void 0:e.includes("refresh_token"))&&1===(null==e?void 0:e.length))};(0,u.useEffect)((function(){void 0===Me&&(null!=a&&a.grantTypes&&Fe(Ye(null==a?void 0:a.grantTypes)),null!=a&&a.allowedOrigins&&dt(null==a?void 0:a.allowedOrigins.toString()))}),[a]),(0,u.useEffect)((function(){null!=o&&o.type&&kn(null==o?void 0:o.type)}),[o]),(0,u.useEffect)((function(){var e,t;null!=a&&a.accessToken&&!(0,s.Z)(a.accessToken)&&(U?ft(!0):null!=a&&null!==(e=a.accessToken)&&void 0!==e&&e.bindingType?(null==a||null===(t=a.accessToken)||void 0===t?void 0:t.bindingType)!==(null===V.ti||void 0===V.ti?void 0:V.ti.NONE)&&ft(!0):ft(!1))}),[null==a?void 0:a.accessToken]),(0,u.useEffect)((function(){V.el.PEM===(null==o?void 0:o.type)&&(St(!0),null!=o&&o.value&&Ct(o.value))}),[o]),(0,u.useEffect)((function(){(0,s.Z)(Nn)||Pn===V.el.NONE?Mn(!1):Mn(!0)}),[Nn,Pn]);var to=function(e){switch(e.toLowerCase()){case"none":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:Pt.ui.productName});case"cookie":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:Pt.ui.productName});case"default":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");default:return}};(0,u.useEffect)((function(){var e;Tt||Lt(null==a||null===(e=a.clientAuthentication)||void 0===e?void 0:e.tokenEndpointAuthMethod)}),[]);var no=function(e){return"sso-session"===e.toLowerCase()?N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label"):e},oo=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:to(e)},label:no(e),value:e})})):e.options.map((function(e,t){e.displayName?n.push({content:u.createElement(ae.Z.Row,{"data-componentId":"".concat(L,"-client-auth-method-table-row-").concat(t)},u.createElement(ae.Z.Cell,null,u.createElement("div",null,e.displayName),u.createElement(c.GI,{content:e.name,inverted:!0,trigger:u.createElement(c.EK,{compact:!0,withBackground:!1},e.name),position:"bottom left"}))),text:e.displayName,value:e.name}):n.push({text:e,value:e!==N("console:develop.features.applications.forms.inboundOIDC.dropdowns.selectOption")?e:""})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},io=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((fn||bn)&&t&&"cookie"===e)return!1;n.push({hint:{content:to(e)},label:no(e),value:e})}else n.push({hint:{content:to(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},ao=function(e){var t=[];if(e&&e.options.map((function(e){var n,o=e.name,i=e.displayName;if((null===v.applicationConfig||void 0===v.applicationConfig||null===(n=v.applicationConfig.hiddenGrantTypes)||void 0===n||!n.includes(o))&&(o!==b.jo.ORGANIZATION_SWITCH_GRANT||isOrganizationManagementEnabled&&P!==de.$B.TENANT&&Dn)&&!(C&&C.id&&(0,te.Z)(v.applicationConfig.allowedGrantTypes,C.id)&&!v.applicationConfig.allowedGrantTypes[C.id].includes(o)&&b.jo.AVAILABLE_GRANT_TYPES.includes(o))){var a,r,l={label:(a=o,r=i,a===b.jo.IMPLICIT_GRANT||a===b.jo.PASSWORD||a===b.jo.CLIENT_CREDENTIALS_GRANT?u.createElement(u.Fragment,null,u.createElement("label",null,r,!On&&u.createElement(c.dn,{icon:(0,pe.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):r),readOnly:On&&o===b.jo.CLIENT_CREDENTIALS_GRANT,value:o},s=function(e){switch(e){case b.jo.IMPLICIT_GRANT:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.implicit.hint");case b.jo.PASSWORD:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.password.hint");case b.jo.CLIENT_CREDENTIALS_GRANT:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.client_credential.hint");case b.jo.REFRESH_TOKEN_GRANT:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(o);s&&!On&&(l.hint={content:s,header:""}),ke&&"refresh_token"===l.value&&(l.disabled=!0),t.push(l)}})),C&&C.id){var n=b.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[C.id];if(n){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,r=n.get(a.value);a.index=null!=r?r:1/0}}catch(s){i.e(s)}finally{i.f()}t.sort((function(e,t){return e.index-t.index}))}}if(v.applicationConfig.inboundOIDCForm.disabledGrantTypes&&v.applicationConfig.inboundOIDCForm.disabledGrantTypes[C.id]){var l=v.applicationConfig.inboundOIDCForm.disabledGrantTypes[C.id];return t.filter((function(e){return!l.includes(e.value)}))}return t},ro=function(e){e.preventDefault(),He(!0)},lo=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==V.ti.NONE},co=function(e,t,n){var r;if(T||w)r={general:{},inbound:ze({},a)},Re?(r.inbound.allowedOrigins=he.y.resolveAllowedOrigins(n||ut),r.inbound.callbackURLs=[he.y.buildCallBackUrlWithRegExp(t||X)]):(r.inbound.allowedOrigins=[],r.inbound.callbackURLs=[]);else{var l,c,s,u,d,p,m,f,g,b,h,y={accessToken:{applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(null==i?void 0:i.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(l=e.get("RevokeAccessToken"))||void 0===l?void 0:l.length)>0,type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:(null===(c=e.get("ValidateTokenBinding"))||void 0===c?void 0:c.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==q?q.split(","):[],encryption:{algorithm:M&&xn?e.get("algorithm"):null==i||null===(s=i.idTokenEncryptionAlgorithm)||void 0===s?void 0:s.defaultValue,enabled:xn&&(null===(u=e.get("encryption"))||void 0===u?void 0:u.includes("enableEncryption")),method:M&&xn?e.get("method"):null==i||null===(d=i.idTokenEncryptionMethod)||void 0===d?void 0:d.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds")),idTokenSignedResponseAlg:e.get("idTokenSignedResponseAlg")},logout:{backChannelLogoutUrl:e.get("backChannelLogoutUrl"),frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:!!En||(null===(p=e.get("supportPublicClients"))||void 0===p?void 0:p.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==i?void 0:i.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(m=e.get("RefreshToken"))||void 0===m?void 0:m.length)>0},scopeValidators:e.get("scopeValidator"),validateRequestObjectSignature:(null===(f=e.get("enableRequestObjectSignatureValidation"))||void 0===f?void 0:f.length)>0};!v.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&delete y.logout.frontChannelLogoutUrl,!v.applicationConfig.inboundOIDCForm.showScopeValidators&&delete y.scopeValidators,!v.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&delete y.idToken.encryption,!v.applicationConfig.inboundOIDCForm.showBackChannelLogout&&delete y.logout.backChannelLogoutUrl,!v.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&delete y.validateRequestObjectSignature,y=ze(ze({},y),{},Re?{allowedOrigins:he.y.resolveAllowedOrigins(n||ut),callbackURLs:[he.y.buildCallBackUrlWithRegExp(t||X)]}:{allowedOrigins:[],callbackURLs:[]}),y=ze(ze({},y),{},Te?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),On&&(y=ze(ze({},y),{},{accessToken:ze(ze({},y.accessToken),{},{userAccessTokenExpiryInSeconds:0}),idToken:{audience:Ye(y.idToken.audience)},pkce:null,refreshToken:null})),G||(y=ze(ze({},y),{},{clientAuthentication:{tlsClientAuthSubjectDn:It,tokenEndpointAuthMethod:e.get("tokenEndpointAuthMethod"),tokenEndpointAuthSigningAlg:e.get("tokenEndpointAuthSigningAlg")}})),y=ze(ze({},y),{},{pushAuthorizationRequest:{requirePushAuthorizationRequest:(null===(g=e.get("requirePushAuthorizationRequest"))||void 0===g?void 0:g.length)>0},requestObject:{encryption:{algorithm:e.get("requestObjectEncryptionAlgorithm"),method:e.get("requestObjectEncryptionMethod")},requestObjectSigningAlg:e.get("requestObjectSigningAlg")},subject:{sectorIdentifierUri:null==a||null===(b=a.subject)||void 0===b?void 0:b.sectorIdentifierUri,subjectType:null==a||null===(h=a.subject)||void 0===h?void 0:h.subjectType}}),null!=a&&a.clientId&&null!=a&&a.clientSecret&&(y=ze(ze({},y),{},{clientId:null==a?void 0:a.clientId,clientSecret:null==a?void 0:a.clientSecret})),r={general:{advancedConfigurations:{certificate:{type:Pn!==V.el.NONE?Pn:null==o?void 0:o.type,value:Pn!==V.el.NONE?Nn:""}}},inbound:ze({},y)},!v.applicationConfig.inboundOIDCForm.showCertificates&&delete r.general.advancedConfigurations.certificate}return r},so=function(e,t,n){var o,r={accessToken:{applicationAccessTokenExpiryInSeconds:Number(null==i?void 0:i.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:lo(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds"))},grantTypes:e.get("grant"),idToken:{audience:""!==q?q.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==i?void 0:i.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(o=e.get("RefreshToken"))||void 0===o?void 0:o.length)>0}};return r=ze(ze({},r),{},Re?{allowedOrigins:he.y.resolveAllowedOrigins(n||ut),callbackURLs:[he.y.buildCallBackUrlWithRegExp(t||X)]}:{allowedOrigins:[],callbackURLs:[]}),r=ze(ze({},r),{},Te?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),v.applicationConfig.inboundOIDCForm.showScopeValidators&&(r=ze(ze({},r),{},{scopeValidators:e.get("scopeValidator")})),null!=a&&a.clientId&&null!=a&&a.clientSecret?{inbound:ze(ze({},r),{},{clientId:null==a?void 0:a.clientId,clientSecret:null==a?void 0:a.clientSecret})}:r};(0,u.useEffect)((function(){var e,t;null!=a&&null!==(e=a.idToken)&&void 0!==e&&e.encryption&&F(null===(t=a.idToken.encryption)||void 0===t?void 0:t.enabled)}),[a]),(0,u.useEffect)((function(){H(null==a?void 0:a.publicClient)}),[a]);var uo,po,mo,fo,vo,go,bo,ho,yo,Eo,So,Co,Oo,Io,Ao,wo,To,Lo,No,Ro,Zo,Po,ko,Uo,xo,Mo,Fo,Do,Wo,_o,jo,Qo,Bo,Vo,Go,Ho,zo=function(e){var t=ut;dt(t=""!==t?t+","+e:e)},Xo=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":kt.current.scrollIntoView(t);break;case"grant":Ut.current.scrollIntoView(t);break;case"url":xt.current.scrollIntoView(t);break;case"allowedOrigin":Mt.current.scrollIntoView(t);break;case"supportPublicClients":Ft.current.scrollIntoView(t);break;case"pkce":Dt.current.scrollIntoView(t);break;case"bindingType":Wt.current.scrollIntoView(t);break;case"type":_t.current.scrollIntoView(t);break;case"validateTokenBinding":jt.current.scrollIntoView(t);break;case"revokeAccessToken":Qt.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":Bt.current.scrollIntoView(t);break;case"refreshToken":Gt.current.scrollIntoView(t);break;case"expiryInSeconds":Ht.current.scrollIntoView(t);break;case"audience":zt.current.scrollIntoView(t);break;case"encryption":Xt.current.scrollIntoView(t);break;case"algorithm":Yt.current.scrollIntoView(t);break;case"method":Jt.current.scrollIntoView(t);break;case"idExpiryInSeconds":Kt.current.scrollIntoView(t);break;case"backChannelLogoutUrl":$t.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":en.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":tn.current.scrollIntoView(t);break;case"scopeValidator":nn.current.scrollIntoView(t)}},Yo=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},Jo=function(e,t,n){var o=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,i=parseInt(e.get("expiryInSeconds"),10)<60,a=parseInt(e.get("idExpiryInSeconds"),10)<60;return o||i||a?(at(!0),ct(u.createElement(c.cV,{onClose:function(){return at(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return at(!1)},onPrimaryActionClick:function(){l(fn?so(e,t,n):co(e,t,n)),at(!1)},"data-testid":"".concat(L,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},u.createElement(c.cV.Header,{"data-testid":"".concat(L,"-low-expiry-times-confirmation-modal-header")},N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.header")),u.createElement(c.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(L,"-low-expiry-times-confirmation-modal-message")},N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.message")),u.createElement(c.cV.Content,{"data-testid":"".concat(L,"-low-expiry-times-confirmation-modal-content")},u.createElement(c.xv,null,N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.content")),u.createElement(ce.Z,{bulleted:!0},o&&u.createElement(ce.Z.Item,null,N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label")),i&&u.createElement(ce.Z.Item,null,N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),a&&u.createElement(ce.Z.Item,null,N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"))),u.createElement(c.xv,null,N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(at(!1),ct(null),!1)};return!O&&i?u.createElement(u.Fragment,null,u.createElement(j.Es,{onSubmit:function(e){Gn(),!fn&&v.applicationConfig.inboundOIDCForm.showCertificates&&Pn!==V.el.NONE&&(0,s.Z)(Nn)||(Re?uo((function(t){(0,s.Z)(X)&&(0,s.Z)(t)?(ye(!0),Xo("url")):po((function(n){Jo(e,t,n)||l(fn?so(e,t,n):co(e,t,n))}))})):(Jo(e,void 0,void 0)||l(co(e,void 0,void 0)),I(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Xo(o.value[0]);break}o=n.next()}},onStaleChange:function(e){Tn(e)},ref:on},u.createElement(m.Z,null,(null==a?void 0:a.state)===V.ZM.REVOKED&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.v0,{type:"warning",visible:!0,header:N("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:N("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null==a?void 0:a.clientId)&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(le.Z.Field,null,u.createElement("label",null,N("console:develop.features.applications.forms.inboundOIDC.fields.clientID.label")),u.createElement("div",{className:"display-flex"},u.createElement(c.OR,{value:null==a?void 0:a.clientId,"data-testid":"".concat(L,"-client-id-readonly-input")}))),v.applicationConfig.inboundOIDCForm.showNativeClientSecretMessage&&(null==a?void 0:a.state)!==V.ZM.REVOKED&&fn?u.createElement(c.v0,{type:"info",content:u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.message",values:{productName:Pt.ui.productName}},"productName does not issue a\xa0",u.createElement(c.EK,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null==a?void 0:a.clientSecret)&&(null==a?void 0:a.state)!==V.ZM.REVOKED&&!fn&&!En&&!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(le.Z.Field,null,u.createElement("label",null,N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.label")),Z?u.createElement(u.Fragment,null,u.createElement(c.v0,{visible:!0,type:"info",content:N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}),!y&&u.createElement(B.Z,{color:"red",className:"oidc-action-button",onClick:ro,"data-testid":"".concat(L,"-oidc-regenerate-button")},N("common:regenerate"))):u.createElement("div",{className:"display-flex"},u.createElement(c.OR,{secret:!0,value:null==a?void 0:a.clientSecret,hideSecretLabel:N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat(L,"-client-secret-readonly-input")}),!y&&u.createElement(B.Z,{color:"red",className:"oidc-action-button",onClick:ro,"data-testid":"".concat(L,"-oidc-regenerate-button")},N("common:regenerate")))))),!y&&(null==a?void 0:a.clientSecret)&&(null==a?void 0:a.state)===V.ZM.REVOKED&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(B.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),nt(!0)},"data-testid":"".concat(L,"-oidc-regenerate-button")},N("common:activate")))),((null==a?void 0:a.clientId)||(null==a?void 0:a.clientSecret))&&(null==a?void 0:a.state)!==V.ZM.REVOKED&&u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null)),(null==a?void 0:a.state)!==V.ZM.REVOKED&&u.createElement(u.Fragment,null,!y&&u.createElement(c.PH,{updateButtonRef:an,isFormStale:wn,containerRef:A},u.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:O,disabled:O,"data-testid":"".concat(L,"-submit-button-sticky")},N("common:update"))),!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Ut,name:"grant",label:N("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:ao(null==i?void 0:i.allowedGrantTypes),value:null!=Me?Me:null==a?void 0:a.grantTypes,readOnly:y,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");eo(Me)&&(t=t.filter((function(e){return"refresh_token"!=e}))),Fe(t),_e(!We)}(e)},"data-testid":"".concat(L,"-grant-type-checkbox-group")}),Rt&&u.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},N("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken")),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),Re&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},u.createElement("div",{ref:xt}),u.createElement(c.wE,{isAllowEnabled:fn,handleAddAllowedOrigin:function(e){return zo(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:S,allowedOrigins:(0,oe.Z)(E,ut.split(",")),labelEnabled:!0,urlState:X,setURLState:function(e){var t;Y(e),(null!=a&&null!==(t=a.callbackURLs)&&void 0!==t&&t.toString()?he.y.buildCallBackURLWithSeparator(a.callbackURLs.toString()):"")!==e&&Tn(!0)},labelName:En?"Authorized redirect URIs":N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!=a&&null!==(mo=a.callbackURLs)&&void 0!==mo&&mo.toString()?he.y.buildCallBackURLWithSeparator(a.callbackURLs.toString()):"",placeholder:N(En?"console:develop.features.applications.forms.inboundOIDC.mobileApp.mobileAppPlaceholder":"console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null==me?void 0:me.id)===(null==C?void 0:C.id)||En?N("console:develop.features.applications.forms.inboundOIDC.messages.customInvalidMessage"):N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.invalid"),emptyErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.empty"),skipInternalValidation:C.templateId===b.jo.MOBILE,validation:function(e){return!!(En||(null==me?void 0:me.id)===(null==C?void 0:C.id)||_.URLUtils.isURLValid(e,!0)&&(_.URLUtils.isHttpUrl(e)||_.URLUtils.isHttpsUrl(e)))&&!!_.URLUtils.isMobileDeepLink(e)&&(bt(null),!0)},showError:ee,setShowError:ye,hint:En?"The authorized redirect URI determines where the authorization code is sent to upon user authentication, and where the user is redirected to upon user logout. The client app should specify the authorized redirect URI in the authorization or logout request and "+Pt.ui.productName+" will validate it against the authorized redirect URLs entered here.":N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint",{productName:Pt.ui.productName}),readOnly:y,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),"data-testid":"".concat(L,"-callback-url-input"),getSubmit:function(e){uo=e},showPredictions:!1,customLabel:gt,productName:Pt.ui.productName,isCustom:(null==me?void 0:me.id)===(null==C?void 0:C.id),popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:Pt.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:Pt.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},u.createElement("div",{ref:Mt}),u.createElement(c.wE,{handleAddAllowedOrigin:function(e){return zo(e)},urlState:ut,setURLState:function(e){dt(e),ut!==e&&Tn(!0)},onlyOrigin:!0,labelName:N("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:ut,validationErrorMsg:N("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!_.URLUtils.isHttpsUrl(e)&&!_.URLUtils.isHttpUrl(e)||!_.URLUtils.isAValidOriginUrl(e)||!_.URLUtils.isMobileDeepLink(e)||(Et(null),0))},computerWidth:10,setShowError:Ae,showError:Ie,readOnly:y,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),"data-testid":"".concat(L,"-allowed-origin-url-input"),getSubmit:function(e){po=e},showPredictions:!1,customLabel:yt,popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:Pt.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:Pt.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore")}),u.createElement(c.kW,null,"The HTTP origins that host your ",!En&&"web"," application. You can define multiple web origins by adding them separately.",u.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",u.createElement(c.EK,null,"https://myapp.io, https://localhost:3000"),")"))))),Te&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.heading")),u.createElement(j.gN,{ref:Dt,name:Jn,label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null==a?void 0:a.pkce)&&(Go=a.pkce,Ho=[],Go.mandatory&&Ho.push(qn),Go.supportPlainTransformAlgorithm&&Ho.push(Kn),Ho),listen:$n,children:fn||En?[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:qn}]:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:qn},{disabled:!Xn,hint:{content:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.description",{productName:Pt.ui.productName}),header:"PKCE 'Plain'"},label:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:Kn}],readOnly:y,"data-testid":"".concat(L,"-pkce-checkbox-group")}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.hint"))))),(V.u.CUSTOM_APPLICATION===(null==C?void 0:C.templateId)||V.u.OIDC_WEB_APPLICATION===(null==C?void 0:C.templateId))&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.heading")),!fn&&!En&&!U&&((null==Me?void 0:Me.includes(b.jo.AUTHORIZATION_CODE_GRANT))||(null==Me?void 0:Me.includes(b.jo.DEVICE_GRANT))||(null==Me?void 0:Me.includes(b.jo.OAUTH2_TOKEN_EXCHANGE)))&&!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Ft,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!=a&&a.publicClient?["supportPublicClients"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:y,listen:function(e){var t=e.get("supportPublicClients").includes("supportPublicClients");H(t),t&&Lt("")},"data-testid":"".concat(L,"-public-client-checkbox")}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.fields.public.hint",{productName:null===(fo=Pt.ui)||void 0===fo?void 0:fo.productName})))),u.createElement(j.gN,{ref:rn,name:"tokenEndpointAuthMethod",label:N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.label"),required:!1,type:"dropdown",disabled:G,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.placeholder"),value:Tt,listen:function(e){return function(e){var t=e.get("tokenEndpointAuthMethod");Lt(t)}(e)},children:oo(U?null==i||null===(vo=i.fapiMetadata)||void 0===vo?void 0:vo.tokenEndpointAuthMethod:null==i?void 0:i.tokenEndpointAuthMethod),readOnly:y}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.hint")))),"private_key_jwt"===Tt&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:ln,name:"tokenEndpointAuthSigningAlg",label:N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.label"),required:!1,type:"dropdown",disabled:G,default:null!=a&&a.clientAuthentication?a.clientAuthentication.tokenEndpointAuthSigningAlg:null==i||null===(go=i.tokenEndpointSignatureAlgorithm)||void 0===go?void 0:go.defaultValue,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.placeholder"),children:oo(U?null==i||null===(bo=i.fapiMetadata)||void 0===bo?void 0:bo.allowedSignatureAlgorithms:null==i?void 0:i.tokenEndpointSignatureAlgorithm),readOnly:y}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.hint")))),"tls_client_auth"===Tt&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(le.Z.Input,{ref:cn,ariaLabel:"TLS client auth subject DN",inputType:"name",name:"tlsClientAuthSubjectDn",label:N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.label"),disabled:G,required:!1,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.placeholder"),value:It,onChange:function(e){return At(e.target.value)},readOnly:!1,maxLength:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,width:16}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.hint"))))),(V.u.CUSTOM_APPLICATION===(null==C?void 0:C.templateId)||V.u.OIDC_WEB_APPLICATION===(null==C?void 0:C.templateId))&&!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.pushedAuthorization.heading")),u.createElement(j.gN,{ref:sn,name:"requirePushAuthorizationRequest",required:!1,type:"checkbox",value:null!=a&&null!==(ho=a.pushAuthorizationRequest)&&void 0!==ho&&ho.requirePushAuthorizationRequest?["requirePushAuthorizationRequest"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.label"),value:"requirePushAuthorizationRequest"}],readOnly:y}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.hint")))),(V.u.CUSTOM_APPLICATION===(null==C?void 0:C.templateId)||V.u.OIDC_WEB_APPLICATION===(null==C?void 0:C.templateId))&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.heading")),u.createElement(j.gN,{ref:un,name:"requestObjectSigningAlg",label:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&null!==(yo=a.requestObject)&&void 0!==yo&&yo.requestObjectSigningAlg?a.requestObject.requestObjectSigningAlg:null,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.placeholder"),children:oo(U?null==i||null===(Eo=i.fapiMetadata)||void 0===Eo?void 0:Eo.allowedSignatureAlgorithms:null==i?void 0:i.requestObjectSignatureAlgorithm),readOnly:y}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.hint"},"The dropdown contains the supported ",u.createElement(c.EK,{withBackground:!0},"request object"),"signing algorithms.")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:dn,name:"requestObjectEncryptionAlgorithm",label:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&null!==(So=a.requestObject)&&void 0!==So&&null!==(Co=So.encryption)&&void 0!==Co&&Co.algorithm?a.requestObject.encryption.algorithm:null,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.placeholder"),children:oo(U?null==i||null===(Oo=i.fapiMetadata)||void 0===Oo?void 0:Oo.allowedEncryptionAlgorithms:null==i?void 0:i.requestObjectEncryptionAlgorithm),readOnly:y}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.hint"},"The dropdown contains the supported ",u.createElement(c.EK,{withBackground:!0},"request object"),"encryption algorithms.")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:pn,name:"requestObjectEncryptionMethod",label:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&null!==(Io=a.requestObject)&&void 0!==Io&&null!==(Ao=Io.encryption)&&void 0!==Ao&&Ao.method?a.requestObject.encryption.method:null,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.placeholder"),children:oo(null==i?void 0:i.requestObjectEncryptionMethod),readOnly:y}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.hint"},"The dropdown contains the supported ",u.createElement(c.EK,{withBackground:!0},"request object"),"encryption methods."))))),!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.heading")),u.createElement(j.gN,{ref:_t,label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!=a&&a.accessToken?a.accessToken.type:null==i||null===(wo=i.accessTokenType)||void 0===wo?void 0:wo.defaultValue,type:"radio",children:io(null==i?void 0:i.accessTokenType,!1),readOnly:y,"data-testid":"".concat(L,"-access-token-type-radio-group")}))),!On&&!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Wt,label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!=a&&null!==(To=a.accessToken)&&void 0!==To&&To.bindingType?a.accessToken.bindingType:U?V.ti.CERTIFICATE:null!==(Lo=null==i||null===(No=i.accessTokenBindingType)||void 0===No?void 0:No.defaultValue)&&void 0!==Lo?Lo:V.ti.NONE,type:"radio",children:io(null==i?void 0:i.accessTokenBindingType,!0),readOnly:y||U,"data-testid":"".concat(L,"-access-token-type-radio-group"),listen:function(e){ft(e.get("bindingType")!==V.ti.NONE)}}),u.createElement(c.kW,null,u.createElement(ie.c,{values:{productName:Pt.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",u.createElement(c.EK,{withBackground:!0},"SSO-session")," to allow productName to bind the",u.createElement(c.EK,{withBackground:!0},"access_token"),"and the",u.createElement(c.EK,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!fn&&!En&&mt&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:jt,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:(null==a||null===(Vo=a.accessToken)||void 0===Vo?void 0:Vo.validateTokenBinding)||U?["validateTokenBinding"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:y||U,"data-testid":"".concat(L,"-access-token-validate-binding-checkbox")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",u.createElement(c.EK,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Qt,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=a&&null!==(Ro=a.accessToken)&&void 0!==Ro&&Ro.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:y,"data-testid":"".concat(L,"-access-token-revoke-token-checkbox")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"},"Allow revoking tokens of this application when a bound IDP session gets terminated through a user logout. Remember to include either",u.createElement(c.EK,{withBackground:!0},"client_id")," or",u.createElement(c.EK,{withBackground:!0},"id_token_hint")," in the logout request."))))),!On&&!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Bt,name:"userAccessTokenExpiryInSeconds",label:N(fn?"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=Ge(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yo(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.accessToken?a.accessToken.userAccessTokenExpiryInSeconds.toString():null==i?void 0:i.defaultUserAccessTokenExpiryTime,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:y,min:1,"data-testid":"".concat(L,"-access-token-expiry-time-input")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",u.createElement(c.EK,{withBackground:!0},"access_token"),"in seconds.")))),(null==Me?void 0:Me.includes("client_credentials"))&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{name:"applicationAccessTokenExpiryInSeconds",ref:Vt,label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:a.accessToken?a.accessToken.applicationAccessTokenExpiryInSeconds.toString():null==i?void 0:i.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=Ge(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yo(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:y}),u.createElement(c.kW,null,"Specify the validity period of the",u.createElement(c.EK,{withBackground:!0},"application_access_token"),"in seconds.")))),On&&!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},u.createElement(c.wE,{isAllowEnabled:!1,tenantDomain:S,onlyOrigin:!1,labelEnabled:!1,urlState:q,setURLState:function(e){var t,n;K(e),(null!=a&&null!==(t=a.idToken)&&void 0!==t&&t.audience.toString()?he.y.buildCallBackURLWithSeparator(null==a||null===(n=a.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&Tn(!0)},labelName:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.audience.label"),required:!1,value:null!=a&&null!==(Zo=a.idToken)&&void 0!==Zo&&Zo.audience.toString()?he.y.buildCallBackURLWithSeparator(null==a||null===(Po=a.idToken)||void 0===Po?void 0:Po.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.audience.placeholder"),validationErrorMsg:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.audience.validations.invalid"),showError:Se,setShowError:Ce,hint:u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.audience.hint"},"Specify the recipient(s) that this ",u.createElement(c.EK,{withBackground:!0},"access_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:y,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),getSubmit:function(e){uo=e},showPredictions:!1,popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:Pt.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:Pt.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore"),skipInternalValidation:!0}))),(null==Me?void 0:Me.includes("refresh_token"))&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.heading")),u.createElement(j.gN,{ref:Gt,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!=a&&null!==(ko=a.refreshToken)&&void 0!==ko&&ko.renewRefreshToken?["refreshToken"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:y,"data-testid":"".concat(L,"-renew-refresh-token-checkbox")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",u.createElement(c.EK,{withBackground:!0},"refresh_token"),"each time a ",u.createElement(c.EK,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Ht,name:"expiryInSeconds",label:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=Ge(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yo(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.refreshToken?a.refreshToken.expiryInSeconds.toString():null==i?void 0:i.defaultRefreshTokenExpiryTime,type:"number",readOnly:y,min:1,"data-testid":"".concat(L,"-refresh-token-expiry-time-input")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",u.createElement(c.EK,{withBackground:!0},"refresh_token"),"in seconds."))))),!On&&!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.heading")),u.createElement(c.wE,{isAllowEnabled:!1,tenantDomain:S,onlyOrigin:!1,labelEnabled:!1,urlState:q,setURLState:function(e){var t,n;K(e),(null!=a&&null!==(t=a.idToken)&&void 0!==t&&t.audience.toString()?he.y.buildCallBackURLWithSeparator(null==a||null===(n=a.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&Tn(!0)},labelName:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!=a&&null!==(Uo=a.idToken)&&void 0!==Uo&&Uo.audience.toString()?he.y.buildCallBackURLWithSeparator(null==a||null===(xo=a.idToken)||void 0===xo?void 0:xo.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:Se,setShowError:Ce,hint:u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",u.createElement(c.EK,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:y,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),getSubmit:function(e){uo=e},showPredictions:!1,popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:Pt.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:Pt.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore"),skipInternalValidation:!0}))),v.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&V.u.SPA!==(null==C?void 0:C.templateId)&&!En&&!On&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Xt,name:"encryption",label:"",required:!1,disabled:!xn,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||(Hn(),e.set("algorithm",""),e.set("method","")),F(t)},value:null!=a&&null!==(Mo=a.idToken)&&void 0!==Mo&&Mo.encryption.enabled?["enableEncryption"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:y,"data-testid":"".concat(L,"-encryption-checkbox")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",u.createElement(c.EK,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Yt,name:"algorithm",label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:M&&xn,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!M||!xn,default:M&&xn?null!=a&&a.idToken?a.idToken.encryption.algorithm:null==i?void 0:i.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:oo(U?null==i||null===(Fo=i.fapiMetadata)||void 0===Fo?void 0:Fo.allowedEncryptionAlgorithms:null==i?void 0:i.idTokenEncryptionAlgorithm),readOnly:y,"data-testid":"".concat(L,"-encryption-algorithm-dropdown")}),u.createElement(c.kW,{disabled:!M||!xn},u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",u.createElement(c.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Jt,name:"method",disabled:!M||!xn,label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.label"),required:M&&xn,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:M&&xn?null!=a&&a.idToken?a.idToken.encryption.method:null==i||null===(Do=i.idTokenEncryptionMethod)||void 0===Do?void 0:Do.defaultValue:"",placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:oo(null==i?void 0:i.idTokenEncryptionMethod),readOnly:y,"data-testid":"".concat(L,"-encryption-method-dropdown")}),u.createElement(c.kW,{disabled:!M||!xn},u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",u.createElement(c.EK,{withBackground:!0},"id_token"),"encryption methods."))))),V.So.STANDARD_BASED_APPLICATION===(null==C?void 0:C.name)&&!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:qt,name:"idTokenSignedResponseAlg",label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.signing.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&a.idToken?a.idToken.idTokenSignedResponseAlg:null,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.signing.placeholder"),children:oo(U?null==i||null===(Wo=i.fapiMetadata)||void 0===Wo?void 0:Wo.allowedSignatureAlgorithms:null==i?void 0:i.idTokenSignatureAlgorithm),readOnly:y}),u.createElement(c.kW,{disabled:!M||!xn},u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",u.createElement(c.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),!On&&!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Kt,name:"idExpiryInSeconds",label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=Ge(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yo(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.idToken?a.idToken.expiryInSeconds.toString():null==i?void 0:i.defaultIdTokenExpiryTime,type:"number",readOnly:y,min:1,"data-testid":"".concat(L,"-id-token-expiry-time-input")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",u.createElement(c.EK,{withBackground:!0},"id_token")," in seconds.")))),!fn&&v.applicationConfig.inboundOIDCForm.showBackChannelLogout&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},"Logout URLs"),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:$t,name:"backChannelLogoutUrl",label:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null==a||null===(_o=a.logout)||void 0===_o?void 0:_o.backChannelLogoutUrl,readOnly:y,"data-testid":"".concat(L,"-back-channel-logout-url-input")}),u.createElement(c.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:Pt.ui.productName}))))),v.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:en,name:"frontChannelLogoutUrl",label:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null==a||null===(jo=a.logout)||void 0===jo?void 0:jo.frontChannelLogoutUrl,readOnly:y,"data-testid":"".concat(L,"-front-channel-logout-url-input")}))),!fn&&v.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&!T&&!w&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.heading")),u.createElement(j.gN,{ref:tn,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=a&&a.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:y,"data-testid":"".concat(L,"-request-object-signature-validation-checkbox")}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:Pt.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",u.createElement(c.EK,null,"request")," objects in the authorization request."))))),v.applicationConfig.inboundOIDCForm.showScopeValidators&&!T&&!w&&u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.heading")),u.createElement(j.gN,{ref:nn,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null==a?void 0:a.scopeValidators,children:oo(null==i?void 0:i.scopeValidators,!0),readOnly:y,"data-testid":"".concat(L,"-scope-validator-checkbox")}))),!T&&!w&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(je,{protocol:V.AI.OIDC,deleteAllowed:!(null!==(Qo=a.idToken)&&void 0!==Qo&&null!==(Bo=Qo.encryption)&&void 0!==Bo&&Bo.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:u.createElement(u.Fragment,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",u.createElement(c.EK,null,"id_token"),". First, you need to disable ",u.createElement(c.EK,null,"id_token")," encryption to proceed.")),onUpdate:t,application:n,updateCertFinalValue:Rn,updateCertType:kn,certificate:o,readOnly:y,hidden:fn||!v.applicationConfig.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:Vn}))),!y&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement("span",{ref:an}),u.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:O,disabled:O,"data-testid":"".concat(L,"-submit-button")},N("common:update")))))),Ve&&u.createElement(c.cV,{onClose:function(){return He(!1)},type:"warning",open:Ve,assertion:null==a?void 0:a.clientId,assertionHint:u.createElement("p",null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.confirmations.regenerateSecret.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",u.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return He(!1)},onPrimaryActionClick:function(){g(),He(!1)},"data-testid":"".concat(L,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},u.createElement(c.cV.Header,{"data-testid":"".concat(L,"-oidc-regenerate-confirmation-modal-header")},N("console:develop.features.applications.confirmations.regenerateSecret.header")),u.createElement(c.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(L,"-oidc-regenerate-confirmation-modal-message")},N("console:develop.features.applications.confirmations.regenerateSecret.message")),u.createElement(c.cV.Content,{"data-testid":"".concat(L,"-oidc-regenerate-confirmation-modal-content")},N("console:develop.features.applications.confirmations.regenerateSecret.content"))),Ke&&u.createElement(c.cV,{onClose:function(){return $e(!1)},type:"warning",open:Ke,assertion:null==a?void 0:a.clientId,assertionHint:u.createElement("p",null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.confirmations.revokeApplication.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",u.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return $e(!1)},onPrimaryActionClick:function(){h(),$e(!1)},"data-testid":"".concat(L,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},u.createElement(c.cV.Header,{"data-testid":"".concat(L,"-oidc-revoke-confirmation-modal-header")},N("console:develop.features.applications.confirmations.revokeApplication.header")),u.createElement(c.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(L,"-oidc-revoke-confirmation-modal-message")},N("console:develop.features.applications.confirmations.revokeApplication.message")),u.createElement(c.cV.Content,{"data-testid":"".concat(L,"-oidc-revoke-confirmation-modal-content")},fn?N("console:develop.features.applications.confirmations.revokeApplication.content"):null)),tt&&u.createElement(c.cV,{onClose:function(){return nt(!1)},type:"warning",open:tt,assertion:null==a?void 0:a.clientId,assertionHint:fn?u.createElement("p",null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.confirmations.reactivateSPA.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",u.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")):u.createElement("p",null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.confirmations.reactivateOIDC.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",u.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return nt(!1)},onPrimaryActionClick:function(){g(),nt(!1)},"data-testid":"".concat(L,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},u.createElement(c.cV.Header,{"data-testid":"".concat(L,"-oidc-reactivate-confirmation-modal-header")},N(fn?"console:develop.features.applications.confirmations.reactivateOIDC.header":"console:develop.features.applications.confirmations.reactivateSPA.header")),fn?u.createElement(c.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(L,"-oidc-reactivate-confirmation-modal-message")},N("console:develop.features.applications.confirmations.reactivateSPA.message")):null,u.createElement(c.cV.Content,{"data-testid":"".concat(L,"-oidc-reactivate-confirmation-modal-content")},N(fn?"console:develop.features.applications.confirmations.reactivateSPA.content":"console:develop.features.applications.confirmations.reactivateOIDC.content"))),it&&lt)):u.createElement(se.Z,null,u.createElement(c.pO,{inline:"centered",active:!0}))};function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}$e.defaultProps={"data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,validateRequestObjectSignature:void 0}};var nt=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.initialValues,a=e.onSubmit,r=e.readOnly,l=e.isLoading,p=e["data-testid"],f=(0,d.$)().t,v=et((0,u.useState)(!1),2),g=v[0],b=v[1],h=et((0,u.useState)(void 0),2),y=h[0],E=h[1],S=et((0,u.useState)(V.el.NONE),2),C=S[0],O=S[1],I=et((0,j.cC)(),2),A=I[0],w=I[1];(0,u.useEffect)((function(){null!=o&&o.type&&O(null==o?void 0:o.type)}),[o]);return u.createElement(j.Es,{onSubmit:function(e){w(),a(function(e){return{general:{advancedConfigurations:{certificate:{type:C!==V.el.NONE?C:null==o?void 0:o.type,value:C!==V.el.NONE?y:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo"),replyToLogout:e.get("replyToLogout")}}}(e))}},u.createElement(m.Z,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{name:"realm",label:f("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:f("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null==i?void 0:i.realm,readOnly:r||!(0,s.Z)(null==i?void 0:i.realm),"data-testid":"".concat(p,"-realm-input")}),u.createElement(c.kW,{disabled:!(0,s.Z)(null==i?void 0:i.realm)},f("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{name:"replyTo",label:f("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:f("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null==i?void 0:i.replyTo,readOnly:r,"data-testid":"".concat(p,"-reply-to-url-input")}),u.createElement(c.kW,null,f("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{name:"replyToLogout",label:f("console:develop.features.applications.forms.inboundSTS.fields.replyToLogout.label"),placeholder:f("console:develop.features.applications.forms.inboundSTS.fields.replyToLogout.placeholder"),validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("console:develop.features.applications.forms.inboundSTS.fields.replyToLogout.validations.invalid")))},type:"text",value:null==i?void 0:i.replyToLogout,readOnly:r,"data-componentid":"".concat(p,"-reply-to-logout-url-input")}),u.createElement(c.kW,null,f("console:develop.features.applications.forms.inboundSTS.fields.replyToLogout.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(je,{hideJWKS:!0,protocol:V.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:u.createElement(u.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:E,updateCertType:O,certificate:o,readOnly:r,hidden:!1,isRequired:!0,triggerSubmit:A}))),g&&u.createElement(J,{open:g,certificate:null,onClose:function(){b(!1)}}),!r&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(B.Z,{primary:!0,type:"submit",size:"small",loading:l,disabled:l,className:"form-button","data-testid":"".concat(p,"-submit-button")},f("common:update"))))))};function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}nt.defaultProps={"data-testid":"inbound-passive-sts-form"};var at=function(e){var t,n,o=e.initialValues,i=e.creationOption,a=e.onSubmit,r=e.isLoading,l=e["data-testid"],p=(0,d.$)().t,b=ot((0,u.useState)(void 0),2),h=b[0],y=b[1],E=ot((0,u.useState)(),2),S=E[0],C=E[1],O=ot((0,u.useState)(null),2),I=O[0],A=O[1],w=ot((0,u.useState)(null),2),T=w[0],L=w[1],N=ot((0,u.useState)(!1),2),R=N[0],Z=N[1];(0,u.useEffect)((function(){var e,t,n,i,a;if((0,s.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))y(V.T6.META_URL);else if((0,s.Z)(null==o||null===(t=o.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL)){if(!(0,s.Z)(null==o||null===(i=o.inboundProtocolConfiguration)||void 0===i||null===(a=i.saml)||void 0===a?void 0:a.metadataFile)){var r,l,c,u,d,p;y(V.T6.META_FILE),A(null==o||null===(r=o.inboundProtocolConfiguration)||void 0===r||null===(l=r.saml)||void 0===l?void 0:l.file),L(null==o||null===(c=o.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u?void 0:u.pasteValue),C(null==o||null===(d=o.inboundProtocolConfiguration)||void 0===d||null===(p=d.saml)||void 0===p?void 0:p.metadataFile)}}else y(V.T6.META_URL)}),[o]),(0,u.useEffect)((function(){S&&R&&Z(!1)}),[S]),(0,u.useEffect)((function(){y(i)}),[i]);return h?u.createElement(j.Es,{onSubmit:function(e){h===V.T6.META_FILE&&(0,s.Z)(S)?Z(!0):a(function(e){var t={};return h===V.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:h===V.T6.META_FILE&&(t={inbound:{metadataFile:S}}),t}(e))}},u.createElement(m.Z,null,V.T6.META_URL===h&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement(j.gN,{name:"url",displayErrorOn:"blur",label:p("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:p("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==v.commonConfig&&void 0!==v.commonConfig&&v.commonConfig.blockLoopBackCalls&&_.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(p("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},value:null==o||null===(t=o.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL,"data-testid":"".concat(l,"-meta-url-input")}),u.createElement(c.kW,null,p("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))),V.T6.META_FILE===h&&u.createElement(m.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement(c.GB,{key:1,fileStrategy:rt,file:I,pastedContent:T,onChange:function(e){A(e.file),L(e.pastedContent),C(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(l,"-form-wizard-saml-xml-config-file-picker"),icon:(0,g._5)().uploadPlaceholder,placeholderIcon:u.createElement(Se.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:R,hidePasteOption:!0}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,{hidden:!0}),u.createElement(B.Z,{primary:!0,type:"submit",size:"small",loading:r,disabled:r,className:"form-button","data-testid":"".concat(l,"-submit-button")},p("common:update")))))):u.createElement(c.pO,null)};at.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var rt=new c.R2,lt=n(34112);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ut=function(e){var t,n,o,i,a,r=e.onUpdate,l=e.application,g=e.certificate,b=e.initialValues,h=e.metadata,y=e.onSubmit,E=e.readOnly,S=e.isLoading,C=e.containerRef,O=e["data-testid"],I=(0,d.$)().t,A=ct((0,u.useState)(null),2),w=A[0],T=A[1],L=ct((0,u.useState)(null),2),N=L[0],R=L[1],Z=ct((0,u.useState)(null),2),P=Z[0],k=Z[1],U=ct((0,u.useState)(null),2),x=U[0],M=U[1],F=(0,p.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSignatureValidationCertificateAliasEnabled})),D=(0,p.v9)((function(e){return e.application.samlConfigurations})),W=(0,p.v9)((function(e){return e.config})),G=function(e,t){var n=[];return h&&e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})})),n},H=ct((0,u.useState)(""),2),z=H[0],X=H[1],Y=ct((0,u.useState)(""),2),J=Y[0],q=Y[1],K=ct((0,u.useState)(""),2),$=K[0],ee=K[1],te=ct((0,u.useState)(""),2),ne=te[0],ae=te[1],ce=ct((0,u.useState)(!1),2),se=ce[0],ue=ce[1],de=ct((0,u.useState)(!1),2),pe=de[0],me=de[1],fe=ct((0,u.useState)(!1),2),ve=fe[0],ge=fe[1],be=ct((0,u.useState)(!1),2),he=be[0],ye=be[1],Ee=ct((0,u.useState)(!1),2),Se=Ee[0],Ce=Ee[1],Oe=ct((0,u.useState)(!1),2),Ie=Oe[0],Ae=Oe[1],we=ct((0,u.useState)(!1),2),Te=we[0],Le=we[1],Ne=ct((0,u.useState)(!1),2),Re=Ne[0],Ze=Ne[1],Pe=ct((0,u.useState)(!1),2),ke=Pe[0],Ue=Pe[1],xe=ct((0,u.useState)(!1),2),Me=xe[0],Fe=xe[1],De=ct((0,u.useState)(!1),2),We=De[0],_e=De[1],Qe=ct((0,u.useState)(!0),2),Be=Qe[0],Ve=Qe[1],Ge=ct((0,u.useState)(void 0),2),He=Ge[0],ze=Ge[1],Xe=ct((0,u.useState)(V.el.NONE),2),Ye=Xe[0],Je=Xe[1],qe=ct((0,u.useState)(!1),2),Ke=qe[0],$e=qe[1],et=ct((0,u.useState)(null!=b&&b.singleLogoutProfile.logoutMethod?null==b?void 0:b.singleLogoutProfile.logoutMethod:V.aD.BACK_CHANNEL),2),tt=et[0],nt=et[1],ot=ct((0,u.useState)(!1),2),it=ot[0],at=ot[1],rt=ct((0,j.cC)(),2),st=rt[0],ut=rt[1],dt=(0,u.useRef)(),pt=(0,u.useRef)(),mt=(0,u.useRef)(),ft=(0,u.useRef)(),vt=(0,u.useRef)(),gt=(0,u.useRef)(),bt=(0,u.useRef)(),ht=(0,u.useRef)(),yt=(0,u.useRef)(),Et=(0,u.useRef)(),St=(0,u.useRef)(),Ct=(0,u.useRef)(),Ot=(0,u.useRef)(),It=(0,u.useRef)(),At=(0,u.useRef)(),wt=(0,u.useRef)(),Tt=(0,u.useRef)(),Lt=(0,u.useRef)(),Nt=(0,u.useRef)(),Rt=(0,u.useRef)(),Zt=(0,u.useRef)(),Pt=(0,u.useRef)(),kt=(0,u.useRef)(),Ut=(0,u.useRef)(),xt=(0,u.useRef)(),Mt=(0,u.useRef)(),Ft=(0,u.useRef)(),Dt=(0,u.useRef)(),Wt=(0,u.useRef)(),_t=(0,u.useRef)(),jt=(0,u.useRef)();(0,u.useEffect)((function(){null!=g&&g.type&&Je(null==g?void 0:g.type)}),[g]);(0,u.useEffect)((function(){var e,t;b&&(Ce(null==b?void 0:b.singleLogoutProfile.enabled),Ae(null==b?void 0:b.singleLogoutProfile.idpInitiatedSingleLogout.enabled),Le(null==b?void 0:b.attributeProfile.enabled),Ze(null==b?void 0:b.requestValidation.enableSignatureValidation),Fe(null==b?void 0:b.responseSigning.enabled),Ue(null==b?void 0:b.singleSignOnProfile.assertion.encryption.enabled),_e(null==b||null===(e=b.singleSignOnProfile)||void 0===e||null===(t=e.bindings)||void 0===t?void 0:t.includes(V.Ss.ARTIFACT)))}),[b]),(0,u.useEffect)((function(){Ve(v.applicationConfig.inboundSAMLForm.artifactBindingAllowed)}),[]);var Qt,Bt=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":dt.current.scrollIntoView(t);break;case"applicationQualifier":pt.current.scrollIntoView(t);break;case"consumerURL":mt.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":ft.current.scrollIntoView(t);break;case"idpEntityIdAlias":vt.current.scrollIntoView(t);break;case"requestSignatureValidation":gt.current.scrollIntoView(t);break;case"signatureValidationCertAlias":bt.current.scrollIntoView(t);break;case"digestAlgorithm":ht.current.scrollIntoView(t);break;case"signingAlgorithm":yt.current.scrollIntoView(t);break;case"responseSigning":Et.current.scrollIntoView(t);break;case"bindings":St.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":Ct.current.scrollIntoView(t);break;case"idPInitiatedSSO":Ot.current.scrollIntoView(t);break;case"nameIdFormat":It.current.scrollIntoView(t);break;case"audience":At.current.scrollIntoView(t);break;case"recipient":wt.current.scrollIntoView(t);break;case"assertionEncryption":Tt.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":Lt.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":Nt.current.scrollIntoView(t);break;case"attributeProfile":Rt.current.scrollIntoView(t);break;case"includeAttributesInResponse":Zt.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":Pt.current.scrollIntoView(t);break;case"singleLogoutProfile":kt.current.scrollIntoView(t);break;case"logoutMethod":Ut.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":xt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":Mt.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":Ft.current.scrollIntoView(t);break;case"returnToURL":Dt.current.scrollIntoView(t);break;case"assertionQueryProfile":Wt.current.scrollIntoView(t)}};return(0,u.useEffect)((function(){(0,s.Z)(He)||Ye===V.el.NONE?$e(!1):$e(!0)}),[He,Ye]),h?u.createElement(j.Es,{onSubmit:function(e){ut(),Ye!==V.el.NONE&&(0,s.Z)(He)||((0,s.Z)(z)?(ue(!0),Bt("consumerURL")):(Ye===V.el.NONE&&ze(""),y(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:V.el.PEM,value:Ye!==V.el.NONE?He:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:z.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null==b?void 0:b.issuer),requestValidation:{enableSignatureValidation:Ke&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:ne?ne.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:J?J.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:Ke?e.get("assertionEncryptionAlgorithm"):null==h?void 0:h.assertionEncryptionAlgorithm.defaultValue,enabled:Ke&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:Ke?e.get("keyEncryptionAlgorithm"):null==h?void 0:h.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:$?$.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:Be&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Bt(o.value[0]);break}o=n.next()}},onStaleChange:function(e){at(e)},ref:_t},!E&&u.createElement(c.PH,{updateButtonRef:jt,isFormStale:it,containerRef:C},u.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:S,disabled:S,"data-testid":"".concat(O,"-submit-button-sticky")},I("common:update"))),u.createElement(m.Z,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},null!=b&&b.issuer?u.createElement(le.Z.Field,null,u.createElement("div",{className:"required field"},u.createElement("label",null,I("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"))),u.createElement(c.OR,{value:null==b?void 0:b.issuer})):u.createElement(j.gN,{name:"issuer",label:I("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:I("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:null==b?void 0:b.issuer,readOnly:E,"data-testid":"".concat(O,"-issuer-input"),ref:dt}),u.createElement(c.kW,null,u.createElement(ie.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",u.createElement(c.EK,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),v.applicationConfig.inboundSAMLForm.showApplicationQualifier&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:pt,name:"applicationQualifier",label:I("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:I("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==b?void 0:b.serviceProviderQualifier,readOnly:E,"data-testid":"".concat(O,"-application-qualifier-input")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint"))))),u.createElement("div",{ref:mt}),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.wE,{urlState:z,setURLState:function(e){var t;X(e),(null==b||null===(t=b.assertionConsumerUrls)||void 0===t?void 0:t.toString())!==e&&at(!0)},labelName:I("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),value:null==b?void 0:b.assertionConsumerUrls.toString(),placeholder:I("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:I("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return _.URLUtils.isHttpsOrHttpUrl(e)||(t=u.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},I("console:common.validations.unrecognizedURL.description"))),!!_.URLUtils.isMobileDeepLink(e)&&(T(t),!0)},required:!0,showError:se,setShowError:ue,hint:I("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),readOnly:E,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(O,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:w,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:ft,label:I("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,s.Z)(z)&&z.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,s.Z)(z)){var t=z.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:E,"data-testid":"".concat(O,"-default-assertion-consumer-url-input"),value:null==b?void 0:b.defaultAssertionConsumerUrl}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:vt,label:I("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:I("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){Q.I.url(e)||(t.errorMessages.push(I("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null==b?void 0:b.idpEntityIdAlias,readOnly:E,"data-testid":"".concat(O,"-idp-entity-id-alias-input")}),u.createElement(c.kW,null,u.createElement(ie.c,{values:{defaultIdpEntityID:null==D?void 0:D.issuer,productName:W.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",u.createElement(c.EK,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:gt,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!Ke,type:"checkbox",listen:function(e){Ze(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!=b&&b.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:E,"data-testid":"".concat(O,"-request-signature-validation-checkbox")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:W.ui.productName})))),F&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:bt,label:I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Re,value:null==b?void 0:b.requestValidation.signatureValidationCertAlias,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null==h?void 0:h.certificateAlias.defaultValue,children:G(null==h?void 0:h.certificateAlias),readOnly:E,"data-testid":"".concat(O,"-request-validation-certificate-alias-dropdown")}),u.createElement(c.kW,{disabled:!Re},I("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Et,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=b&&b.responseSigning.enabled?["enabled"]:[],listen:function(e){Fe(e.get("responseSigning").includes("enabled"))},children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:E,"data-testid":"".concat(O,"-response-signing-checkbox")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:W.ui.productName}))))),u.createElement(m.Z.Row,null,u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:ht,label:I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null==h?void 0:h.responseDigestAlgorithm.defaultValue,value:null==b?void 0:b.singleSignOnProfile.assertion.digestAlgorithm,children:G(null==h?void 0:h.responseDigestAlgorithm),readOnly:E,disabled:!Me,"data-testid":"".concat(O,"-digest-algorithm-dropdown")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:yt,label:I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null==b?void 0:b.responseSigning.signingAlgorithm,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null==h?void 0:h.responseSigningAlgorithm.defaultValue,children:G(null==h?void 0:h.responseSigningAlgorithm),readOnly:E,disabled:!Me,"data-testid":"".concat(O,"-signing-algorithm-dropdown")}))),u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:St,label:I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:(Qt=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"},{label:"Artifact",readOnly:!1,value:"ARTIFACT"}],Be&&Qt.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),Qt),value:(0,oe.Z)(null==b||null===(t=b.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:E,listen:function(e){_e(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(O,"-bindings-checkbox-group")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),Be?u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Ct,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:We&&null!=b&&b.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:E,disabled:!We,"data-testid":"".concat(O,"-artifact-binding-signature-validation-checkbox")}),u.createElement(c.kW,{disabled:!We},I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Ot,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!=b&&b.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:E,"data-testid":"".concat(O,"-idp-initiated-sso-checkbox")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.assertion.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:It,label:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null==h?void 0:h.defaultNameIdFormat,required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null==b?void 0:b.singleSignOnProfile.assertion.nameIdFormat,children:(0,lt.Ex)(),readOnly:E,"data-testid":"".concat(O,"-name-id-format-input")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),u.createElement("div",{ref:At}),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.wE,{urlState:J,setURLState:function(e){var t,n,o;q(e),(null==b||null===(t=b.singleSignOnProfile)||void 0===t||null===(n=t.assertion)||void 0===n||null===(o=n.audiences)||void 0===o?void 0:o.toString())!==e&&at(!0)},labelName:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.label"),value:null==b?void 0:b.singleSignOnProfile.assertion.audiences.toString(),placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return _.URLUtils.isHttpUrl(e)||_.URLUtils.isHttpsUrl(e)||(t=u.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},I("console:common.validations.unrecognizedURL.description"))),!!_.URLUtils.isMobileDeepLink(e)&&(R(t),!0)},showError:pe,setShowError:me,hint:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:E,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(O,"-audience-url-input"),showPredictions:!1,customLabel:N,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),u.createElement("div",{ref:wt}),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.wE,{urlState:$,setURLState:function(e){var t,n,o;ee(e),(null==b||null===(t=b.singleSignOnProfile)||void 0===t||null===(n=t.assertion)||void 0===n||null===(o=n.recipients)||void 0===o?void 0:o.toString())!==e&&at(!0)},labelName:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null==b?void 0:b.singleSignOnProfile.assertion.recipients.toString(),placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return _.URLUtils.isHttpUrl(e)||_.URLUtils.isHttpsUrl(e)||(t=u.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},I("console:common.validations.unrecognizedURL.description"))),!!_.URLUtils.isMobileDeepLink(e)&&(k(t),!0)},showError:ve,setShowError:ge,hint:I("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:E,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(O,"-recipients-url-input"),showPredictions:!1,customLabel:P,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Tt,name:"assertionEncryption",label:"",required:!1,disabled:!Ke,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!=b&&b.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){Ue(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:E,"data-testid":"".concat(O,"-assertion-encryption-checkbox")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Lt,label:I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!ke||!Ke,default:null==h?void 0:h.assertionEncryptionAlgorithm.defaultValue,value:null==b?void 0:b.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:G(null==h?void 0:h.assertionEncryptionAlgorithm),readOnly:E,"data-testid":"".concat(O,"-assertion-encryption-algorithm-dropdown")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Nt,label:I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!ke||!Ke,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null==h?void 0:h.keyEncryptionAlgorithm.defaultValue,value:null==b?void 0:b.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:G(null==h?void 0:h.keyEncryptionAlgorithm),readOnly:E,"data-testid":"".concat(O,"-key-encryption-algorithm-dropdown")}))),u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:Rt,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=b&&b.attributeProfile.enabled?["enabled"]:[],listen:function(e){Le(e.get("attributeProfile").includes("enabled"))},children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:E,"data-testid":"".concat(O,"-attribute-profile-checkbox")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),v.applicationConfig.inboundSAMLForm.showAttributeConsumingServiceIndex&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Pt,label:I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Te,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null==b?void 0:b.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:E,"data-testid":"".concat(O,"-attribute-consuming-service-index-input")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),u.createElement(m.Z.Row,{columns:2},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null),u.createElement(f.Z,{hidden:!0})),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:kt,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!=b&&b.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){Ce(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:E,"data-testid":"".concat(O,"-single-logout-profile-checkbox")}),u.createElement(c.kW,null,I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Ut,label:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null==b?void 0:b.singleLogoutProfile.logoutMethod,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:V.aD.BACK_CHANNEL,disabled:!Se,children:[{key:1,text:"Back Channel",value:V.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:V.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:V.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){nt(e.get("logoutMethod"))},readOnly:E,"data-testid":"".concat(O,"-logout-method-dropdown")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:xt,name:"singleLogoutResponseUrl",label:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),tt===V.aD.BACK_CHANNEL&&null!==v.commonConfig&&void 0!==v.commonConfig&&v.commonConfig.blockLoopBackCalls&&_.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(I("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!Se,type:"text",value:null==b?void 0:b.singleLogoutProfile.logoutResponseUrl,readOnly:E,"data-testid":"".concat(O,"-single-logout-response-url-input")}),u.createElement(c.kW,{disabled:!Se},I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:W.ui.productName})))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{ref:Mt,name:"singleLogoutRequestUrl",label:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),tt===V.aD.BACK_CHANNEL&&null!==v.commonConfig&&void 0!==v.commonConfig&&v.commonConfig.blockLoopBackCalls&&_.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(I("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!Se,type:"text",value:null==b?void 0:b.singleLogoutProfile.logoutRequestUrl,readOnly:E,"data-testid":"".concat(O,"-single-logout-request-url-input")}),u.createElement(c.kW,{disabled:!Se},I("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:W.ui.productName})))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h6",disabled:!Se},I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:Ft,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!Se,value:null!=b&&b.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){Ae(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:E,"data-testid":"".concat(O,"-idp-initiated-single-logout-checkbox")}),u.createElement(c.kW,{disabled:!Se},I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),u.createElement("div",{ref:Dt}),u.createElement(c.wE,{urlState:ne,setURLState:function(e){var t,n,o;ae(e),(null==b||null===(t=b.singleLogoutProfile)||void 0===t||null===(n=t.idpInitiatedSingleLogout)||void 0===n||null===(o=n.returnToUrls)||void 0===o?void 0:o.toString())!==e&&at(!0)},labelName:I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null==b?void 0:b.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return _.URLUtils.isHttpUrl(e)||_.URLUtils.isHttpsUrl(e)||(t=u.createElement(re.Z,{basic:!0,color:"orange",className:"mt-2"},I("console:common.validations.unrecognizedURL.description"))),!!_.URLUtils.isMobileDeepLink(e)&&(M(t),!0)},showError:he,setShowError:ye,disabled:!Ie||!Se,readOnly:E,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(O,"-return-to-urls-input"),showPredictions:!1,customLabel:x,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:W.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:W.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}),u.createElement(c.kW,{disabled:!Se},I("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")),v.applicationConfig.inboundSAMLForm.showQueryRequestProfile&&u.createElement(u.Fragment,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(f.Z,null)),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(c.X6,{as:"h5"},I("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.heading")),u.createElement(f.Z,{hidden:!0}),u.createElement(j.gN,{ref:Wt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!=b&&b.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:I("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:E,"data-testid":"".concat(O,"-assertion-query-profile-checkbox")})))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(je,{protocol:V.AI.SAML,deleteAllowed:!(null!=b&&null!==(n=b.requestValidation)&&void 0!==n&&n.enableSignatureValidation||null!=b&&null!==(o=b.singleSignOnProfile)&&void 0!==o&&null!==(i=o.assertion)&&void 0!==i&&null!==(a=i.encryption)&&void 0!==a&&a.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:I("console:develop.features.applications.forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:r,application:l,updateCertFinalValue:ze,updateCertType:Je,canDiscardCertificate:function(){return!Re},certificate:g,readOnly:E,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:st}))),!E&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement("span",{ref:jt}),u.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:S,disabled:S,"data-testid":"".concat(O,"-submit-button")},I("common:update")))))):null};function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ut.defaultProps={"data-testid":"inbound-saml-form"};var mt=function(e){var t=e.certificate,n=e.metadata,o=e.initialValues,i=e.onSubmit,a=e.readOnly,l=e.isLoading,v=e["data-testid"],g=(0,d.$)().t,h=(0,p.I0)(),y=dt((0,u.useState)(!1),2),E=y[0],S=y[1],C=dt((0,u.useState)(!1),2),O=C[0],I=C[1],A=dt((0,u.useState)(void 0),2),w=A[0],T=A[1],L=dt((0,u.useState)(null),2),N=L[0],R=L[1];(0,u.useEffect)((function(){V.el.PEM===(null==t?void 0:t.type)&&(S(!0),null!=t&&t.value&&T(t.value))}),[t]);var Z,P;return n?u.createElement(j.Es,{onSubmit:function(e){i(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:E?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},u.createElement(m.Z,null,u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{name:"audience",label:g("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:g("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:g("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null==o?void 0:o.audience,readOnly:a||!(0,s.Z)(null==o?void 0:o.audience),"data-testid":"".concat(v,"-audience-input")}),u.createElement(c.kW,{disabled:!(0,s.Z)(null==o?void 0:o.audience)},g("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(j.gN,{label:g("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:g("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null==n?void 0:n.certificateAlias.defaultValue,value:null==o?void 0:o.certificateAlias,children:(Z=null==n?void 0:n.certificateAlias,P=[],Z&&Z.options.map((function(e){P.push({key:Z.options.indexOf(e),text:e,value:e})})),P),readOnly:a,"data-testid":"".concat(v,"-certificate-alias-dropdown")}),u.createElement(c.kW,null,g("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement(f.Z,null)),u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement(c.X6,{as:"h5"},g("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),u.createElement(j.gN,{label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:V.el.JWKS,listen:function(e){S("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:V.el.JWKS},{label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:V.el.PEM}],readOnly:a,"data-testid":"".concat(v,"-certificate-type-radio-group")}))),u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},E?u.createElement(u.Fragment,null,u.createElement(j.gN,{name:"certificateValue",label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:b.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:V.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){T(e.get("certificateValue"))},readOnly:a,"data-testid":"".concat(v,"-certificate-textarea")}),u.createElement(c.kW,null,g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),u.createElement(c.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),E&&w&&((t=_.CertificateManagementUtils.canSafelyParseCertificate(w)?_.CertificateManagementUtils.displayCertificate(null,w):D.lu.DUMMY_DISPLAY_CERTIFICATE)?(R(t),I(!0)):h((0,W.V_)({description:g("console:common.notifications.invalidPEMFile.genericError.description"),level:r.QU.ERROR,message:g("console:common.notifications.invalidPEMFile.genericError.message")})))},disabled:(0,s.Z)(w),"data-testid":"".concat(v,"-certificate-info-button")},g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):u.createElement(u.Fragment,null,u.createElement(j.gN,{name:"jwksValue",label:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Q.I.url(e)||(t.isValid=!1,t.errorMessages.push(g("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:V.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:a,"data-testid":"".concat(v,"-jwks-input")})))),O&&u.createElement(J,{open:O,certificate:N,onClose:function(){I(!1)}}),!a&&u.createElement(m.Z.Row,{columns:1},u.createElement(m.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(B.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(v,"-submit-button"),loading:l,disabled:l},g("common:update")))))):null};mt.defaultProps={"data-testid":"inbound-ws-trust-form"};var ft=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.metadata,a=e.initialValues,r=e.onSubmit,l=e.type,c=e.onApplicationRegenerate,s=e.onApplicationRevoke,d=e.readOnly,p=e.allowedOrigins,m=e.tenantDomain,f=e.template,v=e.showSAMLCreation,g=e.SAMLCreationOption,b=e.isLoading,h=e.setIsLoading,y=e.containerRef,E=e.isDefaultApplication,S=e.isSystemApplication,C=e["data-testid"];switch(l){case V.AI.OIDC:case V.AI.OAUTH2_OIDC:return u.createElement($e,{onUpdate:t,application:n,isLoading:b,setIsLoading:h,certificate:o,tenantDomain:m,allowedOriginList:p,initialValues:a,metadata:i,onSubmit:r,onApplicationRegenerate:c,onApplicationRevoke:s,readOnly:d,template:f,"data-testid":C,containerRef:y,isDefaultApplication:E,isSystemApplication:S});case V.AI.SAML:return v&&g&&g!==V.T6.MANUAL?u.createElement(at,{isLoading:b,initialValues:a,creationOption:g||V.T6.META_URL,onSubmit:r,"data-testid":C}):u.createElement(ut,{onUpdate:t,application:n,isLoading:b,certificate:o,initialValues:a,metadata:i,onSubmit:r,readOnly:d,"data-testid":C,containerRef:y});case V.AI.WS_TRUST:return u.createElement(mt,{isLoading:b,certificate:o,initialValues:a,metadata:i,onSubmit:r,readOnly:d,"data-testid":C});case V.AI.WS_FEDERATION:return u.createElement(nt,{onUpdate:t,application:n,isLoading:b,certificate:o,initialValues:a,onSubmit:r,readOnly:d,"data-testid":C});case V.AI.CUSTOM:return u.createElement(ee,{isLoading:b,certificate:o,metadata:i,initialValues:a,onSubmit:r,"data-testid":C});default:return null}};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function bt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==vt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ft.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var Et="application-general-details",St=function(e){var t,n=e.appId,o=e.name,i=e.description,a=e.discoverability,r=e.hiddenFields,s=e.imageUrl,m=e.accessUrl,h=e.onSubmit,y=e.readOnly,E=e.hasRequiredScope,S=e.isSubmitting,C=e.isManagementApp,O=e.application,I=e["data-testid"],A=(0,d.$)().t,w=(0,c.fQ)().getLink,T=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),L=ht((0,u.useState)(a),2),N=L[0],R=L[1],Z=ht((0,u.useState)(g.$x.DEFAULT_MY_ACCOUNT_STATUS),2),P=Z[0],k=Z[1],U=ht((0,u.useState)(!1),2),x=U[0],M=U[1],F=window.AppUtils.getConfig().organizationName,D=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),W=(0,Ne.pv)(!F&&(null===v.applicationConfig||void 0===v.applicationConfig||null===(t=v.applicationConfig.advancedConfigurations)||void 0===t?void 0:t.showMyAccountStatus)),_=W.data,j=W.isLoading,Q=function(e){var t,o,i,a;h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessUrl:null===(t=e.accessUrl)||void 0===t?void 0:t.toString(),advancedConfigurations:{discoverableByEndUsers:e.discoverableByEndUsers},description:null===(o=e.description)||void 0===o?void 0:o.toString().trim(),id:n,name:null===(i=e.name)||void 0===i?void 0:i.toString()},!(null!=r&&r.includes("imageUrl"))&&{imageUrl:null===(a=e.imageUrl)||void 0===a?void 0:a.toString()}))};return(0,u.useEffect)((function(){M((null==O?void 0:O.templateId)===b.jo.M2M_APP_TEMPLATE_ID)}),[O]),(0,u.useEffect)((function(){var e=g.$x.DEFAULT_MY_ACCOUNT_STATUS;if(_){var t=_.value;t&&"false"===t&&(e=!1)}k(e)}),[j]),j?u.createElement(c.pJ,{padded:"very"},u.createElement(c.pO,{inline:"centered",active:!0})):u.createElement(l.l0,{id:Et,uncontrolledForm:!1,onSubmit:function(e){Q(e)},initialValues:{accessUrl:m,description:i,name:o},validate:function(e){var t={accessUrl:void 0};return N&&!e.accessUrl&&(t.accessUrl=A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty")),t}},void 0===w("develop.connections.newConnection.enterprise.saml.learnMore")?null:u.createElement(f.Z,{hidden:!0}),C&&u.createElement(c.v0,{type:"info",content:u.createElement(u.Fragment,null,A("console:develop.features.applications.forms.generalDetails.managementAppBanner"),u.createElement(c.eb,{link:w("develop.applications.managementApplication.learnMore")},A("common:learnMore")))}),!T.systemAppsIdentifiers.includes(o)&&u.createElement(l.gN.Input,{ariaLabel:"Application name",inputType:"name",name:"name",label:A("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:o,readOnly:y||D===de.$B.SUBORGANIZATION,validation:function(e){return function(e){if(!e||!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,"data-testid":"".concat(I,"-application-name-input"),width:16}),o!==b.jo.MY_ACCOUNT_APP_NAME&&u.createElement(l.gN.Textarea,{ariaLabel:"Application description",name:"description",label:A("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),value:i,readOnly:y,validation:function(e){return function(e){if(!e||!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_DESCRIPTION_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:300,minLength:3,"data-testid":"".concat(I,"-application-description-textarea"),width:16}),u.createElement(l.gN.Input,{ariaLabel:"Application image URL",inputType:"url",name:"imageUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),value:s,readOnly:y,"data-testid":"".concat(I,"-application-image-url-input"),maxLength:200,minLength:3,hint:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.hint"),width:16,hidden:null==r?void 0:r.includes("imageUrl")}),x||!P&&!F?null:u.createElement(l.gN.Checkbox,{ariaLabel:"Make application discoverable by end users",name:"discoverableByEndUsers",required:!1,label:A("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),initialValue:N,readOnly:y,"data-testid":"".concat(I,"-application-discoverable-checkbox"),listen:function(e){return R(e)},hint:u.createElement(ie.c,{i18nKey:O.templateId===b.jo.MOBILE?"console:develop.features.applications.forms.inboundOIDC.mobileApp.discoverableHint":"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint",tOptions:{myAccount:"My Account"}}," ",void 0===w("develop.applications.managementApplication.selfServicePortal")?u.createElement("strong",{"data-testid":"application-name-assertion"},"My Account"):u.createElement("strong",{className:"link pointing","data-testid":"application-name-assertion",onClick:function(){return window.open(w("develop.applications.managementApplication.selfServicePortal"),"_blank")}},"My Account")),width:16}),!x&&u.createElement(l.gN.Input,{ariaLabel:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.ariaLabel"),inputType:"url",name:"accessUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:N,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),value:m,readOnly:!E||y&&v.applicationConfig.generalSettings.getFieldReadOnlyStatus(O,"ACCESS_URL"),maxLength:b.jo.FORM_FIELD_CONSTRAINTS.ACCESS_URL_MAX_LENGTH,minLength:b.jo.FORM_FIELD_CONSTRAINTS.ACCESS_URL_MIN_LENGTH,"data-testid":"".concat(I,"-application-access-url-input"),hint:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint"),width:16}),u.createElement(l.gN.Button,{form:Et,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(I,"-submit-button"),disabled:S,loading:S,label:A("common:update"),hidden:!E||y&&v.applicationConfig.generalSettings.getFieldReadOnlyStatus(O,"ACCESS_URL")}))};function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}St.defaultProps={"data-testid":"application-general-settings-form"};var It="application-provisioning-configuration-form",At=function(e){var t,n,o,i,a=e.config,r=e.onSubmit,c=e.readOnly,s=e.useStoreList,p=e.isSubmitting,m=e["data-testid"],f=(0,d.$)().t,v=Ct((0,u.useState)(!1),2),g=v[0],b=v[1],h=function(e){var t={provisioningConfigurations:{inboundProvisioning:{provisioningUserstoreDomain:e.provisioningUserstoreDomain,proxyMode:!!e.proxyMode}}};r(t)};return(0,u.useEffect)((function(){var e,t;null!=a&&null!==(e=a.inboundProvisioning)&&void 0!==e&&e.proxyMode&&b(null==a||null===(t=a.inboundProvisioning)||void 0===t?void 0:t.proxyMode)}),[a]),u.createElement(l.l0,{id:It,uncontrolledForm:!1,onSubmit:function(e){h(e)}},u.createElement(l.gN.CheckboxLegacy,{ariaLabel:"Proxy mode",name:"proxyMode",label:f("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.label"),required:!1,value:null!=a&&null!==(t=a.inboundProvisioning)&&void 0!==t&&t.proxyMode?["modeOn"]:[],listen:function(e){return b(e)},readOnly:c,"data-testid":"".concat(m,"-proxy-mode-checkbox"),hint:f("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.hint")}),c?u.createElement(l.gN.Input,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",inputType:"text",minLength:null,maxLength:null,label:f("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,value:null==a||null===(n=a.inboundProvisioning)||void 0===n?void 0:n.provisioningUserstoreDomain,disabled:g,readOnly:c,"data-testid":"".concat(m,"-provisioning-userstore-domain-input"),hint:f("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.hint")}):u.createElement(l.gN.Dropdown,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",label:f("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,default:s&&s.length>0&&s[0].name,value:null==a||null===(o=a.inboundProvisioning)||void 0===o?void 0:o.provisioningUserstoreDomain,children:(i=[],s&&(null==s||s.map((function(e){i.push({key:s.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),i),disabled:g,readOnly:c,"data-testid":"".concat(m,"-provisioning-userstore-domain-dropdown"),hint:f("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.hint")}),u.createElement(l.gN.Button,{form:It,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(m,"-submit-button"),disabled:p,loading:p,label:f("common:update"),hidden:c}))};At.defaultProps={"data-testid":"application-inbound-provisioning-configurations-form"};var wt,Tt=n(3123),Lt=n(12735),Nt=n(39345),Rt=n(73157);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Pt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(){kt=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(o||[]);return i(r,"_invoke",{value:w(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function h(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(Z([])));C&&C!==n&&o.call(C,r)&&(E=C);var O=y.prototype=b.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,r,l){var c=d(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Zt(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,o){var i=p;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw r;return{value:e,done:!0}}for(o.method=a,o.arg=r;;){var l=o.delegate;if(l){var c=T(l,o);if(c){if(c===g)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var s=d(t,n,o);if("normal"===s.type){if(i=o.done?v:m,s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(i=v,o.method="throw",o.arg=s.arg)}}}function T(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Zt(t)+" is not iterable")}return h.prototype=y,i(O,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},I(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new A(u(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},I(O),s(O,c,"Generator"),s(O,r,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:Z(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Ut(e,t,n,o,i,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(o,i)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Ut(a,o,i,r,l,"next",e)}function l(e){Ut(a,o,i,r,l,"throw",e)}r(void 0)}))}}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||Ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE"}(wt||(wt={}));var Wt=function(e){var t=e.application,n=e.triggerApplicationShare,o=e.onApplicationSharingCompleted,i=e["data-componentid"],a=e.readOnly,l=(0,p.I0)(),v=(0,d.$)().t,g=(0,p.v9)((function(e){return e.organization.organization})),b=Mt((0,u.useState)([]),2),h=b[0],y=b[1],E=Mt((0,u.useState)([]),2),S=E[0],C=E[1],O=Mt((0,u.useState)([]),2),I=O[0],A=O[1],w=Mt((0,u.useState)([]),2),T=w[0],L=w[1],N=Mt((0,u.useState)(wt.UNSHARE),2),R=N[0],Z=N[1],P=Mt((0,u.useState)(!1),2),k=P[0],U=P[1],x=Mt((0,u.useState)(),2),M=x[0],F=x[1];(0,u.useEffect)((function(){return A(h||[])}),[h]),(0,u.useEffect)((function(){return L(S||[])}),[S]),(0,u.useEffect)((function(){var e,n;if(t){var o,i,a=null==t||null===(e=t.advancedConfigurations)||void 0===e||null===(n=e.additionalSpProperties)||void 0===n?void 0:n.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));if(a&&0!==a.length)U(!!JSON.parse(null===(o=a[0])||void 0===o?void 0:o.value)&&JSON.parse(null===(i=a[0])||void 0===i?void 0:i.value));else U(!1)}}),[t]),(0,u.useEffect)((function(){k?Z(wt.SHARE_ALL):(null==S?void 0:S.length)>0&&!k?Z(wt.SHARE_SELECTED):S&&0!==(null==S?void 0:S.length)||k||Z(wt.UNSHARE)}),[k,S]),(0,u.useEffect)((function(){n&&_()}),[n]),(0,u.useEffect)((function(){isOrganizationManagementEnabled&&((0,ue.jX)(null,null,null,null,!0,!1).then((function(e){y(e.organizations)})).catch((function(e){null!=e&&e.description?l((0,W.V_)({description:e.description,level:r.QU.ERROR,message:v("console:manage.features.organizations.notifications.getOrganizationList.error.message")})):l((0,W.V_)({description:v("console:manage.features.organizations.notifications.getOrganizationList.genericError.description"),level:r.QU.ERROR,message:v("console:manage.features.organizations.notifications.getOrganizationList.genericError.message")}))})),D())}),[ue.jX]);var D=function(){(0,ue.DM)(g.id,t.id).then((function(e){C(e.data.organizations)})).catch((function(e){e.response.data.description?l((0,W.V_)({description:e.response.data.description,level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))},_=(0,u.useCallback)(xt(kt().mark((function e(){var n,i,a,c;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==wt.SHARE_ALL){e.next=4;break}n={shareWithAllChildren:!0},e.next=14;break;case 4:if(R!==wt.SHARE_SELECTED){e.next=14;break}if(!k){e.next=11;break}return a=T.map((function(e){return e.id})),e.next=9,(0,ue.An)(t.id,g.id);case 9:e.next=13;break;case 11:a=(0,Lt.Z)(T,S,"id").map((function(e){return e.id})),i=(0,Lt.Z)(S,T,"id");case 13:n={shareWithAllChildren:!1,sharedOrganizations:a};case 14:R===wt.SHARE_ALL||R===wt.SHARE_SELECTED?((0,ue.Bn)(g.id,t.id,n).then((function(){l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.description"),level:r.QU.SUCCESS,message:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.message")}))})).catch((function(e){e.response.data.message?l((0,W.V_)({description:e.response.data.message,level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})):l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.description"),level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){R===wt.SHARE_SELECTED&&D(),o()})),null===(c=i)||void 0===c||c.forEach((function(e){(0,ue.NY)(g.id,t.id,e.id).then((function(){l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:r.QU.SUCCESS,message:v("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.success.message")}))})).catch((function(t){t.response.data.message?l((0,W.V_)({description:t.response.data.message,level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.message")})):l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.message")}))}))}))):R===wt.UNSHARE&&(0,ue.An)(t.id,g.id).then((function(){l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.stopAllSharingNotification.success.description"),level:r.QU.SUCCESS,message:v("console:develop.features.applications.edit.sections.shareApplication.stopAllSharingNotification.success.message")}))})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message?l((0,W.V_)({description:e.response.data.message,level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})):l((0,W.V_)({description:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.description"),level:r.QU.ERROR,message:v("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){C([]),o()}));case 15:case"end":return e.stop()}}),e)}))),[S,T,ue.NY,l,g.id,t.id,R]),j=(0,u.useCallback)((function(){T.length!==h.length?L(h):L([])}),[h,A,T]);return u.createElement(u.Fragment,null,u.createElement(c.X6,{ellipsis:!0,as:"h6"},v("console:develop.features.applications.edit.sections.sharedAccess.subTitle")),u.createElement(m.Z,null,u.createElement(m.Z.Row,null,u.createElement(m.Z.Column,{width:8},u.createElement(Rt.Z,{disabled:a,label:v("console:manage.features.organizations.unshareApplicationRadio"),onChange:function(){return Z(wt.UNSHARE)},checked:R===wt.UNSHARE,"data-componentid":"".concat(i,"-share-with-all-checkbox")}),u.createElement(c.kW,{inline:!0,popup:!0},v("console:manage.features.organizations.unshareApplicationInfo")),u.createElement(f.Z,{hidden:!0,className:"mb-0 mt-0"}),u.createElement(Rt.Z,{disabled:a,label:v("console:manage.features.organizations.shareWithSelectedOrgsRadio"),onChange:function(){return Z(wt.SHARE_SELECTED)},checked:R===wt.SHARE_SELECTED,"data-componentid":"".concat(i,"-share-with-all-checkbox")}),u.createElement(Tt.Z,{in:R===wt.SHARE_SELECTED,orientation:"vertical",timeout:"auto"},u.createElement(u.Fragment,null,k&&u.createElement(c.v0,{warning:!0,className:"ml-4 mt-3"},u.createElement("p",null,v("console:develop.features.applications.edit.sections.shareApplication.switchToSelectiveShareFromSharingWithAllSuborgsWarning"))),u.createElement(c.IX,{className:"pl-2",disabled:R!==wt.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:v("console:manage.features.transferList.searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,o=[];if((0,s.Z)(n))A(h);else{F(n);var i=new RegExp((0,Nt.Z)(n),"i");h&&h.map((function(e){i.test(e.name)&&o.push(e)})),A(o)}},"data-componentId":"application-share-modal-organization-transfer-component"},u.createElement(c.Jv,{disabled:R!==wt.SHARE_SELECTED,isListEmpty:!((null==I?void 0:I.length)>0),handleHeaderCheckboxChange:j,isHeaderCheckboxChecked:(null==T?void 0:T.length)===(null==h?void 0:h.length),listType:"unselected",listHeaders:[v("console:manage.features.transferList.list.headers.1"),""],emptyPlaceholderContent:v("console:develop.placeholders.emptySearchResult.subtitles.0",{query:M})+". "+v("console:develop.placeholders.emptySearchResult.subtitles.1"),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:v("console:manage.features.transferList.list.emptyPlaceholders.default")},null==I?void 0:I.map((function(e,t){var n=null==e?void 0:e.name,o=-1!==T.findIndex((function(t){return t.id===e.id}));return u.createElement(c.qT,{disabled:R!==wt.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=Pt(T),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),L(t)):(t.push(e),L(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:o,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component-unselected-organizations"})})))))),u.createElement(f.Z,{hidden:!0,className:"mb-0 mt-0"}),u.createElement(Rt.Z,{label:v("console:manage.features.organizations.shareApplicationRadio"),onChange:function(){return Z(wt.SHARE_ALL)},checked:R===wt.SHARE_ALL,"data-componentid":"".concat(i,"-share-with-all-checkbox")}),u.createElement(c.kW,{inline:!0,popup:!0},v("console:manage.features.organizations.shareApplicationInfo")),u.createElement(f.Z,{hidden:!0}),u.createElement(c.KM,{"data-componentid":"".concat(i,"-update-button"),onClick:_},v("common:update"))))))};Wt.defaultProps={"data-componentid":"application-share-form"}},93843:(e,t,n)=>{"use strict";n.d(t,{E:()=>z});var o=n(83374),i=n(14603),a=n(90268),r=n(81816),l=n(17),c=n(5043),s=n(52983),u=n(9202),d=n(39990),p=n(54221),m=n(75917),f=n(94635),v=n(88171),g=n(97860),b=n(67127),h=n(34936),y=n(43554),E=n(71532),S=n(18606),C=n(87089),O=n(22806);(function(e){var t,n=e.setProtocol,o=e.availableProtocols,i=e.setSAMLProtocol,a=e["data-testid"],l=(0,u.$)().t;return s.createElement(r.pJ,{basic:!0,"data-testid":a},s.createElement(f.Z,null,(t=function(){var e=[];if(o.includes(C.AI.OIDC)){var t={description:O.y.resolveProtocolDescription(C.AI.OIDC),image:(0,S.B0)().oidc,name:O.y.resolveProtocolDisplayName(C.AI.OIDC),protocol:C.AI.OIDC};e.push(t)}if(o.includes(C.AI.SAML)){var n={description:"XML-based open security standard framework",image:(0,S.B0)().saml,name:O.y.resolveProtocolDisplayName(C.AI.SAML),protocol:C.AI.SAML};e.push(n)}if(o.includes(C.AI.WS_FEDERATION)){var i={description:O.y.resolveProtocolDescription(C.AI.WS_FEDERATION),image:(0,S.B0)()["passive-sts"],name:O.y.resolveProtocolDisplayName(C.AI.WS_FEDERATION),protocol:C.AI.WS_FEDERATION};e.push(i)}return o.map((function(t){if(t!==C.AI.OIDC&&t!==C.AI.SAML&&t!==C.AI.WS_FEDERATION){var n={description:t,image:s.createElement(r.Xo,{name:t,size:"tiny","data-testid":"".concat(a,"-item-image-inner")}),name:t,protocol:t};e.push(n)}})),e}(),s.createElement(f.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(f.Z.Column,{width:16},s.createElement("div",{"data-testid":a},s.createElement(r.X6,{as:"h2",className:"mb-1",compact:!0},l("console:develop.features.applications.edit.sections.access.protocolLanding.heading")),s.createElement(r.xv,{muted:!0},l("console:develop.features.applications.edit.sections.access.protocolLanding.subHeading")),s.createElement(m.Z,{hidden:!0}),!(0,b.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(y.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var o;return s.createElement(E.Xy,{key:t,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,h.Z)(e.name)),onClick:e.protocol===C.AI.SAML?i:function(){return n(e.protocol)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",showOption:e.protocol===C.AI.SAML})})))))))))}).defaultProps={"data-testid":"protocol-landing"};var I=function(e){var t,n=e.setSAMLProtocol,o=e["data-testid"];return s.createElement(r.pJ,{basic:!0,"data-testid":o},s.createElement(f.Z,null,(t=[{image:(0,S.pr)().manual,mode:C.T6.MANUAL,name:O.y.resolveSAMLConfigModeDisplayName(C.T6.MANUAL)},{image:(0,S.pr)().fileBased,mode:C.T6.META_FILE,name:O.y.resolveSAMLConfigModeDisplayName(C.T6.META_FILE)},{image:(0,S.pr)().URLBased,mode:C.T6.META_URL,name:O.y.resolveSAMLConfigModeDisplayName(C.T6.META_URL)}],s.createElement(f.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(f.Z.Column,{width:16},s.createElement("div",{"data-testid":o},s.createElement(r.X6,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),s.createElement(r.xv,{muted:!0},"Select the mode of configuration for your SAML application."),s.createElement(m.Z,{hidden:!0}),!(0,b.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(y.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var o;return s.createElement(E.Xy,{key:t,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,h.Z)(e.name)),onClick:function(){return n(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===C.T6.META_FILE})})))))))))};I.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var A=n(91478),w=n(32982),T=n(30640),L=n(61133),N=n(34942),R=n(16782),Z=n(61375),P=n(92402),k=n(40310),U=n(25258),x=n(17052);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(){j=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(o||[]);return i(r,"_invoke",{value:w(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function h(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(Z([])));C&&C!==n&&o.call(C,r)&&(E=C);var O=y.prototype=b.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,r,l){var c=d(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==M(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,o){var i=p;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw r;return{value:e,done:!0}}for(o.method=a,o.arg=r;;){var l=o.delegate;if(l){var c=T(l,o);if(c){if(c===g)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var s=d(t,n,o);if("normal"===s.type){if(i=o.done?v:m,s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(i=v,o.method="throw",o.arg=s.arg)}}}function T(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(M(t)+" is not iterable")}return h.prototype=y,i(O,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},I(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new A(u(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},I(O),s(O,c,"Generator"),s(O,r,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:Z(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Q(e,t,n,o,i,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(o,i)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Q(a,o,i,r,l,"next",e)}function l(e){Q(a,o,i,r,l,"throw",e)}r(void 0)}))}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var z=function(e){var t=e.application,n=e.appId,b=e.appName,h=e.certificate,y=e.featureConfig,E=e.inboundProtocolConfig,M=e.inboundProtocols,D=e.isLoading,Q=e.setIsLoading,G=e.onUpdate,H=e.allowedOriginList,z=e.onAllowedOriginsUpdate,X=e.onApplicationSecretRegenerate,Y=e.isInboundProtocolConfigRequestLoading,J=e.readOnly,q=e.template,K=e.extendedAccessConfig,$=e.applicationTemplateId,ee=e.isDefaultApplication,te=e.isSystemApplication,ne=e["data-componentid"],oe=(0,u.$)().t,ie=(0,r.fQ)().getLink,ae=(0,p.I0)(),re=(0,N.b)(t.id).mutate,le=(0,p.v9)((function(e){return e.application.meta.protocolMeta})),ce=(0,p.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),se=T.h.getState().config.deployment.tenant,ue=(0,p.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),de=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),pe=(0,w.Z)().legacyAuthzRuntime,me=V((0,s.useState)(void 0),2),fe=me[0],ve=me[1],ge=V((0,s.useState)([]),2),be=ge[0],he=ge[1],ye=V((0,s.useState)(void 0),2),Ee=ye[0],Se=ye[1],Ce=V((0,s.useState)(!1),2),Oe=Ce[0],Ie=Ce[1],Ae=V((0,s.useState)(!1),2),we=Ae[0],Te=Ae[1],Le=V((0,s.useState)(!1),2),Ne=Le[0],Re=Le[1],Ze=V((0,s.useState)(void 0),2),Pe=Ze[0],ke=Ze[1],Ue=V((0,s.useState)(!1),2),xe=Ue[0],Me=Ue[1],Fe=V((0,s.useState)(void 0),2),De=Fe[0],We=Fe[1],_e=(0,s.useRef)(null),je=V((0,s.useState)([]),2),Qe=je[0],Be=je[1],Ve=function(){var e=B(j().mark((function e(t,o){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.abrupt("return",(0,L.lp)(n,t,o).then((function(){ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.description"),level:i.QU.SUCCESS,message:oe("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.message")})),z()})).catch((function(e){var t,n;r=!0,null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?ae((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.updateInboundProtocolConfig.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){G(n),r||Ge()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(){q.id===Z.id&&De&&fe===C.AI.SAML&&We(void 0)},He=function(e,t){Q(!0),(0,L.hN)(W({id:n},e.general),!0).then(B(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ve(e.inbound,t);case 2:re();case 3:case"end":return n.stop()}}),n)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.updateApplication.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){Q(!1)}))},ze=function(){(0,L.gh)(n).then((function(e){ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.regenerateSecret.success.description"),level:i.QU.SUCCESS,message:oe("console:develop.features.applications.notifications.regenerateSecret.success.message")})),X(e.data),G(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.regenerateSecret.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.regenerateSecret.genericError.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.regenerateSecret.genericError.message")}))}))},Xe=function(){(0,L.rA)(n).then((function(){ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.revokeApplication.success.description"),level:i.QU.SUCCESS,message:oe("console:develop.features.applications.notifications.revokeApplication.success.message")})),G(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.revokeApplication.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.revokeApplication.success.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.revokeApplication.success.message")}))}))};(0,s.useEffect)((function(){M.length>0&&he(M),ve(null),Ye()}),[M]);var Ye=function(){var e=function(e){var t=null!=q&&q.authenticationProtocol?[q.authenticationProtocol]:Object.values(C.AI);return $===R.jo.CUSTOM_APPLICATION_SAML?[C.AI.SAML]:$===R.jo.CUSTOM_APPLICATION_OIDC||$===R.jo.M2M_APP_TEMPLATE_ID?[C.AI.OAUTH2_OIDC]:$===R.jo.CUSTOM_APPLICATION_PASSIVE_STS?[C.AI.WS_FEDERATION]:t=t.filter((function(t){return q&&q.id===Z.id&&A.applicationConfig.customApplication.allowedProtocolTypes&&A.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!A.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===C.AI.WS_TRUST||t===C.AI.CUSTOM||K&&t===C.AI.WS_FEDERATION||e&&t===e)&&t}))}();e=(0,c.Z)(e,(function(e){var t,n=(_(t={},C.AI.OIDC,0),_(t,C.AI.SAML,1),t);return M.length>0&&M.forEach((function(e,t){Object.values(C.AI).includes(e)&&(n=W(W({},n),{},_({},e,t)))})),n[e]})),fe||((null==q?void 0:q.templateId)===P.id&&M.length>0?ve(M[0]):ve(e[0])),Ee||Se(e)},Je=function(e,t){if(t){var n=M.find((function(e){return e===t}));n&&(ke(n),Te(!0))}},qe=function(e,t){if(t){var n=F(Qe);if(null!=n&&n.includes(t.accordionIndex)){var o=null==n?void 0:n.indexOf(t.accordionIndex);n.splice(o,1)}else n.push(t.accordionIndex);Be(n)}},Ke=function(e){var t=e;return"oidc"===t&&(t=C.AI.OAUTH2_OIDC),O.y.resolveProtocolDisplayName(t)},$e=function(){return Ee?ue?s.createElement(f.Z.Row,null,s.createElement(f.Z.Column,{mobile:16,tablet:16,computer:10},Ee.map((function(e,t){return s.createElement(r.GI,{key:t,trigger:s.createElement(v.Z,{basic:!0,color:fe===e?"red":"grey",content:fe===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return ve(e)}},s.createElement(r.dn,{fill:fe===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,S.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),s.createElement("div",{className:"protocol-change-title"},O.y.resolveProtocolDisplayName(e))),content:O.y.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),s.createElement(m.Z,{hidden:!0}),s.createElement(m.Z,null))):$===C.u.M2M_APPLICATION?s.createElement(s.Fragment,null,s.createElement(g.Z,{as:"h3",className:"display-flex"},s.createElement(r.dn,{transparent:!0,width:"auto",icon:(0,S.B0)()[C.AI.OAUTH2],size:"x30",verticalAlign:"middle"}),s.createElement(g.Z.Content,{className:"mt-1"},s.createElement("strong",null,O.y.resolveProtocolDisplayName(C.AI.OAUTH2)))),et(),s.createElement(m.Z,{hidden:!0})):s.createElement(s.Fragment,null,s.createElement(g.Z,{as:"h3",className:"display-flex"},s.createElement(r.dn,{transparent:!0,width:"auto",icon:(0,S.B0)()[fe],size:"x30",verticalAlign:"middle"}),s.createElement(g.Z.Content,{className:"mt-1"},s.createElement("strong",null," ",O.y.resolveProtocolDisplayName(fe)," "))),et(),s.createElement(m.Z,{hidden:!0})):null},et=function(){return fe===C.AI.OIDC?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},oe("console:develop.features.applications.forms.inboundOIDC.description",{protocol:O.y.resolveProtocolDisplayName(C.AI.OIDC)}),s.createElement(r.eb,{link:ie("develop.applications.editApplication.oidcApplication.protocol.learnMore")},oe("common:learnMore"))):fe===C.AI.OAUTH2_OIDC?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},oe("console:develop.features.applications.forms.inboundOIDC.description",{protocol:O.y.resolveProtocolDisplayName($===C.u.M2M_APPLICATION?C.AI.OAUTH2:C.AI.OAUTH2_OIDC)}),s.createElement(r.eb,{link:ie("develop.applications.editApplication.oidcApplication.protocol.learnMore")},oe("common:learnMore"))):fe===C.AI.SAML?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},oe("console:develop.features.applications.forms.inboundSAML.description"),s.createElement(r.eb,{link:ie("develop.applications.editApplication.samlApplication.protocol.learnMore")},oe("common:learnMore"))):fe===C.m5.CAS?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},oe("console:develop.features.applications.forms.inboundOIDC.description",{protocol:O.y.resolveProtocolDisplayName(C.m5.CAS)})):fe===C.m5.JWT_SSO?s.createElement(g.Z,{as:"h6",color:"grey",compact:!0},oe("console:develop.features.applications.forms.inboundOIDC.description",{protocol:O.y.resolveProtocolDisplayName(C.m5.JWT_SSO)})):null};(0,s.useEffect)((function(){var e=Object.values(C.Ii);(null==q?void 0:q.templateId)===P.id&&(e=M),e.map((function(e){if(e!==C.AI.WS_FEDERATION&&e!==C.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(le,t)||(0,L.WL)(t).then((function(e){ae((0,k.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ae((0,a.V_)({description:e.response.data.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[M]);return D||xe||Y?s.createElement(r.pJ,{padded:"very"},s.createElement(r.pO,{inline:"centered",active:!0})):fe||0!==M.length||ue||$!==R.jo.CUSTOM_APPLICATION_SAML?s.createElement(f.Z,null,s.createElement(s.Fragment,null,Ye(),q&&s.createElement(f.Z.Row,null,s.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},function(){var e,n,i,a;if(!fe||be.length<1)return null;var c,u;return s.createElement(r.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:_e},be.length>1?be.map((function(e,n){var i,a,r,c;return Object.values(C.AI).includes(e)?s.createElement(T.Us,{key:n,globalActions:!J&&[{icon:"trash alternate",onClick:Je,type:"icon"}],authenticators:[{actions:[],content:e&&s.createElement(U.XH,{onUpdate:G,application:t,isLoading:D,setIsLoading:Q,certificate:h,tenantDomain:se,allowedOrigins:H,metadata:le[e===C.AI.OAUTH2_OIDC?C.AI.OIDC:e],initialValues:(0,l.Z)(E,e===C.AI.OAUTH2_OIDC?C.AI.OIDC:e)?E[e===C.AI.OAUTH2_OIDC?C.AI.OIDC:e]:void 0,onSubmit:function(t){return He(t,e)},type:e,onApplicationRegenerate:ze,onApplicationRevoke:Xe,readOnly:J||!(0,o.hasRequiredScopes)(null==y?void 0:y.applications,null==y||null===(i=y.applications)||void 0===i||null===(a=i.scopes)||void 0===a?void 0:a.update,ce,de,pe),showSAMLCreation:e===C.AI.SAML,SAMLCreationOption:e===C.AI.SAML&&De,template:q,"data-testid":"".concat(ne,"-inbound-").concat(e,"-form"),"data-componentid":"".concat(ne,"-inbound-").concat(e,"-form"),containerRef:_e,isDefaultApplication:ee,isSystemApplication:te}),icon:{icon:(0,S.B0)()[e],size:"micro"},id:e,title:Ke(e)}],accordionActiveIndexes:Qe,accordionIndex:n,handleAccordionOnClick:qe,"data-testid":"".concat(ne,"-accordion"),"data-componentid":"".concat(ne,"-accordion")}):s.createElement(U.XH,{onUpdate:G,application:t,isLoading:D,setIsLoading:Q,certificate:h,metadata:le[e===C.AI.OAUTH2_OIDC?C.AI.OIDC:e],initialValues:(0,l.Z)(E,e===C.AI.OAUTH2_OIDC?C.AI.OIDC:e)?E[e===C.AI.OAUTH2_OIDC?C.AI.OIDC:e]:void 0,onSubmit:function(t){return He(t,e)},type:C.AI.CUSTOM,readOnly:!(0,o.hasRequiredScopes)(null==y?void 0:y.applications,null==y||null===(r=y.applications)||void 0===r||null===(c=r.scopes)||void 0===c?void 0:c.update,ce,de,pe),template:q,"data-testid":"".concat(ne,"-inbound-custom-form"),"data-componentid":"".concat(ne,"-inbound-custom-form"),containerRef:_e})})):1===be.length?s.createElement("div",{className:"form-container with-max-width"},D?null:$e(),(c=void 0,u=void 0,$===R.jo.CUSTOM_APPLICATION_OIDC&&(c=ie("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),u="console:develop.features.applications.forms.inboundOIDC.documentation"),$===R.jo.CUSTOM_APPLICATION_SAML&&(c=ie("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),u="console:develop.features.applications.forms.inboundSAML.documentation"),c?s.createElement(s.Fragment,null,s.createElement(r.v0,{visible:!0,type:"info",content:s.createElement(d.c,{i18nKey:u,tOptions:{protocol:O.y.resolveProtocolDisplayName(fe)}},"Read through our",s.createElement(r.eb,{link:c},"documentation"),"to learn more about using",s.createElement(r.EK,{withBackground:!1},O.y.resolveProtocolDisplayName(fe)),"protocol to implement login in your applications.")}),s.createElement(m.Z,{hidden:!0})):null),Object.values(C.AI).includes(fe)?s.createElement(U.XH,{onUpdate:G,application:t,isLoading:D,setIsLoading:Q,certificate:h,tenantDomain:se,allowedOrigins:H,metadata:le[fe===C.AI.OAUTH2_OIDC?C.AI.OIDC:fe],initialValues:(0,l.Z)(E,fe===C.AI.OAUTH2_OIDC?C.AI.OIDC:fe)?E[fe===C.AI.OAUTH2_OIDC?C.AI.OIDC:fe]:void 0,onSubmit:function(e){return He(e,fe)},type:fe,onApplicationRegenerate:ze,onApplicationRevoke:Xe,readOnly:J||!(0,o.hasRequiredScopes)(null==y?void 0:y.applications,null==y||null===(e=y.applications)||void 0===e||null===(n=e.scopes)||void 0===n?void 0:n.update,ce,de,pe),showSAMLCreation:fe===C.AI.SAML,SAMLCreationOption:fe===C.AI.SAML&&De,template:q,"data-testid":"".concat(ne,"-inbound-").concat(fe,"-form"),"data-componentid":"".concat(ne,"-inbound-").concat(fe,"-form"),containerRef:_e,isDefaultApplication:ee,isSystemApplication:te}):s.createElement(U.XH,{onUpdate:G,application:t,isLoading:D,setIsLoading:Q,certificate:h,metadata:le[fe===C.AI.OAUTH2_OIDC?C.AI.OIDC:fe],initialValues:(0,l.Z)(E,fe===C.AI.OAUTH2_OIDC?C.AI.OIDC:fe)?E[fe===C.AI.OAUTH2_OIDC?C.AI.OIDC:fe]:void 0,onSubmit:function(e){return He(e,fe)},type:C.AI.CUSTOM,readOnly:!(0,o.hasRequiredScopes)(null==y?void 0:y.applications,null==y||null===(i=y.applications)||void 0===i||null===(a=i.scopes)||void 0===a?void 0:a.update,ce,de,pe),template:q,"data-testid":"".concat(ne,"-inbound-custom-form"),"data-componentid":"".concat(ne,"-inbound-custom-form"),containerRef:_e})):void 0)}())),(null==M?void 0:M.length)<1&&s.createElement(f.Z.Row,null,s.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(r.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:_e},s.createElement(r.$J,{title:oe("console:develop.features.applications.edit.sections.protocol.title"),subtitle:[oe("console:develop.features.applications.edit.sections.protocol.subtitle")],action:s.createElement(r.KM,{onClick:function(){return Ie(!0)}},oe("console:develop.features.applications.edit.sections.protocol.button")),image:(0,T.jF)().emptyList,imageSize:"tiny"})))),Oe&&s.createElement(x.e8,{title:oe("console:develop.features.applications.edit.sections.access.addProtocolWizard.heading"),subTitle:oe("console:develop.features.applications.edit.sections.access.addProtocolWizard.subHeading",{appName:b}),closeWizard:function(){return Ie(!1)},addProtocol:!0,selectedProtocols:M,onUpdate:G,appId:n,"data-testid":"".concat(ne,"-protocol-add-wizard")}),we&&s.createElement(r.cV,{onClose:function(){return Te(!1)},type:"negative",open:we,assertion:Pe,assertionHint:s.createElement("p",null,s.createElement(d.c,{i18nKey:"console:develop.features.applications.confirmations.deleteProtocol.assertionHint",tOptions:{name:Pe}},"Please type ",s.createElement("strong",null,Pe)," to confirm.")),assertionType:"input",primaryAction:oe("common:confirm"),secondaryAction:oe("common:cancel"),onSecondaryActionClick:function(){return Te(!1)},onPrimaryActionClick:function(){var e;e=Pe,(0,L.yY)(n,e).then((function(){ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.deleteProtocolConfig.success.description",{protocol:e}),level:i.QU.SUCCESS,message:oe("console:develop.features.applications.notifications.deleteProtocolConfig.success.message")})),G(n)})).catch((function(e){var t,n,o,r;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?ae((0,a.V_)({description:null==e||null===(o=e.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})),Te(!1)},"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(r.cV.Header,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-header")},oe("console:develop.features.applications.confirmations.deleteProtocol.header")),s.createElement(r.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-message")},oe("console:develop.features.applications.confirmations.deleteProtocol.message")),s.createElement(r.cV.Content,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-content")},oe("console:develop.features.applications.confirmations.deleteProtocol.content"))),Ne&&s.createElement(r.cV,{onClose:function(){return Te(!1)},type:"negative",open:Ne,primaryAction:oe("common:confirm"),secondaryAction:oe("common:cancel"),onSecondaryActionClick:function(){Re(!1)},onPrimaryActionClick:function(){var e;e=fe,Me(!0),(0,L.yY)(n,e).then((function(){G(n)})).catch((function(e){var t,n,o,r;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?ae((0,a.V_)({description:null==e||null===(o=e.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.description,level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):ae((0,a.V_)({description:oe("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:i.QU.ERROR,message:oe("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){Me(!1),ve(void 0)})),Re(!1)},"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(r.cV.Header,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-header")},oe("console:develop.features.applications.confirmations.changeProtocol.header")),s.createElement(r.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-message")},oe("console:develop.features.applications.confirmations.changeProtocol.message",{name:fe})),s.createElement(r.cV.Content,{"data-testid":"".concat(ne,"-protocol-delete-confirmation-modal-content")},oe("console:develop.features.applications.confirmations.changeProtocol.content"))))):s.createElement(I,{setSAMLProtocol:function(e){We(e),ve(C.AI.SAML),be.push(C.AI.SAML)}})};z.defaultProps={"data-componentid":"application-access-configuration",extendedAccessConfig:!1}},69825:(e,t,n)=>{"use strict";n.d(t,{I:()=>Fs});var o={};n.r(o),n.d(o,{DefaultBasicLoginSequence:()=>vl});var i={};n.r(i),n.d(i,{EmailOTPSecondFactorLoginSequence:()=>gl,SMSOTPSecondFactorLoginSequence:()=>bl,TOTPSecondFactorLoginSequence:()=>hl});var a={};n.r(a),n.d(a,{EmailOTPPasswordlessLoginSequence:()=>yl,FIDO2PasswordlessLoginSequence:()=>Sl,MagicLinkPasswordlessLoginSequence:()=>El});var r={};n.r(r),n.d(r,{AppleSocialLoginSequence:()=>Cl,FacebookSocialLoginSequence:()=>Ol,GithubSocialLoginSequence:()=>Il,GoogleSocialLoginSequence:()=>Al});var l={};n.r(l),n.d(l,{BasicLoginSequences:()=>o,MFALoginSequences:()=>i,PasswordlessLoginSequences:()=>a,SocialLoginSequences:()=>r});var c=n(90009),s=n(83831),u=n(81816),d=n(46440),p=n(67127),m=n(52983),f=n(9202),v=n(39990),g=n(75917),b=n(14603),h=n(90268),y=n(13318),E=n(34936),S=n(54221),C=n(94635),O=n(74691),I=n(40904),A=n(27716),w=n(7955),T=n(96433),L=n(83374),N=n(63987),R=n.n(N),Z=n(17),P=n(24730),k=n(92573),U=n(5873),x=n(14969),M=n(97860),F=n(73030),D=n(21228),W=n(10327),_=n(66638),j=n(5043),Q=n(21921),B=n(6299),V=n(48684),G=n(19799),H="ELK-Risk-Based",z=n(67283),X=n(42917),Y=n(13584),J=n(78771),q=n(7247),K=n(71325),$=n(10594),ee=n(87089),te=["template","open","onClose","data-componentid"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ne.apply(this,arguments)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ae(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var re=function(e){var t,n,o=e.template,i=e.open,a=e.onClose,r=e["data-componentid"],l=ae(e,te),c=(0,f.$)().t,s=(0,u.fQ)().getLink;return m.createElement(Q.Z,ne({open:i,onClose:a,dimmer:"blurring",size:"small","data-componentid":r},l),m.createElement(Q.Z.Header,null,o.title),m.createElement(Q.Z.Content,{scrolling:!0},m.createElement("p",null,o.summary,(t=null==o?void 0:o.name,n=void 0,t===ee.qr.USER_AGE_BASED&&(n=s("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),t===ee.qr.GROUP_BASED&&(n=s("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),t===ee.qr.IP_BASED&&(n=s("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),t===ee.qr.NEW_DEVICE_BASED&&(n=s("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:m.createElement(u.eb,{link:n,"data-componentid":"".concat(r,"-learn-more-link")},c("common:learnMore")))),Array.isArray(null==o?void 0:o.preRequisites)&&o.preRequisites.length>0&&m.createElement(m.Fragment,null,m.createElement("h4",null,c("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),m.createElement(K.Z,null,o.preRequisites.map((function(e,t){var n=function(){var e=[];return(0,q.Z)(o.parametersDescription)&&Object.entries(o.parametersDescription).map((function(t){var n=oe(t,1)[0];e.push(n)})),e}();return m.createElement(K.Z.Item,{key:t},m.createElement(K.Z.Icon,{name:"check circle outline",color:"green"}),m.createElement(K.Z.Content,null,function(e,t){var n=e.split(" "),o=[],i="";return n.map((function(e,n){t.includes(e)?(o.push(m.createElement("span",{key:n},i," ")),o.push(m.createElement("span",{key:n},m.createElement(u.EK,null,e))),i=""):i=i.concat(e+" ")})),o.push(m.createElement("span",null,i)),m.createElement("p",null,o.map((function(e){return e})))}(e,n)))})))),(0,q.Z)(o.parametersDescription)&&m.createElement(m.Fragment,null,m.createElement("h4",null,c("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.parameters")),m.createElement($.Z,{definition:!0},m.createElement($.Z.Header,null,m.createElement($.Z.Row,null,m.createElement($.Z.HeaderCell,null),m.createElement($.Z.HeaderCell,null,c("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.description")))),m.createElement($.Z.Body,null,Object.entries(o.parametersDescription).map((function(e,t){var n=oe(e,2),o=n[0],i=n[1];return m.createElement($.Z.Row,{key:t},m.createElement($.Z.Cell,null,m.createElement(u.EK,null,o)),m.createElement($.Z.Cell,null,i))}))))),(0,q.Z)(o.defaultStepsDescription)&&m.createElement(m.Fragment,null,m.createElement("h4",null,c("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(o.defaultStepsDescription).map((function(e,t,n){var o=oe(e,2),i=o[0],a=o[1];return m.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(i)},m.createElement("div",{className:"step-number"},t+1),m.createElement("div",{className:"step-text"},a),n.length!==t+1&&m.createElement("div",{className:"step-connector"},m.createElement("div",{className:"step-line"})))}))),o.helpLink&&m.createElement(m.Fragment,null,m.createElement("h4",null,c("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),m.createElement(u.v0,{type:"info",content:m.createElement("a",{target:"_blank",href:o.helpLink,rel:"noopener noreferrer"},o.helpLink)})),o.code&&m.createElement(m.Fragment,null,m.createElement("h4",null,c("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.code")),m.createElement(u.pq,{lint:!0,language:"javascript",sourceCode:o.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(o.title,"-code-editor"),getThemeFromEnvironment:!0}))),m.createElement(Q.Z.Actions,null,m.createElement(u.Qj,{onClick:a},c("common:cancel"))))};re.defaultProps={"data-componentid":"adaptive-auth-template-info-modal"};const le=re;function ce(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var pe=(0,m.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,o=e.onTemplateSelect,i=e.templates,a=e.title,r=e.visible,l=e.isELKConfigureClicked,c=e.onELKModalClose,s=e.readOnly,d=e["data-componentid"],p=(0,f.$)().t,v=se((0,m.useState)(n),2),g=v[0],y=v[1],E=se((0,m.useState)(null),2),I=E[0],A=E[1],w=se((0,m.useState)(!1),2),T=w[0],L=w[1],N=se((0,m.useState)(!1),2),R=N[0],Z=N[1],P=se((0,m.useState)(void 0),2),k=P[0],U=P[1],x=se((0,m.useState)(void 0),2),M=x[0],D=x[1],_=se((0,m.useState)(void 0),2),q=_[0],K=_[1],$=se((0,m.useState)(!1),2),ee=$[0],te=$[1],ne=(0,S.I0)(),oe=function(e,t){var n=t.index,o=ce(g);if(o.includes(n)){var i=o.indexOf(n);o.splice(i,1)}else o.push(n);y(o)},ie=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:J.e.decodeConnectorPropertyName(n),value:e[n]});G.serverConfigurationConfig.connectorToggleName[null==k?void 0:k.name]&&G.serverConfigurationConfig.autoEnableConnectorToggleProperty&&t.properties.push({name:J.e.decodeConnectorPropertyName(G.serverConfigurationConfig.connectorToggleName[null==k?void 0:k.name]),value:"true"}),te(!0),(0,z.u9)(t,M,q).then((function(){ne((0,h.V_)({description:p("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:b.QU.SUCCESS,message:p("console:manage.features.governanceConnectors.notifications.updateConnector.success.message")}))})).catch((function(e){var t,n,o;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.detail?ne((0,h.V_)({description:p("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:b.QU.ERROR,message:p("console:manage.features.governanceConnectors.notifications.updateConnector.error.message")})):ne((0,h.V_)({description:p("console:manage.features.governanceConnectors.notifications.updateConnector.genericError.description"),level:b.QU.ERROR,message:p("console:manage.features.governanceConnectors.notifications.updateConnector.genericError.message")}))})).finally((function(){te(!1),ae()}))},ae=function(){L(!1),c()};(0,m.useEffect)((function(){l&&ue()}),[l]);var re,ue=function(){!function(){var e=X.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=X.v.ANALYTICS_ENGINE_CONNECTOR_ID;D(e),K(t),Z(!0),(0,z.PP)(e,t).then((function(e){U(e)})).catch((function(e){var t,n,o,i,a;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.detail?ne((0,h.V_)({description:p("console:manage.features.governanceConnectors.notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.description}),level:b.QU.ERROR,message:p("console:manage.features.governanceConnectors.notifications.getConnector.error.message")})):ne((0,h.V_)({description:p("console:manage.features.governanceConnectors.notifications.getConnector.genericError.description"),level:b.QU.ERROR,message:p("console:manage.features.governanceConnectors.notifications.getConnector.genericError.message")}))})).finally((function(){Z(!1)}))}(),L(!0)};return m.createElement(m.Fragment,null,I&&m.createElement(le,{template:I,open:!!I,onClose:function(){A(null)}}),m.createElement(W.Z,{as:V.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:r,"data-componentid":d},a&&"string"==typeof a?m.createElement(u.X6,{as:"h6",bold:!0},a):a,i&&i instanceof Array&&i.length>0?m.createElement(B.Z,{as:F.Z,className:"template-category-menu","data-componentid":"".concat(d,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,j.Z)(i,"order").map((function(e,t){return(null==e?void 0:e.templates)&&e.templates instanceof Array&&m.createElement(F.Z.Item,{key:t},m.createElement(B.Z.Title,{active:g.includes(t),className:"category-name",content:e.displayName,index:t,icon:m.createElement(O.Z,{className:"angle right caret-icon"}),onClick:oe,"data-componentid":"".concat(d,"-accordion-title-").concat(t)}),m.createElement(B.Z.Content,{className:"template-list",active:g.includes(t),"data-componentid":"".concat(d,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return m.createElement(F.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},m.createElement(u.GI,{trigger:m.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),m.createElement("div",{className:"actions"},e.name===H&&m.createElement(u.u,{compact:!0,trigger:m.createElement(O.Z,{className:"add-button",name:"cog",onClick:function(){ue()}}),content:p("common:configure")}),m.createElement(u.u,{compact:!0,trigger:m.createElement(O.Z,{className:"add-button",name:"info circle",onClick:function(){A(e)},"data-componentid":"".concat(e.name,"-info")}),content:p("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!s&&m.createElement(u.u,{compact:!0,trigger:m.createElement(O.Z,{className:"add-button",name:"add",onClick:function(){return o(e)},"data-componentid":"".concat(e.name,"-add")}),content:p("common:add")})))}))))}))):null),m.createElement(Q.Z,{open:T,onClose:ae,size:"small",dimmer:"blurring"},m.createElement(Q.Z.Header,null,null==k?void 0:k.friendlyName,m.createElement(u.X6,{subHeading:!0,ellipsis:!0,as:"h6"},p("console:manage.features.governanceConnectors.connectorSubHeading",{name:null==k?void 0:k.friendlyName}))),m.createElement(Q.Z.Content,{className:"elk-analytics-modal",scrolling:!0},R?m.createElement(u.pO,{inline:"centered",active:!0}):m.createElement(Y.Z,{onSubmit:ie,triggerSubmission:function(e){re=e},initialValues:k,isConnectorEnabled:!0,isSubmitting:ee,hideUpdateButton:!0,isModalForm:!0})),m.createElement(Q.Z.Actions,null,m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{"data-testid":"".concat(d,"-cancel-button"),floated:"left",onClick:function(){return ae()}},p("console:apiResources.tabs.scopes.form.cancelButton"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.KM,{"data-testid":"".concat(d,"-finish-button"),floated:"right",onClick:function(){return re()},loading:ee},p("common:update"))))))))}));pe.defaultProps={"data-componentid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var me=(0,m.createContext)(null);me.displayName="AuthenticationFlowContext";const fe=me;var ve=n(61770);const ge=function(){var e=(0,m.useContext)(ve.Z);if(void 0===e)throw new Error("useUserPreferences must be used within a UserPreferencesProvider");return e};function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==be(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ee=function(){var e=(0,m.useContext)(fe),t=ge(),n=t.setPreferences,o=t.preferredAuthenticationFlowBuilderMode;if(void 0===e)throw new Error("UseAuthenticationFlow must be used within a AuthenticationFlowProvider");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preferredAuthenticationFlowBuilderMode:o,setPreferredAuthenticationFlowBuilderMode:function(e){n({preferredAuthenticationFlowBuilderMode:e})}},e)};var Se=n(30640),Ce=n(5163),Oe=n(22829),Ie=n(22102),Ae=n(78037),we=n(1428),Te=n(61133),Le=n(16782);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Re(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Ne(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ne(a)?a:String(a)),o)}var i,a}var ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getDefaultScript",value:function(){return Le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT}},{key:"generateScript",value:function(e){for(var t=[],n=1;n<e;n++)t.push("    executeStep(:index);".replace(":index",n.toString()));var o=Re(Le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT);return o.splice.apply(o,[1,0].concat(t)),o}},{key:"isDefaultScript",value:function(t,n){for(var o=Le.jo.EMPTY_STRING,i=Array.isArray(t)?t.join(Le.jo.EMPTY_STRING):t,a=[],r=0;r<n;r++)a.push("executeStep("+(r+1)+");"),o+=a[r];var l=Le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER+o+Le.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER;return e.minifyScript(i,!1)===e.minifyScript(l,!1)}},{key:"minifyScript",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return Le.jo.EMPTY_STRING;var n=Array.isArray(e)?e.join(Le.jo.EMPTY_STRING):String(e);return t&&(n=n.replace(/\/\*[\s\S]*?\*\/|\/\/.*/gm,Le.jo.EMPTY_STRING)),n=n.replace(/(?:\r\n|\r|\n)/g,Le.jo.EMPTY_STRING).replace(/\s/g,Le.jo.EMPTY_STRING).trim()}},{key:"isEmptyScript",value:function(t){return!t||Array.isArray(t)&&(0===t.length||0==t.join(Le.jo.EMPTY_STRING).trim().length)||t instanceof String&&0===t.trim().length||!e.minifyScript(t)}},{key:"sourceToString",value:function(e){return Array.isArray(e)?e.join(Le.jo.LINE_BREAK):null!=e?e:Le.jo.EMPTY_STRING}}],(n=null)&&Pe(t.prototype,n),o&&Pe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function xe(){xe=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),l=new R(o||[]);return i(r,"_invoke",{value:w(e,n,l)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function h(){}function y(){}var E={};s(E,r,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(Z([])));C&&C!==n&&o.call(C,r)&&(E=C);var O=y.prototype=b.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,r,l){var c=d(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ue(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return a=a?a.then(i,i):i()}})}function w(t,n,o){var i=p;return function(a,r){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw r;return{value:e,done:!0}}for(o.method=a,o.arg=r;;){var l=o.delegate;if(l){var c=T(l,o);if(c){if(c===g)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var s=d(t,n,o);if("normal"===s.type){if(i=o.done?v:m,s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(i=v,o.method="throw",o.arg=s.arg)}}}function T(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ue(t)+" is not iterable")}return h.prototype=y,i(O,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},I(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new A(u(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},I(O),s(O,c,"Generator"),s(O,r,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=Z,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:Z(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Me(e,t,n,o,i,a,r){try{var l=e[a](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(o,i)}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var We=function(e){var t,n,o,i=e.authenticationSequence,a=e.onTemplateSelect,r=e.onScriptChange,l=e.readOnly,c=e.authenticationSteps,g=e.isDefaultScript,y=e.onAdaptiveScriptReset,C=e["data-componentid"],N=(0,f.$)().t,j=(0,u.fQ)().getLink,Q=(0,S.I0)(),B=(0,m.useRef)(null),V=(0,m.useRef)(null),G=Fe((0,m.useState)(void 0),2),z=G[0],X=G[1],Y=Fe((0,m.useState)(void 0),2),J=Y[0],q=Y[1],K=Fe((0,m.useState)(!0),2),$=K[0],ee=K[1],te=Fe((0,m.useState)(void 0),2),ne=te[0],oe=te[1],ie=Fe((0,m.useState)(!0),2),ae=ie[0],re=ie[1],le=Fe((0,m.useState)(void 0),2),ce=le[0],se=le[1],ue=Fe((0,m.useState)(void 0),2),de=ue[0],me=ue[1],fe=Fe((0,m.useState)(!1),2),ve=fe[0],ge=fe[1],be=Fe((0,m.useState)(!1),2),he=be[0],ye=be[1],Ne=Fe((0,m.useState)(!1),2),Re=Ne[0],Ze=Ne[1],Pe=Fe((0,m.useState)(!1),2),Ue=Pe[0],De=Pe[1],We=Fe((0,m.useState)(!1),2),_e=We[0],je=We[1],Qe=Fe((0,m.useState)(!1),2),Be=Qe[0],Ve=Qe[1],Ge=Fe((0,m.useState)(void 0),2),He=Ge[0],ze=Ge[1],Xe=Fe((0,m.useState)(!1),2),Ye=Xe[0],Je=Xe[1],qe=(0,w.Ac)("console.application.signIn.adaptiveAuth"),Ke=(0,w.wY)("console.application.signIn.adaptiveAuth"),$e=Fe((0,m.useState)(!1),2),et=$e[0],tt=$e[1],nt=Fe((0,m.useState)(!1),2),ot=nt[0],it=nt[1],at=Fe((0,m.useState)([]),2),rt=at[0],lt=at[1],ct=Fe((0,m.useState)([]),2),st=ct[0],ut=ct[1],dt=Fe((0,m.useState)(!0),2),pt=dt[0],mt=dt[1],ft=Fe((0,m.useState)(!1),2),vt=ft[0],gt=ft[1],bt=Fe((0,m.useState)(void 0),2),ht=bt[0],yt=bt[1],Et=Ee(),St=Et.isConditionalAuthenticationEnabled,Ct=Et.onConditionalAuthenticationToggle,Ot=Se.lD.getInstance(),It=(0,S.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),At=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.features}));(0,m.useEffect)((function(){var e,t;(0,L.hasRequiredScopes)(null==At?void 0:At.secretsManagement,null==At||null===(e=At.secretsManagement)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.read,It)&&wt()}),[]);var wt=function(){Oe.F.getOrganizationType()!==Ce.$B.SUPER_ORGANIZATION&&Oe.F.getOrganizationType()!==Ce.$B.FIRST_LEVEL_ORGANIZATION&&Oe.F.getOrganizationType()!==Ce.$B.TENANT||(mt(!0),(0,Ie.pR)({params:{secretType:we.H0}}).then((function(e){lt(e.data),ut(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?Q((0,h.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:b.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):Q((0,h.V_)({description:N("console:develop.features.secrets.errors.generic.description"),level:b.QU.ERROR,message:N("console:develop.features.secrets.errors.generic.message")}))})).finally((function(){mt(!1)})))};(0,m.useEffect)((function(){qe===w.iK.ENABLED&&null!=Ke&&Ke.includes(w.yM.PREMIUM)&&tt(!0)}),[]);var Tt=function(){wt()},Lt=function(){Ve(!1),Tt()};(0,m.useEffect)((function(){(0,Te.im)().then((function(e){X(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Q((0,h.V_)({description:e.response.data.description,level:b.QU.ERROR,message:T.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):Q((0,h.V_)({description:Le.jo.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:b.QU.ERROR,message:T.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var Nt=function(){var e,t,n,o="100%";$&&(o="calc(100% - ".concat(null==B||null===(e=B.current)||void 0===e||null===(t=e.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.offsetWidth,"px)"));V.current.style.width=o};(0,m.useEffect)((function(){Nt()}),[$]),(0,m.useEffect)((function(){Nt()})),(0,m.useEffect)((function(){var e;l?Ct(!0):null==i||!i.script||ke.isDefaultScript(i.script,null==i||null===(e=i.steps)||void 0===e?void 0:e.length)?Ct(!1):Ct(!0)}),[i]),(0,m.useEffect)((function(){Ut(null==i?void 0:i.script)}),[null==i?void 0:i.steps,null==i?void 0:i.script,c]);var Rt,Zt,Pt,kt,Ut=function(e){var t,n;if(!e&&0===(null==i||null===(t=i.steps)||void 0===t?void 0:t.length))return oe(ke.getDefaultScript()),void ge(!1);if(!e&&(null==i||null===(n=i.steps)||void 0===n?void 0:n.length)>0)return oe(ke.generateScript(c+1)),void ge(!1);if(s.StringUtils.isValidJSONString(e)){if(ve&&!he&&ke.minifyScript(ce)!==ke.minifyScript(JSON.parse(e)))return;return ge(!0),oe(JSON.parse(e)),void ye(!1)}return e&&function(e){for(var t=!1,n=de>c?de:c;n>0;n--)if(ke.isDefaultScript(e,n)){t=!0;break}return t}(e)&&ke.minifyScript(ce)===ke.minifyScript(ne)||e&&ke.isDefaultScript(null!=ce?ce:e,null!=de?de:c)&&ke.minifyScript(ce)!==ke.minifyScript(ne)?(me(c),oe(ke.generateScript(c+1)),void ge(!1)):e&&!ke.isDefaultScript(null!=ce?ce:e,null!=de?de:c)?(me(c),ke.minifyScript(ce)!==ke.minifyScript(e)&&ke.minifyScript(ce)!==ke.minifyScript(ne)?void oe(null!=ce?ce:e):(oe(R().js((0,_.jr)(e))),void ge(!1))):void(g?xt():(oe(e),ge(!1)))},xt=function(){oe(ke.generateScript(c+1)),ge(!1),y(),Ct(!1)},Mt=[{content:m.createElement("div",{className:"tour-step"},m.createElement(u.X6,{bold:!0,as:"h6"},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),m.createElement(u.xv,null,N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",m.createElement(u.EK,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:m.createElement("div",{className:"tour-step"},m.createElement(u.X6,{bold:!0,as:"h6"},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),m.createElement(u.xv,null,N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:m.createElement("div",{className:"tour-step"},m.createElement(u.X6,{bold:!0,as:"h6"},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",m.createElement(u.EK,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],Ft=function(){var e,t=(e=xe().mark((function e(){return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ht){e.next=19;break}return e.prev=1,e.next=4,(0,Ie.c8)({params:{secretName:ht.secretName,secretType:ht.type}});case 4:Q((0,h.V_)({description:N("console:develop.features.secrets.alerts.deleteSecret.description",{secretName:ht.secretName,secretType:ht.type}),level:b.QU.SUCCESS,message:N("console:develop.features.secrets.alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return Q((0,h.V_)({description:e.t0.response.data.description,level:b.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:Q((0,h.V_)({description:N("console:develop.features.secrets.errors.generic.description"),level:b.QU.ERROR,message:N("console:develop.features.secrets.errors.generic.message")}));case 13:return e.prev=13,Tt(),gt(!1),yt(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Me(a,o,i,r,l,"next",e)}function l(e){Me(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),Dt=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Se.Wj.getUserPreferences();if(!(0,p.Z)(n)){var o=(0,d.Z)(n);(0,P.Z)(null==o||null===(e=o.identityAppsSettings)||void 0===e?void 0:e.devPortal,Le.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),Se.Wj.setUserPreferences(o)}},Wt=function(){var e,t=Se.Wj.getUserPreferences();return!(0,p.Z)(t)&&(0,Z.Z)(null==t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,Le.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},_t=m.createElement(u.cV,{onClose:function(){gt(!1),yt(void 0)},onSecondaryActionClick:function(){gt(!1),yt(void 0)},onPrimaryActionClick:Ft,open:vt,type:"negative",assertionHint:N("console:develop.features.secrets.modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:N("console:develop.features.secrets.modals.deleteSecret.primaryActionButtonText"),secondaryAction:N("console:develop.features.secrets.modals.deleteSecret.secondaryActionButtonText"),"data-componentid":"".concat(C,"-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-componentid":"".concat(C,"-delete-confirmation-modal-header")},N("console:develop.features.secrets.modals.deleteSecret.title")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(C,"-delete-confirmation-modal-message")},N("console:develop.features.secrets.modals.deleteSecret.warningMessage")),m.createElement(u.cV.Content,{"data-componentid":"".concat(C,"-delete-confirmation-modal-content")},N("console:develop.features.secrets.modals.deleteSecret.content")));return m.createElement(m.Fragment,null,m.createElement("div",{className:"conditional-auth-section"},m.createElement(u.el,{fluid:!0,"data-componentid":"".concat(C,"-accordion"),className:"conditional-auth-accordion"},m.createElement(u.el.Title,{"data-componentid":"".concat(C,"-accordion-title"),active:St,content:m.createElement(m.Fragment,null,m.createElement("div",{className:"conditional-auth-accordion-title"},!l&&m.createElement(D.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){St?Ze(!0):(Ot.publish("application-sign-in-method-enable-conditional-authentication"),Ct(!0))},checked:St,className:"conditional-auth-accordion-toggle"}),m.createElement("div",{className:"conditional-auth-accordion-title-text"},m.createElement(u.X6,{as:"h5",compact:!0,className:"heading"},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading"),et&&m.createElement(u.GI,{basic:!0,inverted:!0,position:"top center",content:m.createElement("p",null,N("console:featureGate.enabledFeatures.tags.premium.warning")),trigger:m.createElement(A.Z,{label:"PREMIUM",className:"oxygen-menu-item-chip oxygen-chip-premium",style:{height:"fit-content"}})})),m.createElement(u.xv,{muted:!0,compact:!0},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),m.createElement(u.eb,{link:j("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},N("common:learnMore"))))),m.createElement(k.ZP,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==k.Q_.FINISHED&&e.status!==k.Q_.SKIPPED||Dt()},run:!!St&&!1===Wt(),steps:Mt,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:N("common:back"),close:N("common:close"),last:N("common:done"),next:N("common:next"),skip:N("common:skip")}})),hideChevron:!0}),m.createElement(u.el.Content,{active:St,className:"conditional-auth-accordion-content","data-componentid":"".concat(C,"-accordion-content")},m.createElement(W.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!l&&m.createElement(pe,{onELKModalClose:function(){return it(!1)},isELKConfigureClicked:ot,title:N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:B,onTemplateSelect:function(e){q(e),De(!0)},templates:(null==z?void 0:z.templatesJSON)&&Object.values(z.templatesJSON),visible:$,readOnly:l,"data-componentid":"".concat(C,"-script-templates-side-panel")}),m.createElement(W.Z.Pusher,null,m.createElement("div",{className:"script-editor-container",ref:V},m.createElement(F.Z,{attached:"top",className:"action-panel",secondary:!0},m.createElement(F.Z.Menu,{position:"right"},void 0===(kt=j("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference"))?null:m.createElement(F.Z.Item,{className:"action p-3",href:kt,target:"_blank"},m.createElement(u.u,{compact:!0,trigger:m.createElement(u.zx,{labelPosition:"left"},m.createElement(u.dn,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,Se.YT)().openBookIcon,"data-componentid":"".concat(C,"-code-editor-open-documentation")}),m.createElement("p",null,N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"})),(null==At||null===(t=At.secretsManagement)||void 0===t?void 0:t.enabled)&&(0,L.hasRequiredScopes)(null==At?void 0:At.secretsManagement,null==At||null===(n=At.secretsManagement)||void 0===n||null===(o=n.scopes)||void 0===o?void 0:o.read,It)&&m.createElement(F.Z.Item,{className:"action ".concat(Ye?"selected-secret":"")},m.createElement("div",null,m.createElement(U.Z,{defaultOpen:!pt,labeled:!0,button:!0,upward:!1,options:st,onOpen:function(){return Je(!0)},onClose:function(){return Je(!1)},icon:m.createElement(u.GI,{disabled:Ye,trigger:m.createElement("div",null,m.createElement(u.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,Se.YT)().keyIcon,"data-componentid":"".concat(C,"-code-editor-secret-selection")})),content:m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.keyIcon"},"Securely store access keys as secrets. A secret can replace the consumer secret in ",m.createElement(u.EK,null,"callChoreo()")," function in the conditional authentication scripts."),position:"bottom left",pinned:!0})},m.createElement(U.Z.Menu,null,rt.length>0&&m.createElement(x.Z,{"data-componentid":"".concat(C,"-secret-search"),icon:"search",iconPosition:"left",className:"search",placeholder:N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?ut(rt.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):ut(rt)},onClick:function(e){return e.stopPropagation()}}),m.createElement(U.Z.Menu,{"data-componentid":"".concat(C,"-secret-list"),scrolling:!0,className:"custom-dropdown"},st.length>0?st.map((function(e){return m.createElement(U.Z.Item,{key:e.secretId},m.createElement(M.Z,{as:"h6",className:"header-with-icon",style:{margin:"0.25rem auto"}},m.createElement(u.dn,{defaultIcon:!0,link:!0,linkType:"primary",transparent:!0,floated:"right",size:"micro",style:{paddingTop:0},icon:m.createElement(u.u,{trigger:m.createElement(O.Z,{name:"trash alternate"}),content:N("common:delete"),size:"mini"}),onClick:function(){!function(e){yt(e),gt(!0)}(e)},"data-componentid":"".concat(C,"-secret-delete")}),m.createElement(u.dn,{defaultIcon:!0,transparent:!0,link:!0,linkType:"primary",floated:"right",size:"micro",style:{paddingTop:0},icon:m.createElement(u.u,{trigger:m.createElement(O.Z,{name:"plus"}),content:N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.plusIcon"),size:"mini"}),onClick:function(){!function(e){var t=null==He?void 0:He.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var o=t.getCursor();t.replaceRange(n,o)}}(e)},"data-componentid":"".concat(C,"-secret-add")}),m.createElement(M.Z.Content,null,e.secretName),m.createElement(M.Z.Subheader,{className:"truncate ellipsis"},e.description)))})):m.createElement(U.Z.Item,{"data-componentid":"".concat(C,"-empty-placeholder"),key:"secretEmptyPlaceholder",text:N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.emptyPlaceholder"),disabled:!0})),(null==At||null===(Rt=At.secretsManagement)||void 0===Rt?void 0:Rt.enabled)&&(0,L.hasRequiredScopes)(null==At?void 0:At.secretsManagement,null==At||null===(Zt=At.secretsManagement)||void 0===Zt||null===(Pt=Zt.scopes)||void 0===Pt?void 0:Pt.create,It)&&(Oe.F.getOrganizationType()===Ce.$B.SUPER_ORGANIZATION||Oe.F.getOrganizationType()===Ce.$B.FIRST_LEVEL_ORGANIZATION||Oe.F.getOrganizationType()===Ce.$B.TENANT)&&m.createElement(U.Z.Menu,{className:"create-button-item",scrolling:!0},m.createElement(U.Z.Item,{key:"createSecret",text:N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"),onClick:function(){Ve(!0)}})))))),m.createElement(F.Z.Item,{className:"action"},m.createElement(u.u,{compact:!0,trigger:m.createElement("div",null,m.createElement(u.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,Se.YT)().maximize,onClick:function(){je(!_e)},"data-componentid":"".concat(C,"-code-editor-fullscreen-toggle")})),content:function(){var e=N("common:goFullScreen");return _e&&setTimeout((function(){e=N("common:exitFullScreen")}),500),e},size:"mini"})),m.createElement(F.Z.Item,{className:"action"},m.createElement(u.u,{compact:!0,trigger:m.createElement("div",null,m.createElement(u.dn,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:ae?(0,Se.YT)().lightMode:(0,Se.YT)().darkMode,onClick:function(){re(!ae)},"data-componentid":"".concat(C,"-code-editor-mode-toggle")})),content:N(ae?"common:lightMode":"common:darkMode"),size:"mini"})),!l&&m.createElement(F.Z.Item,{onClick:function(){ee(!$)},className:"action hamburger","data-componentid":"".concat(C,"-script-template-sidebar-toggle")},m.createElement(O.Z,{name:"bars"})))),m.createElement("div",{className:"code-editor-wrapper"},m.createElement(u.pq,{editorDidMount:function(e){ze(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:_e,language:"javascript",sourceCode:ne,options:{lineWrapping:!0},onChange:function(e,t,n){se(n),r(n)},onFullScreenToggle:function(e){je(e),function(){var e=ke.sourceToString(ce);if(e!==ke.sourceToString(ne)){var t=null==He?void 0:He.doc.getCursor();oe(e.split(Le.jo.LINE_BREAK)),null==He||He.doc.setCursor(t)}}()},theme:ae?"dark":"light",readOnly:l,translations:{copyCode:N("common:copyToClipboard"),exitFullScreen:N("common:exitFullScreen"),goFullScreen:N("common:goFullScreen")},"data-componentid":"".concat(C,"-code-editor")}))))))),Be&&m.createElement(Ae.Z,{onClose:Lt}),vt&&_t),Re&&m.createElement(u.cV,{onClose:function(){return Ze(!1)},type:"warning",open:Re,primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return Ze(!1)},onPrimaryActionClick:function(){Ze(!1),xt()},"data-componentid":"".concat(C,"-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-componentid":"".concat(C,"-reset-confirmation-modal-header")},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(C,"-reset-confirmation-modal-message")},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),m.createElement(u.cV.Content,{"data-componentid":"".concat(C,"-reset-confirmation-modal-content")},m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",m.createElement(u.EK,null,"Confirm")," to proceed."))),Ue&&m.createElement(u.cV,{onClose:function(){return De(!1)},type:"warning",open:Ue,primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){De(!1),q(void 0)},onPrimaryActionClick:function(){var e;De(!1),e=J,Ot.publish("application-sign-in-method-conditional-authentication-template",{type:(0,E.Z)(e.name)}),ye(!0),a(e),q(void 0)},"data-componentid":"".concat(C,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-componentid":"".concat(C,"-reset-confirmation-modal-header")},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(C,"-reset-confirmation-modal-message")},N("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),m.createElement(u.cV.Content,{"data-componentid":"".concat(C,"-reset-confirmation-modal-content")},J.name===H&&m.createElement(m.Fragment,null,m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:manage.features.governanceConnectors.connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",m.createElement(u.rU,{onClick:function(){return it(!0)},external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:manage.features.governanceConnectors.connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",m.createElement(u.EK,null,m.createElement(I.UG,{size:14})),")")),m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",m.createElement(u.EK,null,"Confirm")," to proceed."))))};We.defaultProps={"data-componentid":"script-based-flow"};var _e=n(67665),je=n(83849),Qe=n.n(je),Be=n(50350),Ve=n(2189),Ge=n(80254),He=n(73949),ze=n(43554),Xe=n(16029),Ye=n(91478),Je=n(69502),qe=n(56467),Ke=n(53397),$e=n(20105),et=n(7112),tt=n(76437),nt=n(62517);function ot(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function at(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function st(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,dt(o.key),o)}}function ut(e,t,n){return(t=dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){var t=function(e,t){if("object"!==it(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==it(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===it(t)?t:String(t)}var pt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"isSecondFactorAdditionValid",value:function(e,t,n){var o=rt(this.getLeftAndRightSideSteps(t,n),1)[0];return e===Ke.b.TOTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(Le.jo.TOTP_HANDLERS,o):e===Ke.b.EMAIL_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(Le.jo.EMAIL_OTP_HANDLERS,o):e===Ke.b.SMS_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(Le.jo.SMS_OTP_HANDLERS,o):this.hasSpecificFactorsInSteps(Le.jo.FIRST_FACTOR_AUTHENTICATORS,o)}},{key:"isFirstFactorValid",value:function(e,t){var n,o;return!(null===(n=t[e])||void 0===n||null===(o=n.options)||void 0===o?void 0:o.find((function(e){return e.authenticator===Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR||e.authenticator===Ke.b.BASIC_AUTHENTICATOR})))}},{key:"isConnectionsJITUPConflictWithMFA",value:function(e){var t=e.federatedAuthenticators,n=e.steps,o=e.subjectStepId;try{var i=(0,nt.Z)(n.filter((function(e){return e.id===o})).map((function(e){return e.options}))),a=at(new Set(i.map((function(e){return e.idp})))).map((function(e){return t.find((function(t){return t.name===e}))})).filter(Boolean).filter((function(e){var t,n;return!(null!=e&&null!==(t=e.provisioning)&&void 0!==t&&null!==(n=t.jit)&&void 0!==n&&n.isEnabled)}));if(n.length<2)return{conflicting:!1,idpList:[]};var r=(0,nt.Z)(n.slice(1).map((function(e){return e.options}))),l=new Set(Le.jo.SECOND_FACTOR_AUTHENTICATORS),c=r.filter((function(e){return l.has(e.authenticator)}));return{conflicting:a.length>0&&c.length>0,idpList:null!=a?a:[]}}catch(s){return{conflicting:!1,idpList:[]}}}},{key:"isFederatedConflictWithSMSOTP",value:function(e){var t=e.federatedAuthenticators,n=e.steps,o=e.subjectStepId;try{var i=(0,nt.Z)(n.filter((function(e){return e.id===o})).map((function(e){return e.options}))),a=at(new Set(i.map((function(e){return e.idp})))).map((function(e){return t.find((function(t){return t.name===e}))})).filter(Boolean);if(n.length<2)return{conflicting:!1,idpList:[]};var r=(0,nt.Z)(n.slice(1).map((function(e){return e.options}))),l=r.some((function(e){return"sms-otp-authenticator"===e.authenticator}));return{conflicting:a.length>0&&l,idpList:null!=a?a:[]}}catch(c){return{conflicting:!1,idpList:[]}}}},{key:"countTwoFactorAuthenticatorsInCurrentStep",value:function(e,t){return t[e].options.filter((function(e){return e.authenticator===Ke.b.TOTP_AUTHENTICATOR||e.authenticator===Ke.b.EMAIL_OTP_AUTHENTICATOR||e.authenticator===Ke.b.SMS_OTP_AUTHENTICATOR})).length}},{key:"hasSpecificAuthenticatorInCurrentStep",value:function(e,t,n){return!!n[t].options.find((function(t){return t.authenticator===e}))}}],(n=null)&&st(t.prototype,n),o&&st(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ut(pt,"getLeftAndRightSideSteps",(function(e,t){return[0!==e?t.slice(0,e):[],e+1 in t?t.slice(e+1):[],e+1 in t?t.slice(e+1,e+2):[]]})),ut(pt,"hasSpecificFactorsInSteps",(function(e,t){var n,o=!1,i=ot(t);try{for(i.s();!(n=i.n()).done;){var a,r=ot(n.value.options);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(e.includes(l.authenticator)){o=!0;break}}}catch(c){r.e(c)}finally{r.f()}if(o)break}}catch(c){i.e(c)}finally{i.f()}return o})),ut(pt,"getImmediateStepHavingSpecificFactors",(function(e,t){var n,o=!1,i=-1,a=ot(t.entries());try{for(a.s();!(n=a.n()).done;){var r,l=rt(n.value,2),c=l[0],s=ot(l[1].options);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e.includes(u.authenticator)){o=!0,i=c;break}}}catch(d){s.e(d)}finally{s.f()}if(o)break}}catch(d){a.e(d)}finally{a.f()}return i})),ut(pt,"checkImmediateStepHavingSpecificFactors",(function(e,t){var n,o=!1,i=ot(t.entries());try{for(i.s();!(n=i.n()).done;){var a,r=ot(rt(n.value,2)[1].options);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(e.includes(l.authenticator)){o=!0;break}}}catch(c){r.e(c)}finally{r.f()}if(o)break}}catch(c){i.e(c)}finally{i.f()}return o})),ut(pt,"countSpecificFactorInSteps",(function(e,t){var n,o=0,i=ot(t);try{for(i.s();!(n=i.n()).done;){var a,r=ot(n.value.options);try{for(r.s();!(a=r.n()).done;){var l=a.value;e.includes(l.authenticator)&&o++}}catch(c){r.e(c)}finally{r.f()}}}catch(c){i.e(c)}finally{i.f()}return o}));var bt=function(e){var t=e.authenticators,n=e.authenticationSteps,o=e.currentStep,i=e.defaultName,a=e.heading,r=e.onAuthenticatorSelect,l=e.selected,s=e.showLabels,d=e["data-testid"],p=(0,f.$)().t,g=(0,c.Z)().UIConfig,b=null==g?void 0:g.connectionResourcesUrl,h=ft((0,m.useState)(void 0),2),y=h[0],E=h[1],C=Qe()("authenticator",{"with-labels":s}),I=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSAASDeployment}));(0,m.useEffect)((function(){l&&E(l)}),[l]);var w=function(e){if(e.category===et.Xi.SECOND_FACTOR)return 0!==o&&pt.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,o,n);if(e.name===Ke.b.BACKUP_CODE_AUTHENTICATOR)return 0!==o&&pt.countTwoFactorAuthenticatorsInCurrentStep(o,n)>0;if([Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR_ID,Ke.b.BASIC_AUTHENTICATOR_ID].includes(e.id))return pt.isFirstFactorValid(o,n);if(e.name===Ke.b.SESSION_EXECUTOR_AUTHENTICATOR){var t,i;if(0!==(null===(t=n[o])||void 0===t||null===(i=t.options)||void 0===i?void 0:i.length))return!1;var a=ft(pt.getLeftAndRightSideSteps(o,n),1)[0];if(!pt.hasSpecificFactorsInSteps(tt.j.ACTIVE_SESSIONS_LIMIT_HANDLERS,a))return!1}return!0},T=function(e){var t,i,a,r,l=m.createElement(He.Z,{attached:"top"},m.createElement(O.Z,{name:"info circle"})," Info");return e.category===et.Xi.SECOND_FACTOR?m.createElement(m.Fragment,null,0===o?m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,null!==(t=Ye.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,null!==(i=Ye.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==i?i:m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",m.createElement(u.EK,{withBackground:!0},"Username & Password"),","," ",m.createElement(u.EK,{withBackground:!0},"Social Login"),",",m.createElement(u.EK,{withBackground:!0},"Passkey"),"or any other handlers that can handle these factors are present in a previous step.")))):e.name===Ke.b.BACKUP_CODE_AUTHENTICATOR?m.createElement(m.Fragment,null,0===o?m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabledInFirstStep"))):m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabled")))):e.category===et.Xi.SOCIAL?m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):[Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR_ID,Ke.b.BASIC_AUTHENTICATOR_ID].includes(e.id)?m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):e.name===Ke.b.SESSION_EXECUTOR_AUTHENTICATOR?m.createElement(m.Fragment,null,l,m.createElement(u.xv,null,0!==(null===(a=n[o])||void 0===a||null===(r=a.options)||void 0===r?void 0:r.length)?p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInMultiOptionStep"):p("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInFirstStep"))):void 0},L=function(e){var t;return e&&null!==(t=$e.C.getAuthenticatorLabels(null==e?void 0:e.defaultAuthenticator))&&void 0!==t?t:[]},N=function(e){var t;return I&&(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===Je.fB.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID?m.createElement(A.Z,{size:"small",label:p("common:beta").toUpperCase(),className:"oxygen-chip-beta"}):null};return m.createElement(m.Fragment,{"data-testid":d},a&&m.createElement(u.X6,{as:"h6"},a),t.map((function(e,t){var n;return e.id===Ke.b.BACKUP_CODE_AUTHENTICATOR_ID?null:m.createElement(u.GI,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:w(e),content:T(e),trigger:m.createElement(u.rJ,{showTooltips:!0,imageSize:"micro",className:C,header:e.displayName||i,disabled:!w(e),selected:w(e)&&Array.isArray(y)&&y.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,featureStatus:N(e),image:e.idp===et.Xi.LOCAL||(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId)===Je.fB.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID?e.image:qe.Zs.resolveConnectionResourcePath(b,e.image),tags:s&&L(e),onClick:function(){w(e)&&function(e){if(e.isEnabled){if(y.some((function(t){return t.id===e.id}))){var t=y.filter((function(t){return t.id!==e.id}));return r(t),void E(t)}r([].concat(mt(y),[e])),E([].concat(mt(y),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(d,"-authenticator-").concat(e.name),showCardAction:!1,showSetupGuideButton:!1})})})))};bt.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var ht=n(46910),yt=n(99705),Et=n(92305),St=n(87797),Ct=n(91303),Ot=n(91101),It=n(68023),At=n(18606);function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}var Tt=["allowSocialLoginAddition","authenticationSteps","authenticators","className","currentStep","header","onClose","open","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","data-testid"];function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Lt.apply(this,arguments)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==wt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||Ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Mt(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ft=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,o=e.authenticators,i=e.className,a=e.currentStep,r=e.header,l=e.onClose,c=e.open,s=e.onIDPCreateWizardTrigger,d=e.onModalSubmit,v=e.message,b=e.showStepSelector,h=e.stepCount,y=e.showLabels,I=e["data-testid"],A=Mt(e,Tt),w=(0,f.$)().t,T=(0,u.fQ)().getLink,L=Ee().hiddenAuthenticators,N=(0,_e.Z)().deploymentConfig,R=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSAASDeployment})),Z=(0,S.v9)((function(e){var t,n;return null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.hiddenConnectionTemplates})),P=(0,S.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),k=(0,S.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),U=St.l.getInstance(),M=kt((0,m.useState)(c),1)[0],F=kt((0,m.useState)([]),2),D=F[0],W=F[1],_=kt((0,m.useState)([]),2),j=_[0],B=_[1],V=kt((0,m.useState)([]),2),G=V[0],H=V[1],z=kt((0,m.useState)(h),2),X=z[0],Y=z[1],J=kt((0,m.useState)(null),2),q=J[0],K=J[1],$=kt((0,m.useState)(!1),2),ee=$[0],te=$[1],ne=kt((0,m.useState)([]),2),oe=ne[0],ie=ne[1],ae=kt((0,m.useState)([]),2),re=ae[0],le=ae[1],ce=kt((0,m.useState)([]),2),se=ce[0],ue=ce[1];(0,m.useEffect)((function(){P||It.b.getIdentityProviderTemplates()}),[P]),(0,m.useEffect)((function(){if(o){var e=[].concat(Pt(de(o.local,et.Xi.LOCAL,w($e.C.getAuthenticatorTypeDisplayName(et.Xi.LOCAL)))),Pt(de(o.social,et.Xi.SOCIAL,w($e.C.getAuthenticatorTypeDisplayName(et.Xi.SOCIAL)))),Pt(de(o.secondFactor,et.Xi.SECOND_FACTOR,w($e.C.getAuthenticatorTypeDisplayName(et.Xi.SECOND_FACTOR)))),Pt(de(o.enterprise,et.Xi.ENTERPRISE,w($e.C.getAuthenticatorTypeDisplayName(et.Xi.ENTERPRISE)))),Pt(de(o.recovery,et.Xi.RECOVERY,w($e.C.getAuthenticatorTypeDisplayName(et.Xi.RECOVERY)))));e=k===Ce.$B.SUBORGANIZATION&&null!==yt.identityProviderConfig&&void 0!==yt.identityProviderConfig&&yt.identityProviderConfig.disableSMSOTPInSubOrgs?e.filter((function(e){var t;return e.name!==Ke.b.SMS_OTP_AUTHENTICATOR_ID&&e.name!==(null===ht.authenticatorConfig||void 0===ht.authenticatorConfig||null===(t=ht.authenticatorConfig.overriddenAuthenticatorNames)||void 0===t?void 0:t.SMS_OTP_AUTHENTICATOR)})):e,H(e),B(e),pe(e)}}),[o]);var de=function(e,t,n){return(0,p.Z)(e)?[]:!L||!Array.isArray(L)||L.length<1?e:e.filter((function(e){return!L.includes(e.name)})).map((function(e){return Rt(Rt({},e),{},{category:t,categoryDisplayName:n})}))},pe=function(e){var t=[];e.filter((function(e){Ot.z.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),ie(t)},me=function(e,t){var n=t.value.toLocaleLowerCase();K(n),H(fe(n,re))},fe=function(e,t){var n=function(e){return!!(0,p.Z)(t)||Ot.z.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return j.filter((function(t){var o,i,a,r,l;return e?(null==t||null===(o=t.displayName)||void 0===o?void 0:o.toLocaleLowerCase()).includes(e)||Ot.z.getAuthenticatorLabels(t).some((function(t){var n,o,i;return(null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.includes(e))||(null===(o=(0,Ve.Z)(t))||void 0===o||null===(i=o.toLocaleLowerCase())||void 0===i?void 0:i.includes(e))}))||null!==(i=t.category)&&void 0!==i&&null!==(a=i.toLocaleLowerCase())&&void 0!==a&&a.includes(e)||null!==(r=t.categoryDisplayName)&&void 0!==r&&null!==(l=r.toLocaleLowerCase())&&void 0!==l&&l.includes(e)?n(t):void 0:n(t)}))},ve=function(){if(P)(e=P,It.b.categorizeTemplates(e).then((function(e){var t=[];e.filter((function(e){e.templates=(0,Be.Z)(e.templates,["comingSoon"],["desc"]),e.templates.filter((function(e){null!=e&&e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(t=(0,Ge.Z)(t,e.tags))}))})),ue(e)})).catch((function(){ue([])}))).then((function(){return te(!0)}));else var e};return m.createElement(Q.Z,Lt({className:Qe()("add-authenticator-modal",i),"data-testid":I,open:M},A),m.createElement(Q.Z.Header,null,r),b&&m.createElement(Q.Z.Content,{className:"step-selection-dropdown-container"},m.createElement(m.Fragment,null,m.createElement(u.X6,{as:"h5"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),m.createElement(u.kW,null,w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),m.createElement(Xe.Z,null,m.createElement(Xe.Z.Field,{inline:!0},m.createElement(Xe.Z.Select,{scrolling:!0,placeholder:w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<h;t++)e.push({key:t,text:"".concat(w("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;Y(parseInt(n,10))},value:X,"data-testid":"".concat(I,"-step-select")}))))),ee&&se?m.createElement(Q.Z.Content,{scrolling:!0,className:"authenticator-container"},m.createElement("div",{className:"page-header-wrapper"},m.createElement("div",{className:"back-button mb-0",onClick:function(){return te(!1)}},m.createElement(O.Z,{name:"arrow left"}),w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),m.createElement(g.Z,{hidden:!0}),se.map((function(e,t){return m.createElement(u.Q8,{key:t,isEmpty:!(null!=e&&e.templates&&Array.isArray(e.templates)&&e.templates.length>0),emptyPlaceholder:m.createElement(u.$J,{image:(0,Et.jF)().newList,imageSize:"tiny",title:w("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.title"),subtitle:[w("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.0"),w("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(I,"-empty-placeholder")})},e.templates.map((function(e,t){var n;if([Je.vs.IDP_TEMPLATE_IDS.LINKEDIN,Je.vs.IDP_TEMPLATE_IDS.ORGANIZATION_ENTERPRISE_IDP,Je.vs.TRUSTED_TOKEN_TEMPLATE_ID].concat(Pt(Z)).includes(null==e?void 0:e.templateId))return null;var o=e.disabled,i=void 0;return e.id===Je.vs.IDP_TEMPLATE_IDS.APPLE&&(null===(n=new URL(null==N?void 0:N.serverOrigin))||void 0===n?void 0:n.hostname)===Je.vs.LOCAL_SERVER_URL&&(o=!0,i=w("console:develop.pages.authenticationProviderTemplate.disabledHint.apple")),m.createElement(u.Q8.Card,{showSetupGuideButton:!!R,navigationLink:T(qe.Zs.resolveConnectionDocLink(e.id)),key:t,resourceName:"Expert Mode"===(null==e?void 0:e.name)?"Custom Connector":null==e?void 0:e.name,isResourceComingSoon:e.comingSoon,disabled:o,disabledHint:i,comingSoonRibbonLabel:w("common:comingSoon"),resourceDescription:e.description,resourceImage:Ot.z.resolveTemplateImage(e.image,(0,Ct.nI)()),tags:e.tags,onClick:function(){s(e.id,(function(){te(!1)}),e)},showTooltips:!1,"data-testid":"".concat(I,"-").concat(e.name)})})))}))):m.createElement(m.Fragment,null,m.createElement(Q.Z.Content,{className:"authenticator-search-container"},m.createElement(x.Z,{loading:!1,className:"mb-3",icon:m.createElement(O.Z,{name:"search"}),value:q,iconPosition:"left",fluid:!0,onChange:me,placeholder:w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),oe&&Array.isArray(oe)&&oe.length>0&&m.createElement(He.Z.Group,null,oe.map((function(e,t){var n=re.includes(e);return m.createElement(He.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=re.includes(e)?re.filter((function(t){return t!==e})):[].concat(Pt(re),[e]),le(t),H(fe(q,t))}(e)}},Ot.z.getAuthenticatorLabelDisplayName(e),n&&m.createElement(O.Z,{name:"check"}))})))),m.createElement(Q.Z.Content,{scrolling:!0,className:"authenticator-container"},v,G&&Array.isArray(G)&&G.length>0?m.createElement(ze.Z.Group,{itemsPerRow:3},m.createElement(bt,{authenticators:G,authenticationSteps:n,onAuthenticatorSelect:function(e){W(e)},selected:D,showLabels:y,"data-testid":"".concat(I,"-authenticators"),currentStep:a}),t&&m.createElement(ze.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(y?"with-labels":""),onClick:ve},m.createElement(ze.Z.Content,{textAlign:"center"},m.createElement(u.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,At.s_)().addCircleOutline}),m.createElement(u.xv,{weight:"500"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):m.createElement("div",null,m.createElement(u.$J,{subtitle:[w("console:develop.features.applications.placeholders.emptyAuthenticatorsList.subtitles")]}),t&&m.createElement(ze.Z.Group,{centered:!0,itemsPerRow:3},m.createElement(ze.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(y?"with-labels":""),onClick:ve},m.createElement(ze.Z.Content,{textAlign:"center"},m.createElement(u.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,At.s_)().addCircleOutline}),m.createElement(u.xv,{weight:"500"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),m.createElement(Q.Z.Actions,null,m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:function(e){return l(e,null)}},w("common:cancel"))),!ee&&m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.KM,{floated:"right",onClick:function(){U.compute((function(){null==D||D.forEach((function(e){U.publish("application-sign-in-method-add-new-authenticator",{type:(0,E.Z)(e.defaultAuthenticator.name)})}))})),d(D,X)},disabled:(0,p.Z)(D),"data-testid":"".concat(I,"-next-button")},w("common:add")))))))};Ft.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var Dt=n(73157),Wt=n(76215);function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Qt=function(e){var t=e.authenticators,n=e.className,o=e.onStepDelete,i=e.onAddAuthenticationClick,a=e.onStepOptionAuthenticatorChange,r=e.onStepOptionDelete,l=e.readOnly,s=e.showStepDeleteAction,d=e.showStepMeta,p=e.step,v=e.stepIndex,g=e.subjectStepId,b=e.attributeStepId,h=e.onSubjectCheckboxChange,y=e.onAttributeCheckboxChange,E=e.updateAuthenticationStep,S=e["data-componentid"],C=(0,f.$)().t,I=(0,c.Z)().UIConfig,A=null==I?void 0:I.connectionResourcesUrl,w=Qe()("authentication-step-container timeline-body",n),T=_t((0,m.useState)(!1),2),L=T[0],N=T[1],R=_t((0,m.useState)(!1),2),Z=R[0],P=R[1],k=_t((0,m.useState)(null),2),U=k[0],x=k[1],M=Ee().isConditionalAuthenticationEnabled;(0,m.useEffect)((function(){var e=!1;p.options.map((function(t){[Ke.b.TOTP_AUTHENTICATOR,Ke.b.BACKUP_CODE_AUTHENTICATOR,Ke.b.SESSION_EXECUTOR_AUTHENTICATOR].includes(t.authenticator)?N(!1):N(!0),[Ke.b.TOTP_AUTHENTICATOR,Ke.b.EMAIL_OTP_AUTHENTICATOR,Ke.b.SMS_OTP_AUTHENTICATOR,Ke.b.BACKUP_CODE_AUTHENTICATOR].includes(t.authenticator)&&(e=!0)})),P(e)}),[JSON.stringify(p.options)]);var F,W=(0,m.useMemo)((function(){return g===v+1}),[g,v]),_=(0,m.useMemo)((function(){return b===v+1}),[b,v]),j=(0,m.useMemo)((function(){var e=!1;return p.options.map((function(t,n){t.authenticator===Ke.b.BACKUP_CODE_AUTHENTICATOR&&(e=!0,x(n))})),e}),[JSON.stringify(p.options)]);return m.createElement("div",{className:"timeline-item"},m.createElement("div",{className:"timeline-badge"},p.id),m.createElement("div",{className:w,"data-componentid":S},d&&m.createElement("div",{className:"authentication-step-actions"},m.createElement(u.X6,{className:"step-header",bold:"500",as:"h6"},C("common:step")," ",p.id),!l&&s&&m.createElement(O.Z,{className:"delete-button",name:"cancel",onClick:function(){return o(v)},"data-componentid":"".concat(S,"-delete-button")})),m.createElement("div",{className:"authentication-step with-extension ".concat(p.options&&p.options instanceof Array&&p.options.length>0?"":"empty-placeholder-container")},p.options&&p.options instanceof Array&&p.options.length>0?m.createElement(m.Fragment,null,p.options.map((function(e,n){return function(e,n,o){if(t&&t instanceof Array&&t.length>0){var i,c,s,d,p,f=null;return(f=e.idp===Ke.b.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):t.find((function(t){return t.idp===e.idp})))?m.createElement(u.GI,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(i=f)&&void 0!==i&&i.authenticators&&f.authenticators instanceof Array&&f.authenticators.length>1),trigger:m.createElement("div",{className:"authenticator-item-wrapper","data-componentid":"".concat(S,"-option"),hidden:(null===(c=f)||void 0===c?void 0:c.id)===Ke.b.BACKUP_CODE_AUTHENTICATOR_ID},m.createElement(ze.Z,{fluid:!0,className:"basic-card authenticator-card"},m.createElement(ze.Z.Content,null,!l&&m.createElement(He.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!l&&function(){return r(n,o)},"data-componentid":"".concat(S,"-close-button")},m.createElement(u.dn,{transparent:!0,size:"nano",icon:(0,Se.s_)().crossIcon})),m.createElement(u.dn,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:f.idp===Wt.Xi.LOCAL||(null===(s=f.defaultAuthenticator)||void 0===s?void 0:s.authenticatorId)===Je.fB.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID?f.image:qe.Zs.resolveConnectionResourcePath(A,f.image),"data-componentid":"".concat(S,"-image"),transparent:!0}),m.createElement("span",{"data-componentid":"".concat(S,"-option-name")},f.displayName)))),content:m.createElement("div",null,m.createElement(He.Z,{attached:"top"},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),m.createElement(Xe.Z,{"data-componentid":"".concat(S,"-authenticator-selection")},null===(d=f)||void 0===d||null===(p=d.authenticators)||void 0===p?void 0:p.map((function(t){return m.createElement(Xe.Z.Field,{key:t.authenticatorId},m.createElement(Dt.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return a(n,o,t)}}))}))))}):null}}(e,v,n)})),!l&&m.createElement(u.Qj,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:i},m.createElement(O.Z,{name:"plus"}),C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!l&&m.createElement(m.Fragment,null,m.createElement(u.Qj,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:i},m.createElement(O.Z,{name:"plus"}),C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),m.createElement(u.$J,{subtitle:[C("console:develop.features.applications.placeholders.emptyAuthenticatorStep.subtitles.0")],"data-componentid":"".concat(S,"-empty-placeholder")}))),!l&&d&&p.options&&p.options instanceof Array&&p.options.length>0&&m.createElement("div",{className:"checkboxes-extension"},L?m.createElement(m.Fragment,null,(F=!1,p.options.map((function(e){e.authenticator!==Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR||M||(F=!0)})),F?m.createElement(u.u,{trigger:m.createElement(D.Z,{label:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:W,"data-componentid":"".concat(S,"-subject-step-checkbox"),onChange:function(){return h(v+1)},readOnly:!0}),content:C("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(S,"-subject-step-tooltip"),basic:!0}):m.createElement(D.Z,{label:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:W,"data-componentid":"".concat(S,"-subject-step-checkbox"),onChange:function(){return h(v+1)},readOnly:W})),p.options.some((function(e){return e.authenticator===Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR&&!M}))?m.createElement(u.u,{trigger:m.createElement(D.Z,{label:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:_,"data-componentid":"".concat(S,"-attribute-step-checkbox"),onChange:function(){return y(v+1)},readOnly:!0}),content:C("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(S,"-attribute-step-tooltip"),basic:!0}):m.createElement(D.Z,{label:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:_,"data-componentid":"".concat(S,"-attribute-step-checkbox"),onChange:function(){return y(v+1)},readOnly:_})):null,Z?m.createElement(D.Z,{label:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.enableBackupCodes.label"),checked:j,onChange:function(){j?r(v,U):E(v,Ke.b.BACKUP_CODE_AUTHENTICATOR_ID)}}):null)))};Qt.defaultProps={"data-componentid":"authentication-step"};var Bt=n(41803);function Vt(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Xt=function(e){var t=e.authenticators,n=e.authenticationSequence,o=e.onIDPCreateWizardTrigger,i=e.onUpdate,a=e.readOnly,r=e.triggerUpdate,l=e.updateSteps,c=e.onAuthenticationSequenceChange,s=e.isApplicationShared,d=e["data-componentid"],v=(0,f.$)().t,g=(0,S.I0)(),y=Gt((0,m.useState)([]),2),E=y[0],C=y[1],O=Gt((0,m.useState)([]),2),I=O[0],A=O[1],w=Gt((0,m.useState)([]),2),T=w[0],N=w[1],R=Gt((0,m.useState)([]),2),Z=R[0],P=R[1],k=Gt((0,m.useState)([]),2),U=k[0],x=k[1],M=Gt((0,m.useState)([]),2),F=M[0],D=M[1],W=Gt((0,m.useState)(1),2),_=W[0],j=W[1],Q=Gt((0,m.useState)(1),2),B=Q[0],V=Q[1],G=Gt((0,m.useState)(!1),2),H=G[0],z=G[1],X=Gt((0,m.useState)(!1),2),Y=X[0],J=X[1],q=Gt((0,m.useState)(1),2),K=q[0],$=q[1],te=Gt((0,m.useState)(!1),2),ne=te[0],oe=te[1],ie=Gt((0,m.useState)(0),2),ae=ie[0],re=ie[1],le=Gt((0,m.useState)(0),2),ce=le[0],se=le[1],ue=Gt((0,m.useState)(0),2),de=ue[0],pe=ue[1],me=(0,m.useRef)(null),fe=Se.lD.getInstance(),ve=(0,S.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),ge=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.features}));(0,m.useEffect)((function(){if(t&&Array.isArray(t)&&t[0]&&t[1]){var e=t[0],n=t[1],o=[],i=[],a=[],r=[],l=[];e.forEach((function(e){e.id===Ke.b.FIDO_AUTHENTICATOR_ID&&(e.displayName=Ye.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.name===Ke.b.BACKUP_CODE_AUTHENTICATOR?l.push(e):Le.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):a.push(e)})),n.forEach((function(e){Le.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?o.push(e):i.push(e)})),P(r),x(l),N(a),C(i),A(o)}}),[t]),(0,m.useEffect)((function(){n&&(D(null==n?void 0:n.steps),j(null==n?void 0:n.subjectStepId),V(null==n?void 0:n.attributeStepId))}),[n]),(0,m.useEffect)((function(){r&&(Ne()&&i({attributeStepId:B,requestPathAuthenticators:[],steps:F,subjectStepId:_,type:ee.a1.USER_DEFINED}))}),[r]),(0,m.useEffect)((function(){if(null!=me&&me.current)try{me.current.scrollLeft=me.current.scrollWidth}catch(e){}}),[F]),(0,m.useEffect)((function(){Vt(F).some((function(e){return!(0,p.Z)(e.options)}))?c(!1,F):c(!0,F)}),[F]);var be,he,ye=function(e,t){var n,o=[].concat(Vt(T),Vt(E),Vt(I),Vt(Z),Vt(U)).find((function(e){return e.id===t}));if(o){var i=Vt(F);e===i.length&&(i.push({id:i.length+1,options:[]}),l(!0));var a=function(e,t){var n,o=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),i=Le.jo.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return o&&i&&(o=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!o||(g((0,h.V_)({description:v("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(o,i[e].options),r=Le.jo.FIRST_FACTOR_AUTHENTICATORS.includes(t),c=Le.jo.SECOND_FACTOR_AUTHENTICATORS.includes(t),s=pt.isSecondFactorAdditionValid(null==o||null===(n=o.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId,e,i);if(Le.jo.HANDLER_AUTHENTICATORS.includes(t)&&z(!0),!c||(r||0!==e&&s)&&(!r||0===e||s)){if((!Ye.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||Ye.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,g))&&a){var u=o.authenticators.find((function(e){return e.authenticatorId===o.defaultAuthenticator.authenticatorId}));i[e].options.push({authenticator:u.name,idp:o.idp}),Re(),D(i)}}else g((0,h.V_)({description:v("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},Ee=function(e,t){var n=Vt(F),o=n[e],i=o.options[t].authenticator;if(0===e&&i===Bt.f.ORGANIZATION_SSO_AUTHENTICATOR_NAME&&s)g((0,h.V_)({description:v("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToAppShared.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToAppShared.genericError.message")}));else{if((i===Ke.b.TOTP_AUTHENTICATOR||i===Ke.b.EMAIL_OTP_AUTHENTICATOR||i===Ke.b.SMS_OTP_AUTHENTICATOR)&&pt.hasSpecificAuthenticatorInCurrentStep(Ke.b.BACKUP_CODE_AUTHENTICATOR,e,n)&&pt.countTwoFactorAuthenticatorsInCurrentStep(e,n)<2)return o.options.map((function(e,t){e.authenticator===Ke.b.BACKUP_CODE_AUTHENTICATOR&&se(t)})),pe(t),re(e),void J(!0);var a=Gt(pt.getLeftAndRightSideSteps(e,n),2),r=a[0],l=a[1];if(pt.hasSpecificFactorsInSteps(Vt(Le.jo.SECOND_FACTOR_AUTHENTICATORS),l)){var c=n[e].options[t],u=pt.countSpecificFactorInSteps(Vt(Le.jo.SECOND_FACTOR_AUTHENTICATORS),l)===pt.countSpecificFactorInSteps([Ke.b.TOTP_AUTHENTICATOR,Ke.b.EMAIL_OTP_AUTHENTICATOR],l),d=[].concat(Vt(Le.jo.FIRST_FACTOR_AUTHENTICATORS),[Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(c.authenticator),p=[].concat(Vt(Le.jo.TOTP_HANDLERS),Vt(Le.jo.EMAIL_OTP_HANDLERS)).includes(c.authenticator),m=pt.getImmediateStepHavingSpecificFactors(Le.jo.SECOND_FACTOR_AUTHENTICATORS,n);if(d||p){var f=0,y=0;if(n[e].options.filter((function(e){Le.jo.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&f++,[].concat(Vt(Le.jo.TOTP_HANDLERS),Vt(Le.jo.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&y++})),u&&y<=1||!u&&f<=1&&d)if(!(u?pt.hasSpecificFactorsInSteps([].concat(Vt(Le.jo.TOTP_HANDLERS),Vt(Le.jo.EMAIL_OTP_HANDLERS)),r):pt.hasSpecificFactorsInSteps(Le.jo.FIRST_FACTOR_AUTHENTICATORS,r))){var E=Gt(pt.getLeftAndRightSideSteps(m,n),1)[0];if((u?pt.countSpecificFactorInSteps([].concat(Vt(Le.jo.TOTP_HANDLERS),Vt(Le.jo.EMAIL_OTP_HANDLERS)),E):pt.countSpecificFactorInSteps(Le.jo.FIRST_FACTOR_AUTHENTICATORS,E))<=1)return void Ce()}}}n[e].options.splice(t,1),D(n)}},Ce=function(){g((0,h.V_)({description:v("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},Oe=function(e,t,n){var o=Vt(F);o[e].options[t].authenticator=n.name,D(o)},Ie=function(e){var t=Vt(F);if(t.length<=1)g((0,h.V_)({description:v("console:develop.features.applications.notifications.authenticationStepMin.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.authenticationStepMin.genericError.message")}));else{var n=Gt(pt.getLeftAndRightSideSteps(e,t),3),o=n[0],i=n[1],a=n[2],r=pt.hasSpecificFactorsInSteps(Le.jo.SECOND_FACTOR_AUTHENTICATORS,i),c=pt.countSpecificFactorInSteps([Ke.b.TOTP_AUTHENTICATOR],i),s=pt.countSpecificFactorInSteps(Le.jo.SECOND_FACTOR_AUTHENTICATORS,i)+pt.countSpecificFactorInSteps(Le.jo.FIRST_FACTOR_AUTHENTICATORS,i);if(r)if(!(s===c?pt.hasSpecificFactorsInSteps(Le.jo.TOTP_HANDLERS,o):pt.hasSpecificFactorsInSteps(Le.jo.FIRST_FACTOR_AUTHENTICATORS,o)||pt.checkImmediateStepHavingSpecificFactors(Le.jo.FIRST_FACTOR_AUTHENTICATORS,a)))return void g((0,h.V_)({description:v("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),D(t),l(!1)}},Ae=function(e){return e.some((function(e){return e.authenticator===Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR}))},we=function(e){j(e)},Te=function(e){V(e)},Ne=function(){var e=Vt(F);return e.find((function(e){return(0,p.Z)(e.options)}))?(g((0,h.V_)({description:v("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.message")})),!1):1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR?(g((0,h.V_)({description:v("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&Ae(e[0].options))||(g((0,h.V_)({description:v("console:develop.features.applications.notifications.updateIdentifierFirstInFirstStepError.description"),level:b.QU.WARNING,message:v("console:develop.features.applications.notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},Re=function(){F.forEach((function(e){Ae(e.options)&&(_===e.id&&e.id<F.length&&j(_+1),B===e.id&&e.id<F.length&&V(B+1))}))};return m.createElement("div",{className:"authentication-flow-wrapper","data-componentid":d},m.createElement("div",{className:"authentication-flow-section timeline"},m.createElement("div",{className:"timeline-button start"},m.createElement(u.dn,{size:"x50",transparent:!0,icon:(0,At.m9)().startButton})),m.createElement("div",{className:"authentication-steps-section",ref:me},F&&F instanceof Array&&F.length>0?F.map((function(e,t){return m.createElement(m.Fragment,{key:t},m.createElement(Qt,{authenticators:[].concat(Vt(T),Vt(E),Vt(I),Vt(Z),Vt(U)),onStepDelete:Ie,onStepOptionAuthenticatorChange:Oe,onAddAuthenticationClick:function(){oe(!0),$(t)},onStepOptionDelete:Ee,showStepMeta:F.length>1,showStepDeleteAction:F.length>1,step:e,stepIndex:t,readOnly:a,subjectStepId:_,attributeStepId:B,onAttributeCheckboxChange:Te,onSubjectCheckboxChange:we,"data-componentid":"".concat(d,"-authentication-step-").concat(t),updateAuthenticationStep:ye}))})):null),!a&&m.createElement("div",{className:"timeline-button add"},m.createElement(u.GI,{trigger:m.createElement("div",null,m.createElement(u.dn,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,At.m9)().addButton,onClick:function(){var e=Vt(F);Re(),e.push({id:e.length+1,options:[]}),fe.publish("application-sign-in-method-click-add-new-step"),D(e),l(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),m.createElement("div",{className:"timeline-button done"},m.createElement(u.dn,{size:"x50",transparent:!0,icon:(0,At.m9)().doneButton}))),ne&&m.createElement(Ft,{authenticationSteps:F,allowSocialLoginAddition:(0,L.hasRequiredScopes)(null==ge?void 0:ge.identityProviders,null==ge||null===(be=ge.identityProviders)||void 0===be||null===(he=be.scopes)||void 0===he?void 0:he.create,ve),currentStep:K,open:ne,onModalSubmit:function(e){e.map((function(e){ye(K,e.id)})),oe(!1)},onClose:function(){return oe(!1)},header:v("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:{enterprise:E,local:T,recovery:U,secondFactor:Z,social:I},showStepSelector:!1,stepCount:F.length,onIDPCreateWizardTrigger:o}),H&&m.createElement(u.cV,{onClose:function(){return z(!1)},type:"warning",open:H,primaryAction:v("common:confirm"),secondaryAction:v("common:cancel"),onPrimaryActionClick:function(){return z(!1)},"data-componentid":"".concat(d,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-componentid":"".concat(d,"-delete-confirmation-modal-header")},v("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(d,"-delete-confirmation-modal-message")},v("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.message")),m.createElement(u.cV.Content,{"data-componentid":"".concat(d,"-delete-confirmation-modal-content")},v("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.content"))),Y&&m.createElement(u.cV,{onClose:function(){return J(!1)},type:"negative",open:Y,primaryAction:v("common:continue"),secondaryAction:v("common:cancel"),onPrimaryActionClick:function(){Ee(ae,ce),Ee(ae,de),J(!1)},onSecondaryActionClick:function(){return J(!1)},"data-componentid":"".concat(d,"-backupcode-delete-confirm-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-componentid":"".concat(d,"-backupcode-delete-confirmation-modal-header")},v("console:develop.features.applications.confirmations.backupCodeAuthenticatorDelete.header")),m.createElement(u.cV.Content,{"data-componentid":"".concat(d,"-backupcode-delete-confirmation-modal-content")},v("console:develop.features.applications.confirmations.backupCodeAuthenticatorDelete.content"))))};Xt.defaultProps={"data-componentid":"step-based-flow"};const Yt=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');var Jt=n(1751),qt=n(62132),Kt=n.n(qt),$t=n(27899),en=n.n($t),tn=n(76569),nn=n.n(tn),on=n(34753),an=n.n(on),rn=n(93598),ln=n.n(rn),cn=n(46244),sn=n.n(cn),un=n(14521),dn=n.n(un),pn={};pn.styleTagTransform=sn(),pn.setAttributes=an(),pn.insert=nn().bind(null,"head"),pn.domAPI=en(),pn.insertStyleElement=ln();Kt()(dn(),pn);dn()&&dn().locals&&dn().locals;function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==mn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==mn(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var yn=function(e){var t,n,o=e.appId,i=e.applicationName,a=e.authenticators,r=e.authenticationSequence,l=e.clientId,c=e.isLoading,s=e.setIsLoading,d=e.onIDPCreateWizardTrigger,p=e.onReset,I=e.onUpdate,A=e.readOnly,w=e.isApplicationShared,T=e["data-componentid"],L=(0,f.$)().t,N=(0,u.fQ)().getLink,R=(0,S.I0)(),Z=Ee().isSystemApplication,P=(0,S.v9)((function(e){return e.config})),k=(0,S.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),U=bn((0,m.useState)(void 0),2),x=U[0],M=U[1],F=bn((0,m.useState)(!1),2),D=F[0],W=F[1],_=bn((0,m.useState)(void 0),2),j=_[0],Q=_[1],B=bn((0,m.useState)(void 0),2),V=B[0],G=B[1],H=bn((0,m.useState)(void 0),2),z=H[0],X=H[1],Y=bn((0,m.useState)(1),2),J=Y[0],q=Y[1],K=bn((0,m.useState)(!1),2),$=K[0],ee=K[1],te=bn((0,m.useState)(!1),2),ne=te[0],oe=te[1],ie=bn((0,m.useState)(),2),ae=ie[0],re=ie[1],le=bn((0,m.useState)(!1),2),ce=le[0],se=le[1],ue=bn((0,m.useState)(void 0),2),de=ue[0],pe=ue[1],me=bn((0,m.useState)(null),2),fe=me[0],ve=me[1],ge=Se.lD.getInstance();(0,m.useEffect)((function(){var e=pt.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:a&&a[1],steps:ae,subjectStepId:null==r?void 0:r.subjectStepId});pe(e);var t=pt.isFederatedConflictWithSMSOTP({federatedAuthenticators:a&&a[1],steps:ae,subjectStepId:null==r?void 0:r.subjectStepId});ve(t)}),[J,a,ae]),(0,m.useEffect)((function(){D&&W(!1)}),[D]),(0,m.useEffect)((function(){A||ye()}),[]),(0,m.useEffect)((function(){A||(0,Jt.Rz)(Je.fB.FIDO_AUTHENTICATOR_ID).then((function(e){var t=null==e?void 0:e.properties,n=null==t?void 0:t.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),o="true"===(null==n?void 0:n.value);se(o)}))}),[]),(0,m.useEffect)((function(){r&&null!=r&&r.steps&&Array.isArray(r.steps)&&(M(r),q(r.steps.length))}),[r]);var be,he=function(e,t){var n;n=t?{authenticationSequence:vn(vn({},Yt),{},{requestPathAuthenticators:z,script:""})}:{authenticationSequence:vn(vn({},e),{},{requestPathAuthenticators:z,script:j})},Z&&(n.name=i),s(!0),(0,Te.bz)(o,n).then((function(){R((0,h.V_)({description:L("console:develop.features.applications.notifications.updateAuthenticationFlow.success.description"),level:b.QU.SUCCESS,message:L("console:develop.features.applications.notifications.updateAuthenticationFlow.success.message")})),I(o)})).catch((function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?R((0,h.V_)({description:m.createElement("p",null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",m.createElement(u.EK,null,"for"),", ",m.createElement(u.EK,null,"while")," and,",m.createElement(u.EK,null,"forEach")," are not allowed in the conditional authentication script.")),level:b.QU.ERROR,message:L("console:develop.features.applications.notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?R((0,h.V_)({description:e.response.data.description,level:b.QU.ERROR,message:L("console:develop.features.applications.notifications.updateAuthenticationFlow.error.message")})):R((0,h.V_)({description:L("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.description"),level:b.QU.ERROR,message:L("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.message")}))})).finally((function(){s(!1)}))},ye=function(){(0,Te.fF)().then((function(e){G(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?R((0,h.V_)({description:L("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:L("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.message")})):R((0,h.V_)({description:L("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.description"),level:b.QU.ERROR,message:L("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.message")}))}))},Oe=function(){ke.isEmptyScript(j)&&(isAdaptiveAuthenticationAvailable&&k!==Ce.$B.SUBORGANIZATION?(Q(ke.generateScript(J+1).join("\n")),ee(!0)):Q("")),ge.compute((function(){var e={"script-based":!ke.isDefaultScript(j,J),"step-based":[]};ae.forEach((function(t){var n={};Array.isArray(null==t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,E.Z)(null==e?void 0:e.authenticator)})),e["step-based"].push(n))})),ge.publish("application-sign-in-method-click-update-button",{"client-id":l,type:e})})),W(!0)},Ie=m.createElement(m.Fragment,null,m.createElement(u.X6,{as:"h4"},L("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.title")),m.createElement(u.kW,null,L("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.subTitle")),m.createElement(y.Es,null,m.createElement(C.Z,null,m.createElement(C.Z.Row,{columns:1},m.createElement(C.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(y.gN,{name:"requestPathAuthenticators",label:"",type:"checkbox",required:!1,value:null==r?void 0:r.requestPathAuthenticators,requiredErrorMessage:"",children:null==V?void 0:V.map((function(e){return{label:e.displayName,value:e.name}})),listen:function(e){X(e.get("requestPathAuthenticators"))},readOnly:A,"data-componentid":"".concat(T,"-request-path-authenticators")}))))));return m.createElement("div",null,m.createElement("div",null,m.createElement(u.X6,{as:"h4",className:"display-inline-block"},L("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.heading")),!A&&m.createElement("div",{className:"display-inline-block floated right"},m.createElement(u.Qj,{className:"pr-0",onClick:function(){ge.publish("application-revert-sign-in-method-default",{"client-id":l}),he(null,!0),p()}},m.createElement(O.Z,{name:"refresh"}),L("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),m.createElement(u.kW,{inline:!0,popup:!0},L("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),m.createElement(g.Z,{hidden:!0}),function(){var e;if(null==r?void 0:r.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===Ke.b.FIDO_AUTHENTICATOR})))})))return ce?!(null==r||null===(e=r.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===Ke.b.FIDO_AUTHENTICATOR})))?m.createElement(u.v0,{type:"info",content:m.createElement(m.Fragment,null,L("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),m.createElement("p",null,m.createElement(v.c,{i18nKey:L("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},m.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",m.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",m.createElement("strong",null," Conditional Authentication")," section."),m.createElement(u.eb,{link:N("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},L("common:learnMore"))))}):m.createElement(u.v0,{type:"info",content:m.createElement(m.Fragment,null,L("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),m.createElement("p",null,m.createElement(v.c,{i18nKey:L("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",m.createElement("strong",null,"My Account"),"."),m.createElement(u.eb,{link:N("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},L("common:learnMore"))))}):m.createElement(u.v0,{type:"info",content:m.createElement(m.Fragment,null,m.createElement(v.c,{i18nKey:L("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},"Passkey progressive enrollment is disabled. Users must enroll their passkeys through ",m.createElement("strong",null,"My Account")," to use passwordless sign-in."),m.createElement(u.eb,{link:N("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},L("common:learnMore")))})}(),null!=de&&de.conflicting||null==fe||!fe.conflicting||null==fe||!fe.idpList.length?null:(be=fe.idpList,m.createElement(u.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"info",content:m.createElement(m.Fragment,null,be.length>1?m.createElement(m.Fragment,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.multipleIdps"},"Asgardeo requires the user's profile containing the",m.createElement("i",null," mobile number")," to configure",m.createElement("strong",null," SMS OTP")," with the following connections."),m.createElement("ul",{className:"mb-3"},null==be?void 0:be.map((function(e){var t=e.name;return m.createElement("li",{key:t},m.createElement("strong",null,t))})))):m.createElement(m.Fragment,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.singleIdp",values:{idpName:be[0].name}},"Asgardeo requires the user's profile containing the",m.createElement("i",null," mobile number")," to configure ",m.createElement("strong",null," SMS OTP "),"with ",m.createElement("strong",null,be[0].name)," connection.")))})),m.createElement(Xt,{isApplicationShared:w,authenticators:a,authenticationSequence:x,isLoading:c,onUpdate:he,triggerUpdate:D,readOnly:A,updateSteps:function(e){q(e?J+1:J-1)},onIDPCreateWizardTrigger:d,onAuthenticationSequenceChange:function(e,t){oe(e),re(t)},"data-componentid":"".concat(T,"-step-based-flow")}),m.createElement(g.Z,{className:"x1",hidden:!0}),null!=de&&de.conflicting&&null!=de&&de.idpList.length?function(){var e=de.idpList,t=e.length>1;return m.createElement(u.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:m.createElement(m.Fragment,null,t?m.createElement(m.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",m.createElement("strong",null,"disabled")," for the following connections:",m.createElement("ul",{className:"mb-3"},null==e?void 0:e.map((function(e,t){var n=e.name;return m.createElement("li",{key:t},m.createElement("strong",null,n))})))):m.createElement(m.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",m.createElement("strong",null,e[0].name)," connection."),t?m.createElement(m.Fragment,null,"To use MFA with these connections, ",m.createElement("em",null,"enable JIT provisioning")," or use an ",m.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):m.createElement(m.Fragment,null,"To use MFA with this connection, ",m.createElement("em",null,"enable JIT provisioning")," or use an ",m.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),m.createElement(u.eb,{link:N("develop.connections.edit.advancedSettings.jit")},"Learn More"))})}():null,m.createElement(g.Z,{className:"x2"}),isAdaptiveAuthenticationAvailable&&k!==Ce.$B.SUBORGANIZATION&&m.createElement(We,{authenticationSequence:x,isLoading:c,onTemplateSelect:function(e){if(e){ee(!1);var t=vn({},x);if(e.code&&(t=vn(vn({},t),{},{requestPathAuthenticators:z,script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],o=0,i=Object.entries(e.defaultAuthenticators);o<i.length;o++){var a=bn(i[o],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=vn(vn({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}M(t)}},onScriptChange:function(e){Q(e)},readOnly:A,authenticationSteps:J,isDefaultScript:$,onAdaptiveScriptReset:function(){return ee(!0)},"data-componentid":"".concat(T,"-script-based-flow")}),null!=P&&null!==(t=P.ui)&&void 0!==t&&null!==(n=t.legacyMode)&&void 0!==n&&n.applicationRequestPathAuthentication&&V?Ie:null,A?null:m.createElement(m.Fragment,null,m.createElement(g.Z,{hidden:!0}),m.createElement(u.KM,{onClick:Oe,"data-componentid":"".concat(T,"-update-button"),disabled:ne||c,loading:c},L("common:update"))))};yn.defaultProps={"data-componentid":"sign-in-method-customization"};var En=n(61522),Sn=n(96627),Cn=function(e){var t,n=e.isLoading,o=e.onLoginFlowSelect,i=e.hiddenOptions,a=e.clientId,r=e["data-componentid"],l=(0,f.$)().t,c=(0,u.kH)().isMobileViewport,s=Ee().hiddenAuthenticators,d=(0,_e.Z)().deploymentConfig,p=(0,Sn.z)().organizationType,v=Se.lD.getInstance();return m.createElement(V.Z,{"data-componentid":r,loading:n,className:"sign-in-method-landing",basic:!0},m.createElement(C.Z,null,m.createElement(C.Z.Row,null,m.createElement(C.Z.Column,{width:16},m.createElement(u.X6,{as:"h2",textAlign:c?"center":"left"},l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),m.createElement(C.Z.Row,{className:"pt-5"},m.createElement(C.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},m.createElement("div",{className:"pr-3"},!i.includes(ee.Tb.DEFAULT)&&m.createElement(m.Fragment,null,m.createElement(u.X6,{as:"h4"},l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),m.createElement(u.rJ,{fluid:!0,"data-componentid":"basic-configuration-flow-card",image:(0,At.C4)().basic,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){v.publish("application-begin-sign-in-default-configuration",{"client-id":a}),o(ee.Tb.DEFAULT)},showSetupGuideButton:!1,showCardAction:!1})),m.createElement(u.X6,{as:"h4"},l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!i.includes(ee.Tb.SECOND_FACTOR_TOTP)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"totp-mfa-flow-card",image:(0,At.C4)().totp,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){v.publish("application-begin-sign-in-totp-mfa",{"client-id":a}),o(ee.Tb.SECOND_FACTOR_TOTP)},showSetupGuideButton:!1,showCardAction:!1}),!i.includes(ee.Tb.SECOND_FACTOR_EMAIL_OTP)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"email-otp-mfa-flow-card",image:(0,At.C4)().emailOTP,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.description"),onClick:function(){v.publish("application-begin-sign-in-email-otp-mfa",{"client-id":a}),o(ee.Tb.SECOND_FACTOR_EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!i.includes(ee.Tb.SECOND_FACTOR_SMS_OTP)&&!(p===Ce.$B.SUBORGANIZATION&&null!==yt.identityProviderConfig&&void 0!==yt.identityProviderConfig&&yt.identityProviderConfig.disableSMSOTPInSubOrgs)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"sms-otp-mfa-flow-card",image:(0,At.C4)().smsOTP,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.description"),onClick:function(){v.publish("application-begin-sign-in-sms-otp-mfa",{"client-id":a}),o(ee.Tb.SECOND_FACTOR_SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}))),m.createElement(C.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},m.createElement("div",{className:"pl-3"},m.createElement(u.X6,{as:"h4"},l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!=i&&i.includes(ee.Tb.FIDO_LOGIN))&&!(null!=s&&s.includes(Ke.b.FIDO_AUTHENTICATOR))&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"usernameless-flow-card",image:(0,At.C4)().fido,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.description"),onClick:function(){v.publish("application-begin-sign-in-biometrics-password-less",{"client-id":a}),o(ee.Tb.FIDO_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=i&&i.includes(ee.Tb.MAGIC_LINK))&&!(null!=s&&s.includes(Ke.b.MAGIC_LINK_AUTHENTICATOR))&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"magic-link-flow-card",image:(0,At.C4)().magicLink,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){v.publish("application-begin-sign-in-magiclink-password-less",{"client-id":a}),o(ee.Tb.MAGIC_LINK)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=i&&i.includes(ee.Tb.EMAIL_OTP))&&!(null!=s&&s.includes(Ke.b.EMAIL_OTP_AUTHENTICATOR_ID))&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"email-otp-flow-card",image:(0,At.C4)().emailOTP,imageSize:"mini",header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.description"),onClick:function(){v.publish("application-begin-sign-in-email-otp-password-less",{"client-id":a}),o(ee.Tb.EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),(!i.includes(ee.Tb.GOOGLE_LOGIN)||!i.includes(ee.Tb.FACEBOOK_LOGIN)||!i.includes(ee.Tb.GITHUB_LOGIN)||!i.includes(ee.Tb.MICROSOFT_LOGIN)||!i.includes(ee.Tb.APPLE_LOGIN))&&m.createElement(m.Fragment,null,m.createElement(u.X6,{as:"h4"},l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!i.includes(ee.Tb.GOOGLE_LOGIN)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"google-login-flow-card",imageSize:"mini",image:(0,At.C4)().google,header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){v.publish("application-begin-sign-in-google-social-login",{type:a}),o(ee.Tb.GOOGLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!i.includes(ee.Tb.GITHUB_LOGIN)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"github-login-flow-card",imageSize:"mini",image:(0,At.C4)().github,header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return o(ee.Tb.GITHUB_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!i.includes(ee.Tb.FACEBOOK_LOGIN)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"facebook-login-flow-card",imageSize:"mini",image:(0,At.C4)().facebook,header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return o(ee.Tb.FACEBOOK_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!i.includes(ee.Tb.MICROSOFT_LOGIN)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"microsoft-login-flow-card",imageSize:"mini",image:(0,At.C4)().microsoft,header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.description"),onClick:function(){v.publish("application-begin-sign-in-microsoft-social-login",{type:a}),o(ee.Tb.MICROSOFT_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!i.includes(ee.Tb.APPLE_LOGIN)&&m.createElement(u.rJ,{fluid:!0,"data-componentid":"apple-login-flow-card",imageSize:"mini",image:(0,At.C4)().apple,header:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.heading"),description:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.description"),onClick:function(){return o(ee.Tb.APPLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1,disabledHint:l("console:develop.pages.authenticationProviderTemplate.disabledHint.apple"),disabled:(null===(t=new URL(null==d?void 0:d.serverOrigin))||void 0===t?void 0:t.hostname)===En.v.LOCAL_SERVER_URL})))))))};Cn.defaultProps={"data-componentid":"sign-in-method-landing",hiddenOptions:[ee.Tb.FACEBOOK_LOGIN,ee.Tb.GITHUB_LOGIN]};const On=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),In=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),An=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),wn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),Tn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),Ln=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Nn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"OpenIDConnectAuthenticator","idp":"Microsoft"}]}]}'),Rn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),Zn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Pn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),kn=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}');var Un=n(42139),xn=n(76016),Mn=n(56416),Fn=n(5931),Dn=n(61555),Wn=n(59696),_n=["mode","open","onClose","data-componentid"];function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},jn.apply(this,arguments)}function Qn(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Bn=function(e){var t=e.mode,n=e.open,o=e.onClose,i=e["data-componentid"],a=Qn(e,_n),r=(0,f.$)().t;return m.createElement(u.cV,jn({open:n,onClose:o,type:"warning",closeOnDimmerClick:!1,assertionHint:r("console:loginFlow.modes.switchConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:r("console:loginFlow.modes.switchConfirmationModal.primaryActionButtonText"),secondaryAction:r("console:loginFlow.modes.switchConfirmationModal.secondaryActionButtonText"),"data-componentid":i,onPrimaryActionClick:function(){return o(null,null)},onSecondaryActionClick:function(e){return o(e,null)}},a),m.createElement(u.cV.Header,{"data-componentid":"".concat(i,"-header")},r("console:loginFlow.modes.switchConfirmationModal.title")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},m.createElement(v.c,{i18nKey:"console:loginFlow.modes.switchConfirmationModal.warningMessage",tOptions:{mode:t.label}},"If you switch to the ",m.createElement("strong",null,t.label),", you will loose the unsaved changes in the current flow. Please proceed with caution.")),m.createElement(u.cV.Content,{"data-componentid":"".concat(i,"-content")},r("console:loginFlow.modes.switchConfirmationModal.content")))};Bn.defaultProps={"data-componentid":"authentication-flow-mode-switch-disclaimer-modal"};const Vn=Bn;var Gn=n(31092),Hn=n(17497),zn=n(42125),Xn=n(36823),Yn=n(94154),Jn=["open","onClose","data-componentid","currentStep","onIDPCreateWizardTrigger"];function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qn.apply(this,arguments)}function Kn(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $n=function(e){var t,n,o,i=e.open,a=e.onClose,r=e["data-componentid"],l=e.currentStep,c=e.onIDPCreateWizardTrigger,s=Kn(e,Jn),u=Ee(),d=u.authenticators,p=u.authenticationSequence,v=u.addSignInOption,g=(0,f.$)().t,b=(0,S.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),h=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.features}));return m.createElement(Ft,qn({authenticationSteps:null==p?void 0:p.steps,allowSocialLoginAddition:(0,L.hasRequiredScopes)(null==h?void 0:h.identityProviders,null==h||null===(t=h.identityProviders)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.create,b),currentStep:l,open:i,onModalSubmit:function(e){e.map((function(e){v(l,e.id)})),a(null,null)},onClose:a,header:g("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:d,showStepSelector:!1,stepCount:null==p||null===(o=p.steps)||void 0===o?void 0:o.length,onIDPCreateWizardTrigger:c,"data-componentid":r},s))};$n.defaultProps={"data-componentid":"authentication-flow-option-add-modal"};const eo=$n;var to=["open","onClose","data-componentid"];function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},no.apply(this,arguments)}function oo(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var io=function(e){var t=e.open,n=e.onClose,o=e["data-componentid"],i=oo(e,to),a=(0,f.$)().t;return m.createElement(u.cV,no({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,assertionHint:a("console:loginFlow.revertConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:a("console:loginFlow.revertConfirmationModal.primaryActionButtonText"),secondaryAction:a("console:loginFlow.revertConfirmationModal.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){return n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},i),m.createElement(u.cV.Header,{"data-componentid":"".concat(o,"-header")},a("console:loginFlow.revertConfirmationModal.title")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},a("console:loginFlow.revertConfirmationModal.warningMessage")),m.createElement(u.cV.Content,{"data-componentid":"".concat(o,"-content")},a("console:loginFlow.revertConfirmationModal.content")))};io.defaultProps={"data-componentid":"authentication-flow-revert-disclaimer-modal"};const ao=io;var ro=n(59632),lo=n(58105),co=n.n(lo),so={};so.styleTagTransform=sn(),so.setAttributes=an(),so.insert=nn().bind(null,"head"),so.domAPI=en(),so.insertStyleElement=ln();Kt()(co(),so);co()&&co().locals&&co().locals;function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var mo=function(e){var t=e.id,n=e.data,o=e.sourceX,i=e.sourceY,a=e.targetX,r=e.targetY,l=e.sourcePosition,c=e.targetPosition,s=e.style,u=void 0===s?{}:s,d=e.markerEnd,p=e["data-componentid"],f=n.onNewStepAddition,v=uo((0,Wn.OQ)({sourcePosition:l,sourceX:o,sourceY:i,targetPosition:c,targetX:a,targetY:r}),3),g=v[0],b=v[1],h=v[2];return m.createElement(m.Fragment,null,m.createElement(Wn.u5,{path:g,markerEnd:d,style:u,"data-componentid":"".concat(p,"-base-edge")}),m.createElement(Wn.XQ,null,m.createElement("div",{style:{transform:"translate(-50%, -50%) translate(".concat(b,"px,").concat(h,"px)")},className:"add-step-button-wrapper nodrag nopan"},m.createElement(ro.Z,{"aria-label":"add",className:"add-step-button",variant:"circular",onClick:function(e){return f(e,t)},"data-componentid":"".concat(p,"-add-step-button")},m.createElement(I.pO,null)))))};mo.defaultProps={};const fo=mo;var vo=n(11952),go=n(29807),bo=n.n(go),ho={};ho.styleTagTransform=sn(),ho.setAttributes=an(),ho.insert=nn().bind(null,"head"),ho.domAPI=en(),ho.insertStyleElement=ln();Kt()(bo(),ho);bo()&&bo().locals&&bo().locals;function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yo.apply(this,arguments)}var Eo=function(e){var t=Object.assign({},e);return m.createElement("svg",yo({xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},t),m.createElement("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}))},So=function(e){var t,n=e.id,o=e["data-componentid"],i=Ee().updateVisualEditorFlowNodeMeta,a=(0,m.useRef)(null);return(0,m.useEffect)((function(){a&&a.current&&i(n,{height:a.current.clientHeight,width:a.current.clientWidth})}),[null==a||null===(t=a.current)||void 0===t?void 0:t.clientHeight]),m.createElement("div",{ref:a,className:"done-node-wrapper","data-componentid":o},m.createElement(vo.Z,{"aria-label":"done",className:"done-node",variant:"circular","data-componentid":"".concat(o,"-circular-fab")},m.createElement(Eo,{"data-componentid":"".concat(o,"-check-icon")})),m.createElement(Wn.HH,{className:"hidden-handle",id:"targetLeft",type:"target",position:Wn.Ly.Left}))};So.defaultProps={"data-componentid":"done-node"};const Co=So;var Oo=n(33697),Io=n(51036),Ao=n(52220),wo=n(88462),To=n(89101),Lo=n(71682),No=n(70144),Ro=n(6590),Zo=n(76108),Po=n(80979);function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ko.apply(this,arguments)}var Uo=function(e){var t=Object.assign({},e);return m.createElement("svg",ko({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),m.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},xo=function(e){var t=Object.assign({},e);return m.createElement("svg",ko({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 512 512"},t),m.createElement("path",{d:"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"}))},Mo=function(e){var t=e.children,n=e.onOptionRemove,o=e.onOptionSwitch,i=e.optionSwitchTooltipContent,a=e.optionRemoveTooltipContent,r=e["data-componentid"];return n||o?m.createElement("div",{className:"basic-sign-in-option-controls-wrapper","data-componentid":r},m.createElement("div",{className:"basic-sign-in-option-controls"},o&&m.createElement(Po.Z,{title:i,"data-componentid":"".concat(r,"-tooltip")},m.createElement(Lo.Z,{size:"small",onClick:o,className:"action-button","data-componentid":"".concat(r,"-switch-option-button")},m.createElement(xo,null))),n&&m.createElement(Po.Z,{title:a},m.createElement(Lo.Z,{size:"small",onClick:n,className:"action-button","data-componentid":"".concat(r,"-remove-option-button")},m.createElement(Uo,null)))),m.createElement("div",{className:"basic-sign-in-option-control-fields"},t)):null};Mo.defaultProps={"data-componentid":"basic-sign-in-option-controls",optionRemoveTooltipContent:"Remove",optionSwitchTooltipContent:"Switch"};const Fo=Mo;var Do=function(e){var t=e.onOptionRemove,n=e["data-componentid"],o=(0,f.$)().t,i=function(){var e=new Date,t=new Date;return e.setDate(t.getDate()-5),new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toLocaleString([],{day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",month:"2-digit",year:"numeric"})};return m.createElement("div",{className:"active-sessions-limit-fragment","data-componentid":n},m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("console:loginFlow.nodes.activeSessionsLimit.header")),m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},o("console:loginFlow.nodes.activeSessionsLimit.form.help")),m.createElement(Fo,{onOptionRemove:function(e){t(e,{toRemove:Ke.b.SESSION_EXECUTOR_AUTHENTICATOR})},optionRemoveTooltipContent:o("console:loginFlow.nodes.signIn.controls.optionRemoveTooltipContent")},m.createElement("table",null,m.createElement("tr",null,m.createElement("th",null,m.createElement(Oo.Z,{className:"non-interactive"})),m.createElement("th",null,o("console:loginFlow.nodes.activeSessionsLimit.form.sessions.browserLabel")),m.createElement("th",null,o("console:loginFlow.nodes.activeSessionsLimit.form.sessions.lastAccessedLabel"))),m.createElement("tr",null,m.createElement("td",null,m.createElement(Oo.Z,{className:"non-interactive"})),m.createElement("td",null,"Chrome"),m.createElement("td",null," ",i()," ")),m.createElement("tr",null,m.createElement("td",null,m.createElement(Oo.Z,{className:"non-interactive"})),m.createElement("td",null,"Firefox"),m.createElement("td",null," ",i()," ")))))};Do.defaultProps={"data-componentid":"active-sessions-limit-fragment"};const Wo=Do;var _o=n(46439),jo=function(e){var t=e.onOptionRemove,n=e["data-componentid"],o=(0,f.$)().t;return m.createElement("div",{className:"basic-auth-fragment","data-componentid":n},m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("console:loginFlow.nodes.signIn.header")),m.createElement(Fo,{onOptionRemove:function(e){t(e,{toRemove:Ke.b.BASIC_AUTHENTICATOR})},optionSwitchTooltipContent:o("console:loginFlow.nodes.signIn.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:o("console:loginFlow.nodes.signIn.controls.optionRemoveTooltipContent")},m.createElement(_o.Z,{required:!0,fullWidth:!0,autoComplete:"off",label:o("console:loginFlow.nodes.signIn.form.fields.username.label"),name:"text",value:null,placeholder:o("console:loginFlow.nodes.signIn.form.fields.username.placeholder"),className:"non-interactive"}),m.createElement(_o.Z,{required:!0,fullWidth:!0,name:"password",autoComplete:"new-password",label:o("console:loginFlow.nodes.signIn.form.fields.password.label"),type:"password",value:null,placeholder:o("console:loginFlow.nodes.signIn.form.fields.password.placeholder"),className:"non-interactive"})),m.createElement(wo.Z,{className:"non-interactive"},m.createElement(Ao.Z,{control:m.createElement(Oo.Z,{color:"secondary"}),label:o("console:loginFlow.nodes.signIn.form.fields.rememberMe.label")})),m.createElement(zn.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},o("console:loginFlow.nodes.signIn.form.actions.primary")))};jo.defaultProps={"data-componentid":"basic-auth-fragment"};const Qo=jo;var Bo=function(e){var t=e.onOptionRemove,n=e["data-componentid"],o=(0,f.$)().t;return m.createElement("div",{className:"email-otp-fragment","data-componentid":n},m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("console:loginFlow.nodes.emailOTP.header")),m.createElement(Fo,{onOptionRemove:function(e){t(e,{toRemove:Ke.b.EMAIL_OTP_AUTHENTICATOR})},optionRemoveTooltipContent:o("console:loginFlow.nodes.signIn.controls.optionRemoveTooltipContent")},m.createElement(_o.Z,{required:!0,fullWidth:!0,name:"password",label:o("console:loginFlow.nodes.emailOTP.form.fields.code.label"),type:"password",placeholder:o("console:loginFlow.nodes.emailOTP.form.fields.code.placeholder"),autoComplete:"off",className:"otp-input non-interactive"})),m.createElement("div",{className:"oxygen-sign-in-action-group"},m.createElement(zn.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},o("console:loginFlow.nodes.emailOTP.form.actions.primary")),m.createElement(zn.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},o("console:loginFlow.nodes.emailOTP.form.actions.secondary"))))};Bo.defaultProps={"data-componentid":"email-otp-fragment"};const Vo=Bo;var Go=function(e){var t=e.onOptionRemove,n=e["data-componentid"],o=(0,f.$)().t;return m.createElement("div",{className:"identifier-first-fragment","data-componentid":n},m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("console:loginFlow.nodes.identifierFirst.header")),m.createElement(Fo,{onOptionRemove:function(e){t(e,{toRemove:Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR})},optionSwitchTooltipContent:o("console:loginFlow.nodes.identifierFirst.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:o("console:loginFlow.nodes.identifierFirst.controls.optionRemoveTooltipContent")},m.createElement(_o.Z,{required:!0,fullWidth:!0,label:o("console:loginFlow.nodes.identifierFirst.form.fields.username.label"),name:"text",autoComplete:"off",value:null,placeholder:o("console:loginFlow.nodes.identifierFirst.form.fields.username.placeholder"),className:"non-interactive"})),m.createElement(wo.Z,{className:"non-interactive"},m.createElement(Ao.Z,{control:m.createElement(Oo.Z,{color:"secondary"}),label:o("console:loginFlow.nodes.identifierFirst.form.fields.rememberMe.label")})),m.createElement(zn.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},o("console:loginFlow.nodes.identifierFirst.form.actions.primary")))};Go.defaultProps={"data-componentid":"identifier-first-fragment"};const Ho=Go;function zo(e){return function(e){if(Array.isArray(e))return Xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Yo=function(e){var t=e.onOptionRemove,n=e["data-componentid"],o=(0,f.$)().t;return m.createElement("div",{className:"sms-otp-fragment","data-componentid":n},m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("console:loginFlow.nodes.smsOTP.header")),m.createElement(Fo,{onOptionRemove:function(e){t(e,{toRemove:Ke.b.SMS_OTP_AUTHENTICATOR})},optionRemoveTooltipContent:o("console:loginFlow.nodes.smsOTP.controls.optionRemoveTooltipContent")},m.createElement(Dn.Z,{align:"left",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},o("console:loginFlow.nodes.smsOTP.form.fields.code.label")),m.createElement("div",{className:"pin-code-input-fields"},zo(Array(6)).map((function(e,t){return m.createElement(_o.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",autoComplete:"off",className:"non-interactive"})})))),m.createElement("div",{className:"oxygen-sign-in-action-group"},m.createElement(zn.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},o("console:loginFlow.nodes.smsOTP.form.actions.primary")),m.createElement(zn.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},o("console:loginFlow.nodes.smsOTP.form.actions.secondary"))))};Yo.defaultProps={"data-componentid":"sms-otp-fragment"};const Jo=Yo;function qo(e){return function(e){if(Array.isArray(e))return Ko(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var $o=function(e){var t=e.onOptionRemove,n=e["data-componentid"],o=(0,f.$)().t;return m.createElement("div",{className:"totp-fragment","data-componentid":n},m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("console:loginFlow.nodes.totp.header")),m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},o("console:loginFlow.nodes.totp.form.fields.code.label")),m.createElement(Fo,{onOptionRemove:function(e){t(e,{toRemove:Ke.b.TOTP_AUTHENTICATOR})},optionRemoveTooltipContent:o("console:loginFlow.nodes.totp.controls.optionRemoveTooltipContent")},m.createElement("div",{className:"pin-code-input-fields"},qo(Array(6)).map((function(e,t){return m.createElement(_o.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",className:"non-interactive"})})))),m.createElement(zn.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},o("console:loginFlow.nodes.totp.form.actions.primary")),m.createElement(Dn.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle2"},o("console:loginFlow.nodes.totp.form.help")))};$o.defaultProps={"data-componentid":"totp-fragment"};const ei=$o;var ti=n(50128),ni=n.n(ti),oi={};oi.styleTagTransform=sn(),oi.setAttributes=an(),oi.insert=nn().bind(null,"head"),oi.domAPI=en(),oi.insertStyleElement=ln();Kt()(ni(),oi);ni()&&ni().locals&&ni().locals;function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ii.apply(this,arguments)}var ai=function(e){var t=Object.assign({},e);return m.createElement("svg",ii({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),m.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},ri=function(e){var t,n,o,i,a,r,l,c,s,u=e.id,d=e.data,p=d.authenticators,v=d.authenticationSequence,g=d.onSignInOptionAdd,b=d.onSignInOptionRemove,h=d.onSignInOptionSwitch,y=d.onSignInStepRemove,E=d.onAttributeIdentifierStepChange,S=d.onSubjectIdentifierStepChange,C=d.stepIndex,O=d.showSelfSignUp,A=d["data-componentid"],w=(0,f.$)().t,T=Ee().updateVisualEditorFlowNodeMeta,L=(0,m.useRef)(null),N=Object.values(p).flat(),R=(0,m.useMemo)((function(){return[Ke.b.BACKUP_CODE_AUTHENTICATOR]}),[]);(0,m.useEffect)((function(){L&&L.current&&T(u,{height:L.current.clientHeight,width:L.current.clientWidth})}),[null==L||null===(t=L.current)||void 0===t?void 0:t.clientHeight]);var Z,P=function(){var e,t,n,o=void 0,i=null==v||null===(e=v.steps)||void 0===e||null===(t=e[C])||void 0===t||null===(n=t.options)||void 0===n?void 0:n.filter((function(e){return!R.includes(e.authenticator)}));return i.forEach((function(e){e.authenticator===Ke.b.BASIC_AUTHENTICATOR?o=Ke.b.BASIC_AUTHENTICATOR:e.authenticator===Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR?o=Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR:e.authenticator===Ke.b.SESSION_EXECUTOR_AUTHENTICATOR&&(o=Ke.b.SESSION_EXECUTOR_AUTHENTICATOR),1===i.length&&(e.authenticator===Ke.b.TOTP_AUTHENTICATOR?o=Ke.b.TOTP_AUTHENTICATOR:e.authenticator===Ke.b.EMAIL_OTP_AUTHENTICATOR?o=Ke.b.EMAIL_OTP_AUTHENTICATOR:e.authenticator===Ke.b.SMS_OTP_AUTHENTICATOR&&(o=Ke.b.SMS_OTP_AUTHENTICATOR))})),o},k=(0,m.useMemo)((function(){var e,t,n,o=!1,i=!1;return null==v||null===(e=v.steps)||void 0===e||null===(t=e[C])||void 0===t||null===(n=t.options)||void 0===n||n.map((function(e){o=![Ke.b.TOTP_AUTHENTICATOR,Ke.b.BACKUP_CODE_AUTHENTICATOR,Ke.b.SESSION_EXECUTOR_AUTHENTICATOR].includes(e.authenticator),[Ke.b.TOTP_AUTHENTICATOR,Ke.b.EMAIL_OTP_AUTHENTICATOR,Ke.b.SMS_OTP_AUTHENTICATOR,Ke.b.BACKUP_CODE_AUTHENTICATOR].includes(e.authenticator)&&(i=!0)})),[o,i,U]}),[v]),U=(0,m.useMemo)((function(){var e,t,n=!1;return null==v||null===(e=v.steps)||void 0===e||null===(t=e[C])||void 0===t||t.options.map((function(e){e.authenticator===Ke.b.BACKUP_CODE_AUTHENTICATOR&&(n=!0)})),n}),[v]);return m.createElement("div",{ref:L,className:"sign-in-box-node","data-componentid":"".concat(A,"-step-").concat(C)},m.createElement("div",{className:"step-id"},m.createElement(Dn.Z,{variant:"body2","data-componentid":"".concat(A,"-step-").concat(C,"-id")},"Step ",C+1)),(null==v||null===(n=v.steps)||void 0===n?void 0:n.length)>1&&m.createElement(Po.Z,{title:w("console:loginFlow.options.controls.remove")},m.createElement(Lo.Z,{size:"small",onClick:function(e){y(e,{stepIndex:C})},className:"remove-button"},m.createElement(ai,null))),0!==C&&m.createElement(Wn.HH,{type:"target",position:Wn.Ly.Left}),m.createElement(Un.Z,{className:"oxygen-sign-in","data-componentid":"".concat(A,"-inner")},m.createElement(Ro.Z,{className:"oxygen-sign-in-box",elevation:0,variant:"outlined"},m.createElement(Un.Z,{className:"oxygen-sign-in-form"},(Z=P())===Ke.b.BASIC_AUTHENTICATOR?m.createElement(m.Fragment,null,m.createElement(Qo,{onOptionRemove:function(e,t){var n=t.toRemove;b(e,{stepIndex:C,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,o=t.toRemove;h(e,{stepIndex:C,toAdd:n,toRemove:o})}}),m.createElement(Io.Z,null,w("console:loginFlow.options.divider"))):Z===Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR?m.createElement(m.Fragment,null,m.createElement(Ho,{onOptionRemove:function(e,t){var n=t.toRemove;b(e,{stepIndex:C,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,o=t.toRemove;h(e,{stepIndex:C,toAdd:n,toRemove:o})}}),m.createElement(Io.Z,null,w("console:loginFlow.options.divider"))):Z===Ke.b.TOTP_AUTHENTICATOR?m.createElement(ei,{onOptionRemove:function(e,t){var n=t.toRemove;b(e,{stepIndex:C,toRemove:n})}}):Z===Ke.b.EMAIL_OTP_AUTHENTICATOR?m.createElement(Vo,{onOptionRemove:function(e,t){var n=t.toRemove;b(e,{stepIndex:C,toRemove:n})}}):Z===Ke.b.SMS_OTP_AUTHENTICATOR?m.createElement(Jo,{onOptionRemove:function(e,t){var n=t.toRemove;b(e,{stepIndex:C,toRemove:n})}}):Z===Ke.b.SESSION_EXECUTOR_AUTHENTICATOR?m.createElement(m.Fragment,null,m.createElement(Wo,{onOptionRemove:function(e,t){var n=t.toRemove;b(e,{stepIndex:C,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,o=t.toRemove;h(e,{stepIndex:C,toAdd:n,toRemove:o})}})):m.createElement(m.Fragment,null),m.createElement("div",{className:"oxygen-sign-in-options-wrapper"},m.createElement("div",{className:"oxygen-sign-in-options"},null==v||null===(o=v.steps)||void 0===o||null===(i=o[C])||void 0===i||null===(a=i.options)||void 0===a?void 0:a.map((function(e){return function(e){if(!(N&&N instanceof Array&&N.length>0))return null;var t=null;return(t=e.idp===Ke.b.LOCAL_IDP_IDENTIFIER?N.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):N.find((function(t){return t.idp===e.idp})))?R.includes(t.name)||t.name===P()?null:m.createElement("div",{className:"oxygen-sign-in-option with-cancel-button"},m.createElement(Po.Z,{title:w("console:loginFlow.options.controls.remove")},m.createElement(Lo.Z,{size:"small",onClick:function(e){var n,o;b(e,{stepIndex:C,toRemove:null===(n=t)||void 0===n||null===(o=n.defaultAuthenticator)||void 0===o?void 0:o.name})},className:"remove-button"},m.createElement(ai,null))),m.createElement(zn.Z,{startIcon:m.createElement("img",{className:"oxygen-sign-in-option-image",src:t.image}),variant:"contained",className:"oxygen-sign-in-option",type:"button",fullWidth:!0},t.displayName.startsWith("Sign In With")?t.displayName:w("console:loginFlow.options.displayName",{displayName:t.displayName}))):null}(e)})),P()!==Ke.b.SESSION_EXECUTOR_AUTHENTICATOR&&m.createElement(zn.Z,{fullWidth:!0,startIcon:m.createElement(I.pO,null),variant:"outlined",className:"oxygen-sign-in-option oxygen-sign-in-option-add",type:"button",onClick:function(e){return g(e,{stepIndex:C})},"data-componentid":"".concat(A,"-add-sign-in-option")},w("console:loginFlow.steps.controls.addOption")))),O&&m.createElement(To.Z,{container:!0,className:"oxygen-sign-in-sign-up-link"},m.createElement(To.Z,null,w("console:loginFlow.steps.controls.signUp.hint")),m.createElement(To.Z,null,m.createElement(No.Z,{href:"#",className:"oxygen-sign-in-sign-up-link-action"},w("console:loginFlow.steps.controls.signUp.label"))))))),m.createElement(Wn.HH,{type:"source",position:Wn.Ly.Right,id:"a"}),m.createElement(wo.Z,{className:"additional-behaviors"},k[0]&&m.createElement(m.Fragment,null,m.createElement(Ao.Z,{checked:(null==v?void 0:v.subjectStepId)===(null==v||null===(r=v.steps)||void 0===r||null===(l=r[C])||void 0===l?void 0:l.id),control:m.createElement(Zo.Z,null),onChange:function(e){var t,n;S(e,{stepIndex:null==v||null===(t=v.steps)||void 0===t||null===(n=t[C])||void 0===n?void 0:n.id})},label:w("console:loginFlow.nodes.controls.userAttributeSelector.label"),"data-componentid":"".concat(A,"-user-identifier-picker")}),m.createElement(Ao.Z,{checked:(null==v?void 0:v.attributeStepId)===(null==v||null===(c=v.steps)||void 0===c||null===(s=c[C])||void 0===s?void 0:s.id),control:m.createElement(Zo.Z,null),onChange:function(e){var t,n;E(e,{stepIndex:null==v||null===(t=v.steps)||void 0===t||null===(n=t[C])||void 0===n?void 0:n.id})},label:w("console:loginFlow.nodes.controls.attributeSelector.label"),"data-componentid":"".concat(A,"-attribute-identifier-picker")})),k[1]&&m.createElement(Ao.Z,{checked:U,control:m.createElement(Oo.Z,null),onChange:function(e){e.target.checked?g(e,{stepIndex:C,toAdd:Ke.b.BACKUP_CODE_AUTHENTICATOR}):b(e,{stepIndex:C,toRemove:Ke.b.BACKUP_CODE_AUTHENTICATOR})},label:w("console:loginFlow.nodes.controls.enableBackupCodes.label"),"data-componentid":"".concat(A,"-enable-backup-code-picker")})))};ri.defaultProps={"data-componentid":"sign-in-box-node"};const li=ri;var ci=n(43991);const si=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(Se.h.getState().config.endpoints.multiFactorAuthenticators,"/connectors/").concat(e)},n=(0,ci.Z)(t),o=n.data,i=n.error;return{data:o,error:i,isLoading:!i&&!o,isValidating:n.isValidating,mutate:n.mutate}};var ui=n(24576),di=(n(65531),n(33955)),pi=n.n(di),mi={};mi.styleTagTransform=sn(),mi.setAttributes=an(),mi.insert=nn().bind(null,"head"),mi.domAPI=en(),mi.insertStyleElement=ln();Kt()(pi(),mi);pi()&&pi().locals&&pi().locals;function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}var vi=["onIDPCreateWizardTrigger","data-componentid","onUpdate"];function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==fi(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Si(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ci.apply(this,arguments)}var Oi=function(e){var t=Object.assign({},e);return m.createElement("svg",Ci({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),m.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M8,3 L3,8 L8,13 M12,20 L15,20 C18.3137085,20 21,17.3137085 21,14 C21,10.6862915 18.3137085,8 15,8 L4,8"}))},Ii=function(e){var t=e.onIDPCreateWizardTrigger,n=e["data-componentid"],o=e.onUpdate,i=Si(e,vi),a=(0,f.$)().t,r=(0,S.I0)(),l=Ee(),c=l.authenticators,s=l.authenticationSequence,p=l.addSignInStep,g=l.addSignInOption,y=l.defaultAuthenticationSequence,E=l.isAdaptiveAuthAvailable,C=l.isValidAuthenticationFlow,O=l.isConditionalAuthenticationEnabled,I=l.removeSignInOption,A=l.removeSignInStep,w=l.revertAuthenticationSequenceToDefault,T=l.updateAuthenticationSequence,L=l.visualEditorFlowNodeMeta,N=si(Je.fB.FIDO_AUTHENTICATOR_ID),R=N.data,Z=N.error,P=N.isLoading,k=(0,u.fQ)().getLink,U=(0,m.useRef)(null),x=yi((0,m.useState)(0),2),M=x[0],F=x[1],D=yi((0,m.useState)(!1),2),W=D[0],_=D[1],j=yi((0,m.useState)(!1),2),Q=j[0],B=j[1],V=yi((0,m.useState)(!1),2),G=V[0],H=V[1],z=yi((0,m.useState)(void 0),2),X=z[0],Y=z[1],J=yi((0,m.useState)(0),2),q=J[0],K=J[1],$=yi((0,m.useState)(void 0),2),ee=$[0],te=$[1],ne=(0,m.useMemo)((function(){return{done:Co,loginBox:li}}),[]),oe=(0,m.useMemo)((function(){return{stepAdditionEdge:fo}}),[]),ie=(0,m.useMemo)((function(){var e,t={data:{"data-componentid":"done-node"},id:"-1",position:{x:0,y:0},type:"done"},n=[];return null==s||null===(e=s.steps)||void 0===e||e.filter((function(e,o){var i={data:{authenticationSequence:s,authenticators:c,"data-componentid":"sign-in-box-node",onAttributeIdentifierStepChange:function(e,t){var n=t.stepIndex;T({attributeStepId:n})},onSignInOptionAdd:function(e,t){var n=t.stepIndex,o=t.toAdd;o?g(n,o):(_(!0),F(n))},onSignInOptionRemove:function(e,t){var n=t.stepIndex,o=t.toRemove;I(n,o)},onSignInOptionSwitch:function(e,t){var n=t.stepIndex,o=t.toRemove,i=t.toAdd;I(n,o),g(n,i)},onSignInStepRemove:function(e,t){var n=t.stepIndex;A(n)},onSubjectIdentifierStepChange:function(e,t){var n=t.stepIndex;T({subjectStepId:n})},stepIndex:o},id:"".concat(e.id),position:{x:0,y:0},type:"loginBox"};n.push(i),o===s.steps.length-1&&n.push(bi(bi({},t),{},{id:"".concat(o+2),position:{x:0,y:0}}))})),n.forEach((function(e,t){var o,i,a,r,l=n[t-1],c=null===(o=L[parseInt(e.id)-1])||void 0===o?void 0:o.height,s=null===(i=L[parseInt(e.id)-1])||void 0===i?void 0:i.width,u=null===(a=L[parseInt(e.id)])||void 0===a?void 0:a.height,d=null===(r=L[parseInt(e.id)])||void 0===r?void 0:r.width;if(c&&u){var p=l.position.y+c/2;e.position.y=p-u/2}s&&d&&(e.position.x=l.position.x+s/2+250),e.id===n.length.toString()&&(e.position.x=e.position.x+125)})),n}),[s,c,L]),ae=(0,m.useMemo)((function(){var e=ie.length-1,t={markerEnd:{color:"#696969",height:20,type:Wn.QZ.Arrow,width:20},style:{stroke:"#696969",strokeWidth:2}},n=(0,d.Z)(ie).slice(0,e).map((function(e,n){return bi({id:"".concat(n,"-").concat(n+1),source:"".concat(n),target:"".concat(n+1)},t)})),o=bi({data:{onNewStepAddition:function(){p()}},"data-componentid":"step-addition-edge",id:"".concat(e,"-").concat(e+1),source:"".concat(e),target:"".concat(e+1),type:"stepAdditionEdge"},t);return n.push(o),n}),[s,ie]);return(0,m.useEffect)((function(){if(!P){var e,t,n,o;if(Z)return null!=Z&&null!==(e=Z.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.description?void r((0,h.V_)({description:a("console:develop.features.authenticationProvider.notifications.getConnectionDetails.error.description",{description:null==Z||null===(n=Z.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.description}),level:b.QU.ERROR,message:a("console:develop.features.authenticationProvider.notifications.getConnectionDetails.error.message")})):void r((0,h.V_)({description:a("console:develop.features.authenticationProvider.notifications.getConnectionDetails.genericError.description"),level:b.QU.ERROR,message:a("console:develop.features.authenticationProvider.notifications.getConnectionDetails.genericError.message")}));if(R){var i=null==R?void 0:R.properties,l=null==i?void 0:i.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),c="true"===(null==l?void 0:l.value);te(c)}}}),[R,Z,P]),(0,m.useEffect)((function(){if(null==s?void 0:s.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===ui.bQ.FIDO_AUTHENTICATOR})))}))){if(ee){var e,t=!(null==s||null===(e=s.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===ui.bQ.FIDO_AUTHENTICATOR})));Y(t?m.createElement(m.Fragment,null,m.createElement(Hn.Z,null,a("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),m.createElement(v.c,{i18nKey:a("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},m.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",m.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",m.createElement("strong",null," Conditional Authentication")," section."),m.createElement(u.eb,{link:k("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore"))):m.createElement(m.Fragment,null,m.createElement(Hn.Z,null,a("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),m.createElement(v.c,{i18nKey:a("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",m.createElement("strong",null,"My Account"),"."),m.createElement(u.eb,{link:k("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore"))))}else Y(m.createElement(m.Fragment,null,m.createElement(v.c,{i18nKey:a("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},"Passkey progressive enrollment is disabled. Users must enroll their passkeys through ",m.createElement("strong",null,"My Account")," to use passwordless sign-in."),m.createElement(u.eb,{link:k("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore"))));H(!0)}else H(!1)}),[ee,null==s?void 0:s.steps]),(0,m.useEffect)((function(){if(G){if(null!=U&&U.current){var e,t=null==U||null===(e=U.current)||void 0===e?void 0:e.getBoundingClientRect(),n=null==t?void 0:t.height;K(n)}}else K(0)}),[G]),m.createElement(m.Fragment,null,m.createElement("div",Ci({className:Qe()("react-flow-container","visual-editor"),"data-componentid":n},i),G?m.createElement(Gn.Z,{className:"visual-editor-info-message",severity:"info",onClose:function(){return H(!1)},ref:U},X):null,m.createElement(zn.Z,{className:"revert-to-default-button",color:"secondary",onClick:function(){return B(!0)},"data-componentid":"".concat(n,"-revert-button"),style:{marginTop:"".concat(q+15,"px")}},m.createElement(Oi,null),a("console:loginFlow.visualEditor.actions.revert.label")),m.createElement(Wn.x$,{fitView:!0,nodeTypes:ne,edgeTypes:oe,nodes:ie,edges:ae,proOptions:{hideAttribution:!0}},m.createElement(Xn.A,{color:"#e1e1e1",gap:16,variant:Xn.T.Dots,size:2}),m.createElement(Yn.Z,null),(!E||!O)&&m.createElement(zn.Z,{color:"primary",variant:"contained",className:"update-button",onClick:function(){return o(s)},disabled:!C,"data-componentid":"".concat(n,"-update-button")},a("console:loginFlow.visualEditor.actions.update.label")))),W&&m.createElement(eo,{open:W,onClose:function(){return _(!1)},currentStep:M,onIDPCreateWizardTrigger:t}),m.createElement(ao,{open:Q,onClose:function(){return B(!1)},onPrimaryActionClick:function(){w(),o(y,!0),B(!1)}}))};Ii.defaultProps={"data-componentid":"authentication-flow-visual-editor"};const Ai=Ii;var wi=n(93023),Ti=n(5948),Li=n(22405),Ni=n(61325),Ri=n(33199),Zi=["isELKRiskBased","selectedTemplate","onELKConfigureClick","onTemplateChange","onClose","data-componentid"];function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pi.apply(this,arguments)}function ki(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ui=function(e){var t=e.isELKRiskBased,n=e.selectedTemplate,o=e.onELKConfigureClick,i=e.onTemplateChange,a=e.onClose,r=e["data-componentid"],l=ki(e,Zi),c=(0,f.$)().t;return m.createElement(u.cV,Pi({onClose:a,type:"warning",primaryAction:c("common:confirm"),secondaryAction:c("common:cancel"),onSecondaryActionClick:function(e){a(e,null),i(void 0)},onPrimaryActionClick:function(e){a(e,null),i(n)},"data-componentid":r,closeOnDimmerClick:!1},l),m.createElement(u.cV.Header,{"data-componentid":"".concat(r,"-header")},c("console:loginFlow.adaptiveLoginFlowSelectConfirmationModal.heading")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(r,"-message")},c("console:loginFlow.adaptiveLoginFlowSelectConfirmationModal.message")),m.createElement(u.cV.Content,{"data-componentid":"".concat(r,"-content")},t&&m.createElement(m.Fragment,null,m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:manage.features.governanceConnectors.connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",m.createElement(u.rU,{onClick:o,external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:manage.features.governanceConnectors.connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",m.createElement(u.EK,null,m.createElement(I.UG,{size:14})),")")),m.createElement(v.c,{i18nKey:"console:loginFlow.adaptiveLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing script in the editor as well as the login steps you configured. Click ",m.createElement(u.EK,null,"Confirm")," to proceed.")))};Ui.defaultProps={"data-componentid":"adaptive-auth-template-change-confirmation-modal"};const xi=Ui;var Mi=["selectedTemplate","onTemplateChange","onClose","data-componentid"];function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fi.apply(this,arguments)}function Di(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Wi=function(e){var t=e.selectedTemplate,n=e.onTemplateChange,o=e.onClose,i=e["data-componentid"],a=Di(e,Mi),r=(0,f.$)().t;return m.createElement(u.cV,Fi({onClose:o,type:"warning",primaryAction:r("common:confirm"),secondaryAction:r("common:cancel"),onSecondaryActionClick:function(e){o(e,null),n(void 0)},onPrimaryActionClick:function(e){o(e,null),n(t)},"data-componentid":i,closeOnDimmerClick:!1},a),m.createElement(u.cV.Header,{"data-componentid":"".concat(i,"-header")},r("console:loginFlow.basicLoginFlowSelectConfirmationModal.heading")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},r("console:loginFlow.basicLoginFlowSelectConfirmationModal.message")),m.createElement(u.cV.Content,{"data-componentid":"".concat(i,"-content")},m.createElement(v.c,{i18nKey:"console:loginFlow.basicLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing login steps you configured. Click ",m.createElement(u.EK,null,"Confirm")," to proceed.")))};Wi.defaultProps={"data-componentid":"basic-login-flow-change-confirmation-modal"};const _i=Wi;var ji=["authenticators","authenticatorCategoryDisplayName","onSelect","onClose","data-componentid"];function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Qi.apply(this,arguments)}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Gi(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hi=function(e){var t=e.authenticators,n=e.authenticatorCategoryDisplayName,o=e.onSelect,i=e.onClose,a=e["data-componentid"],r=Gi(e,ji),l=(0,f.$)().t,c=Bi((0,m.useState)(t[0]),2),s=c[0],d=c[1];return m.createElement(u.cV,Qi({type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:i,primaryAction:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(e){i(e,null)},onPrimaryActionClick:function(e){o(s),i(e,null)},"data-componentid":a,closeOnDimmerClick:!1},r),m.createElement(u.cV.Header,null,l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:n})),m.createElement(u.cV.Message,{attached:!0,warning:!0},l("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:n})),m.createElement(u.cV.Content,{scrolling:!0},m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:n}},"You have multiple Social Connections configured with \xa0",m.createElement(u.EK,null,n,"Authenticator"),". Select the desired one from the selection below to proceed.")),m.createElement(g.Z,{hidden:!0}),m.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==Ke.b.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return m.createElement(u.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:s.id===e.id,image:e.image,label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(a,"-authenticator-").concat(e.name),onClick:function(){return d(e)}})})))))};Hi.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const zi=Hi;var Xi=n(33834),Yi=n(65211),Ji=n(68079),qi=n(59206),Ki=n(80638);function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ea(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ta=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-componentid"],s=(0,f.$)().t,u=$i((0,m.useState)({}),2),d=u[0],p=u[1],v=$i((0,m.useState)(void 0),2),g=v[0],b=v[1];(0,m.useEffect)((function(){h()}),[]);var h=function(){b(!0),(0,Jt.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){b(!1)}))};return void 0!==g&&!1===g&&m.createElement(qi.en,{id:"apple-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={clientId:void 0,keyId:void 0,name:void 0,privateKey:void 0,teamId:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.teamId||(t.teamId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.keyId||(t.keyId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.privateKey||(t.privateKey=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"Apple IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Apple Client ID",inputType:"client_id",name:"clientId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.clientId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.clientId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Apple Team ID",inputType:"name",name:"teamId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.teamId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.teamId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.teamId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MAX_LENGTH,minLength:ui.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-team-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Apple Key ID",inputType:"name",name:"keyId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.keyId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.keyId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.keyId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MAX_LENGTH,minLength:ui.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-key-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Apple Private Key",inputType:"password",name:"privateKey",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.privateKey.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.privateKey.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.privateKey.validations.required"),type:"password",autoComplete:""+Math.random(),maxLength:ui.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MAX_LENGTH,minLength:ui.bQ.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MIN_LENGTH,"data-testid":"".concat(c,"-idp-private-key"),width:13})))};ta.defaultProps={"data-componentid":"apple-idp-create-wizard-content"};var na=n(63793),oa=n(29082);function ia(e){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(e)}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ra(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ia(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==ia(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ia(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ca(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var sa=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],c=(0,S.I0)(),s=(0,f.$)().t,d=(0,u.fQ)().getLink,v=la((0,u.IK)(),3),g=v[0],y=v[1],E=v[2],O=(0,S.v9)((function(e){return e.config})),I=la((0,m.useState)(o),2),A=I[0],w=I[1],T=la((0,m.useState)(0),2),L=T[0],N=T[1],R=la((0,m.useState)(0),2),P=R[0],k=R[1],U=la((0,m.useState)(!1),2),x=U[0],M=U[1],F=la((0,m.useState)(!1),2),D=F[0],W=F[1],_=Se.lD.getInstance();(0,m.useEffect)((function(){w(L+1)}),[L]);var j,Q,B=function(e){var t,o,i=null==e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],a=(0,Z.Z)(i,ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===ui.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&a&&delete i[ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){M(!0),(0,Jt.Sf)(e).then((function(e){if(_.publish("connections-finish-adding-connection",{type:l}),c((0,h.V_)({description:s("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:s("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?y({description:s("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:s("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):y({description:s("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:s("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):W(!0)})).finally((function(){M(!1)}))}(e)},V=function(){t()};return m.createElement(m.Fragment,null,D&&m.createElement(oa.P,{actionLabel:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){W(!1),V()},header:s("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:D}),m.createElement(Se.wv,{open:!D,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:V,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().apple,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:d("develop.connections.newConnection.apple.learnMore")},s("common:learnMore")))))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},g&&E,m.createElement(ta,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:""},{key:"SecretValidityPeriod",value:ui.bQ.APPLE_AUTHENTICATOR_CLIENT_SECRET_VALIDITY_PERIOD},{key:"TeamId",value:e.teamId.toString()},{key:"KeyId",value:e.keyId.toString()},{key:"PrivateKey",value:e.privateKey.toString()},{key:"callbackUrl",value:(null==O||null===(t=O.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"Scopes",value:ui.bQ.APPLE_AUTHENTICATOR_REQUESTED_SCOPES.join(",")},{key:"AdditionalQueryParameters",value:""},{key:"RegenerateClientSecret",value:"false"},{key:"SecretExpiryEpochTime",value:"0"}],n.image="assets/images/logos/apple.svg",B(n)},triggerSubmission:function(e){j=e},triggerPrevious:function(e){Q=e},changePageNumber:function(e){return N(e)},setTotalPage:function(e){return k(e)},template:r})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:V,"data-testid":"".concat(l,"-modal-cancel-button")},s("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},A!==P?m.createElement(u.KM,{floated:"right",onClick:function(){j()},"data-testid":"".concat(l,"-modal-finish-button"),loading:x,disabled:x},s("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){j()},"data-testid":"".concat(l,"-modal-finish-button"),loading:x,disabled:x},s("console:develop.features.authenticationProvider.wizards.buttons.finish"))),A>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-previous-button")},s("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===A)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},s("console:develop.features.authenticationProvider.templates.apple.wizardHelp.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}()))};sa.defaultProps={currentStep:1,"data-componentid":"apple-idp-create-wizard"};var ua,da=n(53337),pa=n(35277),ma=n(22586),fa=n(69466);function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ga(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e.GENERAL_DETAILS="GeneralDetails",e.AUTHENTICATOR_SETTINGS="Identity Provider Settings",e.CERTIFICATES="Certificates"}(ua||(ua={}));var ba=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.title,i=e.subTitle,a=e.template,r=e["data-testid"],l=e["data-componentid"],c=(0,m.useRef)(null),v=va((0,m.useState)(!1),2),y=v[0],I=v[1],A=va((0,m.useState)([]),2),w=A[0],T=A[1],L=va((0,m.useState)(0),2),N=L[0],R=L[1],Z=va((0,u.IK)(),3),P=Z[0],k=Z[1],U=Z[2],x=va((0,m.useState)(wa),2),M=x[0],F=x[1],D=va((0,m.useState)(),2),W=D[0],_=D[1],j=va((0,m.useState)(null),2),Q=j[0],B=j[1],V=va((0,m.useState)(null),2),G=V[0],H=V[1],z=va((0,m.useState)(null),2),X=z[0],Y=z[1],J=va((0,m.useState)("jwks"),2),q=J[0],K=J[1],$=va((0,m.useState)("oidc"),2),ee=$[0],te=$[1],ne=va((0,m.useState)("file"),2),oe=ne[0],ie=ne[1],ae=va((0,m.useState)(null),2),re=ae[0],le=ae[1],ce=va((0,m.useState)(!1),2),se=ce[0],ue=ce[1],de=va((0,m.useState)(!0),2),pe=de[0],me=de[1],fe=va((0,m.useState)([]),2),ve=fe[0],ge=fe[1],be=va((0,m.useState)(!1),2),he=be[0],ye=be[1],Ee=(0,S.v9)((function(e){return e.config})),Ce=(0,S.I0)(),Oe=(0,f.$)().t,Ie=(0,u.fQ)().getLink,Ae=Se.lD.getInstance();(0,m.useEffect)((function(){ye(!0),(0,Jt.SN)(null,null,null).then((function(e){ge(e.identityProviders)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){ye(!1)}))}),[]),(0,m.useEffect)((function(){y||(T(Le()),I(!0))}),[y]),(0,m.useEffect)((function(){K("oidc"===ee?"jwks":"pem")}),[ee]);var we,Te=(0,m.useMemo)((function(){return{NameIDType:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",RequestMethod:"post",name:wa}}),[]),Le=function(){return[{icon:(0,Ct.hz)().general,name:ua.GENERAL_DETAILS,title:"General Settings"},{icon:(0,Ct.hz)().authenticatorSettings,name:ua.AUTHENTICATOR_SETTINGS,title:"Configuration"},{icon:(0,Ct.hz)().general,name:ua.CERTIFICATES,title:"Certificates"}]},Ne=function(e){return(null==ve?void 0:ve.length)>0&&ve.reduce((function(e,t){var n=t.name;return e.add(n)}),new Set).has(e)},Re=function(e){return s.URLUtils.isLoopBackCall(e)&&null!==Ye.commonConfig&&void 0!==Ye.commonConfig&&Ye.commonConfig.blockLoopBackCalls?Oe("console:develop.features.idp.forms.common.internetResolvableErrorMessage"):void 0},Ze=function(){return m.createElement(qi.k0,{validate:function(e){var t={};t.name=Na(Za,Pa(Sa))(e.name),Ne(e.name)&&(t.name=Oe("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")),da.I.isValidResourceName(e.name)||(t.name=Oe("console:develop.features.authenticationProvider.templates.enterprise.validation.name")),me(Ra(t))}},m.createElement(qi.gN.Input,{"data-testid":"".concat(r,"-form-wizard-idp-name"),ariaLabel:"name",inputType:"resource_name",name:"name",placeholder:"Enter a name for the identity provider",label:"Identity provider name",initialValue:Te.name,maxLength:Sa.max,minLength:Sa.min,required:!0,width:15,format:function(e){return e.toString().trimStart()},validation:function(e){var t;return t=Na(Za,Pa(Sa))(e),Ne(e)&&(t=Oe("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")),da.I.isValidResourceName(e)||(t=Oe("console:develop.features.authenticationProvider.templates.enterprise.validation.invalidName",{idpName:e})),""!==t&&void 0!==t||me(!1),t}}),m.createElement(C.Z,null,m.createElement(C.Z.Row,null,m.createElement(C.Z.Column,{mobile:16,tablet:16,computer:14},m.createElement("div",{className:"sub-template-selection"},m.createElement("label",{className:"sub-templates-label"},"Select protocol"),m.createElement(ze.Z.Group,{itemsPerRow:3,className:"sub-templates"},m.createElement(u.B0,{inline:!0,image:(0,Ct.nI)().oidc,size:"small",className:"sub-template-selection-card",header:"OpenID Connect",selected:"oidc"===ee,onClick:function(){return te("oidc")},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!0,"data-testid":"".concat(r,"-form-wizard-oidc-selection-card")}),m.createElement(u.B0,{inline:!0,image:(0,Ct.nI)().saml,size:"small",className:"sub-template-selection-card",header:"SAML",selected:"saml"===ee,onClick:function(){return te("saml")},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},showTooltips:!0,disabled:!1,overlay:m.createElement(pa.Z,{className:"lighter",active:!0},Oe("common:featureAvailable")),contentTopBorder:!1,renderDisabledItemsAsGrayscale:!1,overlayOpacity:.6,"data-testid":"".concat(r,"-form-wizard-saml-selection-card")})))))))},Pe=function(){return m.createElement(qi.k0,{validate:function(e){var t,n={};"oidc"===ee&&"jwks"===q&&((null===(t=e.jwks_endpoint)||void 0===t?void 0:t.length)>0&&(n.jwks_endpoint=Na(Pa(Aa),Re,ka)(e.jwks_endpoint)),me(Ra(n)));return n}},m.createElement(C.Z,null,m.createElement(C.Z.Row,{columns:1},m.createElement(C.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement("p",null,m.createElement("b",null,"Mode of certificate configuration")),"oidc"===ee&&m.createElement(u.T5,{compact:!0,disabledMessage:"This feature will be enabled soon.",className:"mt-1",defaultOptionValue:"jwks",selectedValue:q,onChange:function(e){var t=e.value;return K(t)},options:[{label:"JWKS endpoint",value:"jwks"},{label:"Use PEM certificate",value:"pem"}]})))),m.createElement(g.Z,{hidden:!0}),"oidc"===ee&&"jwks"===q&&m.createElement(m.Fragment,null,m.createElement(qi.gN.Input,{ariaLabel:"JWKS endpoint URL",inputType:"url",name:"jwks_endpoint",label:"JWKS endpoint URL",required:!1,maxLength:Aa.max,minLength:Aa.min,width:15,initialValue:wa,placeholder:"Enter JWKS endpoint URL","data-testid":"".concat(r,"-form-wizard-oidc-jwks-endpoint-url")}),m.createElement(u.kW,null,Ee.ui.productName," will use this URL to obtain keys to verify the signed responses from your external IdP")),"pem"===q&&m.createElement(m.Fragment,null,m.createElement(u.GB,{key:2,file:X,pastedContent:re,fileStrategy:Ta,normalizeStateOnRemoveOperations:!0,onChange:function(e){var t,n;le(e.pastedContent),Y(e.file),F(null===(t=e.serialized)||void 0===t?void 0:t.pem),me(((null===(n=e.pastedContent)||void 0===n?void 0:n.length)>0||e.file)&&!e.serialized&&!e.valid)},uploadButtonText:"Upload Certificate File",dropzoneText:"Drag and drop a certificate file here.",pasteAreaPlaceholderText:"Paste IdP certificate in PEM format.",icon:(0,Se._5)().uploadPlaceholder,placeholderIcon:m.createElement(O.Z,{name:"file alternate",size:"huge"}),"data-testid":"".concat(r,"-form-wizard-").concat(ee,"-pem-certificate")}),m.createElement(u.kW,null,Ee.ui.productName," will use this certificate to verify the signed responses from your external IdP.")))};return m.createElement(Se.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(r,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(r,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().enterprise,size:"x30",transparent:!0,spaced:"right","data-testid":"".concat(r,"-image")}),m.createElement("div",null,o,i&&m.createElement(u.X6,{as:"h6"},i,(we=void 0,ee===fa.RE.SAML&&(we=Ie("develop.connections.newConnection.enterprise.saml.learnMore")),ee===fa.RE.OIDC&&(we=Ie("develop.connections.newConnection.enterprise.oidc.learnMore")),m.createElement(u.eb,{link:we},Oe("common:learnMore"))))))),m.createElement(m.Fragment,null,m.createElement(Se.wv.Content,{className:"steps-container","data-testid":"".concat(r,"-modal-content-1")},m.createElement(u.Rg.Group,{current:N},w.map((function(e,t){return m.createElement(u.Rg.Step,{active:!0,key:t,icon:e.icon,title:e.title})})))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(r,"-modal-content-2")},P&&U,he?m.createElement(u.pO,null):m.createElement(qi.w,{ref:c,initialValues:Te,onSubmit:function(e){var t,o,i,r,c,s,u,m,f,v,g=(0,d.Z)(a.subTemplates.find((function(e){return e.id===("saml"===ee?ui.bQ.IDP_TEMPLATE_IDS.SAML:ui.bQ.IDP_TEMPLATE_IDS.OIDC)}))).idp;"oidc"===ee?(g.templateId=null===(t=a.subTemplates.find((function(e){return"enterprise-oidc-idp"===e.templateId})))||void 0===t?void 0:t.templateId,g.name=null==e||null===(o=e.name)||void 0===o?void 0:o.toString(),g.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null==e||null===(i=e.clientId)||void 0===i?void 0:i.toString()},{key:"ClientSecret",value:null==e||null===(r=e.clientSecret)||void 0===r?void 0:r.toString()},{key:"OAuth2AuthzEPUrl",value:null==e||null===(c=e.authorizationEndpointUrl)||void 0===c?void 0:c.toString()},{key:"OAuth2TokenEPUrl",value:null==e||null===(s=e.tokenEndpointUrl)||void 0===s?void 0:s.toString()},{key:"callbackUrl",value:(null==Ee||null===(u=Ee.deployment)||void 0===u?void 0:u.customServerHost)+"/commonauth"}],g.certificate.jwksUri=null!==(m=e.jwks_endpoint)&&void 0!==m?m:wa,g.certificate.certificates=[M?btoa(M):wa]):(g.templateId=null===(f=a.subTemplates.find((function(e){return"enterprise-saml-idp"===e.templateId})))||void 0===f?void 0:f.templateId,g.name=null==e||null===(v=e.name)||void 0===v?void 0:v.toString(),g.federatedAuthenticators.authenticators[0].properties="manual"===oe?[{key:"IdPEntityId",value:e.IdPEntityId},{key:"NameIDType",value:e.NameIDType},{key:"RequestMethod",value:e.RequestMethod},{key:"SPEntityId",value:e.SPEntityId},{key:"SSOUrl",value:e.SSOUrl},{key:"SelectMode",value:"Manual Configuration"},{key:"IsUserIdInClaims",value:"false"},{key:"IsSLORequestAccepted",value:"false"},{key:"SignatureAlgorithm",value:"RSA with SHA256"},{key:"DigestAlgorithm",value:"SHA256"}]:[{key:"SPEntityId",value:e.SPEntityId},{key:"meta_data_saml",value:null!=W?W:wa},{key:"SelectMode",value:"Metadata File Configuration"},{key:"IsUserIdInClaims",value:"false"},{key:"IsSLORequestAccepted",value:"false"}],g.certificate.certificates=[M?btoa(M):wa]);g.image="assets/images/logos/enterprise.svg",g.description=ma.C.getAuthenticatorDescription(g.federatedAuthenticators.authenticators[0].authenticatorId),ue(!0),(0,Jt.Sf)(g).then((function(e){if(Ae.publish("connections-finish-adding-connection",{type:l+"-"+(0,E.Z)(ee)}),Ce((0,h.V_)({description:Oe("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:Oe("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o,i=Ye.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;return 403===e.response.status&&(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)===i.getErrorCode()?(k({code:i.getErrorCode(),description:Oe(i.getErrorDescription()),level:b.QU.ERROR,message:Oe(i.getErrorMessage()),traceId:i.getErrorTraceId()}),void setTimeout((function(){return k(void 0)}),4e3)):500===(null==e?void 0:e.response.status)&&"saml"===ee&&"file"===oe&&"IDP-65002"===(null===(o=e.response)||void 0===o?void 0:o.data.code)?(k({description:"You are trying to add a provider with an existing Identity Provider Entity ID or a Service Provider Entity ID.",level:b.QU.ERROR,message:"There's a Conflicting Entity"}),void setTimeout((function(){return k(void 0)}),8e3)):e.response&&e.response.data&&e.response.data.description?(k({description:Oe("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:Oe("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}),void setTimeout((function(){return k(void 0)}),4e3)):(k({description:Oe("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:Oe("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}),void setTimeout((function(){return k(void 0)}),4e3))})).finally((function(){ue(!1)}))},uncontrolledForm:!0,pageChanged:function(e){return R(e)},"data-testid":r},"oidc"===ee?[Ze(),m.createElement(qi.k0,{validate:function(e){var t={};return t.clientId=Na(Za,Pa(ha))(e.clientId),t.clientSecret=Na(Za,Pa(ya))(e.clientSecret),t.authorizationEndpointUrl=Na(Za,ka,Re,Pa(Ea))(e.authorizationEndpointUrl),t.tokenEndpointUrl=Na(Za,ka,Re,Pa(Ea))(e.tokenEndpointUrl),me(Ra(t)),t}},m.createElement(qi.gN.Input,{ariaLabel:"clientId",inputType:"client_id",name:"clientId",label:"Client ID",required:!0,maxLength:100,minLength:3,placeholder:"Enter client id","data-testid":"".concat(r,"-form-wizard-oidc-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"clientSecret",className:"addon-field-wrapper",inputType:"password",name:"clientSecret",label:"Client secret",required:!0,hidePassword:Oe("common:hide"),showPassword:Oe("common:show"),maxLength:100,minLength:3,type:"password",placeholder:"Enter client secret","data-testid":"".concat(r,"-form-wizard-oidc-idp-client-secret"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"authorizationEndpointUrl",inputType:"url",name:"authorizationEndpointUrl",label:"Authorization endpoint URL",required:!0,placeholder:"Enter authorization endpoint URL",maxLength:100,minLength:3,"data-testid":"".concat(r,"-form-wizard-oidc-idp-authorization-endpoint-url"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"tokenEndpointUrl",inputType:"url",name:"tokenEndpointUrl",label:"Token endpoint URL",required:!0,placeholder:"Enter token endpoint URL",maxLength:100,minLength:3,"data-testid":"".concat(r,"-form-wizard-oidc-idp-token-endpoint-url"),width:13})),Pe()]:[Ze(),m.createElement(qi.k0,{validate:function(e){var t={};return t.SPEntityId=Na(Za,Pa(Ca))(e.SPEntityId),"file"===oe?me(Ra(t)||!W):(t.NameIDType=Na(Za)(e.NameIDType),t.SSOUrl=Na(Za,Pa(Oa),ka)(e.SSOUrl),t.IdPEntityId=Na(Za,Pa(Ia))(e.IdPEntityId),t.RequestMethod=Na(Za)(e.RequestMethod),me(Ra(t))),t}},m.createElement(qi.gN.Input,{ariaLabel:"Service provider entity id",inputType:"url",name:"SPEntityId",label:"Service provider entity ID",required:!0,maxLength:Ca.max,minLength:Ca.min,width:15,placeholder:"Enter a Service Provider Entity ID","data-testid":"".concat(r,"-form-wizard-saml-entity-id")}),m.createElement(C.Z,null,m.createElement(C.Z.Row,{columns:1},m.createElement(C.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement("p",null,m.createElement("b",null,"Mode of configuration")),m.createElement(u.T5,{compact:!0,"data-testid":"".concat(r,"-form-wizard-saml-config-switcher"),className:"mt-1",selectedValue:oe,onChange:function(e){var t=e.value;return ie(t)},options:[{label:"Manual Configuration",value:"manual"},{label:"File Based Configuration",value:"file"}]})))),m.createElement(g.Z,{hidden:!0}),"manual"===oe?m.createElement("div",null,m.createElement(qi.gN.Input,{inputType:"url",ariaLabel:"Identity provider Single Sign-On URL",name:"SSOUrl",label:"Identity provider Single Sign-On URL",required:!0,maxLength:Oa.max,minLength:Oa.min,width:15,placeholder:"Enter SAML 2.0 redirect SSO url","data-testid":"".concat(r,"-form-wizard-saml-sso-url")}),m.createElement(qi.gN.Input,{inputType:"url",ariaLabel:"Identity provider entity ID",name:"IdPEntityId",label:"Identity provider entity ID",required:!0,maxLength:Ia.max,minLength:Ia.min,width:15,placeholder:"Enter SAML 2.0 entity id (saml issuer)","data-testid":"".concat(r,"-form-wizard-saml-idp-entity-id")})):m.createElement(u.GB,{key:1,hidePasteOption:!0,fileStrategy:La,file:Q,pastedContent:G,onChange:function(e){B(e.file),H(e.pastedContent),_(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(r,"-form-wizard-saml-xml-config-file-picker"),icon:(0,Se._5)().uploadPlaceholder,placeholderIcon:m.createElement(O.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0})),Pe()]))),m.createElement(Se.wv.Actions,{"data-testid":"".concat(r,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:t,"data-testid":"".concat(r,"-modal-cancel-button")},Oe("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},N<w.length-1&&m.createElement(u.KM,{disabled:pe,floated:"right",onClick:function(){c.current.gotoNextPage()},"data-testid":"".concat(r,"-modal-next-button")},Oe("console:develop.features.authenticationProvider.wizards.buttons.next"),m.createElement(O.Z,{name:"arrow right"})),N===w.length-1&&m.createElement(u.KM,{disabled:pe||se,type:"submit",floated:"right",onClick:function(){c.current.gotoNextPage()},"data-testid":"".concat(r,"-modal-finish-button"),loading:se},Oe("console:develop.features.authenticationProvider.wizards.buttons.finish")),N>0&&m.createElement(u.Qj,{type:"submit",floated:"right",onClick:function(){return c.current.gotoPreviousPage()},"data-testid":"".concat(r,"-modal-previous-button")},m.createElement(O.Z,{name:"arrow left"}),Oe("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(1!==N)return null;var t=(0,d.Z)(a.subTemplates.find((function(e){return e.id===("saml"===ee?ui.bQ.IDP_TEMPLATE_IDS.SAML:ui.bQ.IDP_TEMPLATE_IDS.OIDC)})));if(null==t||null===(e=t.content)||void 0===e||!e.wizardHelp)return null;var n=(null==t?void 0:t.content).wizardHelp;return"saml"===ee&&"file"===oe&&(n=t.content.fileBasedHelpPanel),m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{"data-testid":"".concat(r,"-modal-side-panel-header"),className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},"Help")),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(u.pO,null)},m.createElement(n,{"data-testid":"".concat(r,"-modal-side-panel-help-content")}))))}())};ba.defaultProps={currentStep:0,"data-componentid":"enterprise-idp","data-testid":"enterprise-idp-create-wizard"};var ha={max:100,min:1},ya={max:100,min:1},Ea={max:2048,min:10},Sa={max:120,min:3},Ca={max:240,min:3},Oa={max:2048,min:10},Ia={max:2048,min:5},Aa={max:2048,min:0},wa="",Ta=new u.tN,La=new u.R2,Na=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},Ra=function(e){return!Object.keys(e).every((function(t){return!e[t]}))},Za=function(e){if(!e)return"This is a required field"},Pa=function(e){return function(t){return!t&&e.min>0?"You cannot leave this blank":(null==t?void 0:t.length)>e.max?"Cannot exceed more than ".concat(e.max," characters."):(null==t?void 0:t.length)<e.min?"Should have at least ".concat(e.min," characters."):void 0}},ka=function(e){return da.I.url(e)?void 0:"This value is invalid."},Ua=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-componentid"],s=(0,f.$)().t,d=(0,Jt.af)(),p=d.data,v=d.isLoading,g=d.error;(0,m.useEffect)((function(){g&&(0,Ki.Df)(g)}),[g]);return v?m.createElement(u.pO,null):m.createElement(qi.en,{id:"expert-mode-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-componentid":c},m.createElement(qi.k0,{validate:function(e){var t={name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"Expert Mode IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;return(null==p?void 0:p.count)>0&&(null==p||p.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t?s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate"):null}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-componentid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Textarea,{ariaLabel:"Expert Mode IDP Description",inputType:"description",name:"description",label:s("console:develop.features.authenticationProvider.forms.generalDetails.description.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),required:!1,maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MIN_LENGTH,"data-componentid":"".concat(c,"-idp-description"),width:13})))};Ua.defaultProps={"data-componentid":"expert-mode-idp-create-wizard-content"};var xa=n(71532),Ma=n(27696);function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Wa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Fa(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Qa=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],c=(0,S.I0)(),s=(0,f.$)().t,d=(0,u.fQ)().getLink,v=_a((0,u.IK)(),3),g=v[0],y=v[1],E=v[2],O=_a((0,m.useState)(o),2),I=O[0],A=O[1],w=_a((0,m.useState)(0),2),T=w[0],L=w[1],N=_a((0,m.useState)(0),2),R=N[0],Z=N[1],P=_a((0,m.useState)(!1),2),k=P[0],U=P[1],x=_a((0,m.useState)(!1),2),M=x[0],F=x[1],D=Ma.lD.getInstance();(0,m.useEffect)((function(){A(T+1)}),[T]);var W,_,j=function(){t()};return m.createElement(m.Fragment,null,M&&m.createElement(xa.Pj,{actionLabel:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){F(!1),j()},header:s("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:M}),m.createElement(xa.wv,{open:!M,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:j,closeOnDimmerClick:!1,closeOnEscape:!0,"data-componentid":"".concat(l,"-modal")},m.createElement(xa.wv.MainPanel,null,m.createElement(xa.wv.Header,{className:"wizard-header","data-componentid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().expert,size:"mini",transparent:!0,spaced:"right","data-componentid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:d("develop.connections.newConnection.siwe.learnMore")},s("common:learnMore")))))),m.createElement(xa.wv.Content,{className:"content-container","data-componentid":"".concat(l,"-modal-content")},g&&E,m.createElement(Ua,{onSubmit:function(e){var t,o,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);i.name=null==e||null===(t=e.name)||void 0===t?void 0:t.toString(),i.description=(null==e||null===(o=e.description)||void 0===o?void 0:o.toString())||r.description,i.templateId=r.templateId,i.image="assets/images/logos/expert.svg",function(e){U(!0),(0,Jt.Sf)(e).then((function(e){if(D.publish("connections-finish-adding-connection",{type:l}),c((0,h.V_)({description:s("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:s("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=yt.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?y({description:s("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:s("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):y({description:s("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:s("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):F(!0)})).finally((function(){U(!1)}))}(i)},triggerSubmission:function(e){W=e},triggerPrevious:function(e){_=e},changePageNumber:function(e){return L(e)},setTotalPage:function(e){return Z(e)},template:r})),m.createElement(xa.wv.Actions,{"data-componentid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:j,"data-componentid":"".concat(l,"-modal-cancel-button")},s("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},I!==R?m.createElement(u.KM,{floated:"right",onClick:function(){W()},"data-componentid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},s("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){W()},"data-componentid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},s("console:develop.features.authenticationProvider.wizards.buttons.finish"))),I>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){_()},"data-componentid":"".concat(l,"-modal-previous-button")},s("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===I)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(xa.wv.SidePanel,null,m.createElement(xa.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},s("console:develop.features.authenticationProvider.templates.expert.wizardHelp.heading"))),m.createElement(xa.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(u.pO,null)},m.createElement(t,null))))}()))};function Ba(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Va(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Qa.defaultProps={currentStep:1,"data-componentid":"expert-mode-idp-create-wizard"};var Ga=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,f.$)().t,u=Ba((0,m.useState)({}),2),d=u[0],p=u[1],v=Ba((0,m.useState)(void 0),2),g=v[0],b=v[1];(0,m.useEffect)((function(){h()}),[]);var h=function(){b(!0),(0,Jt.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){b(!1)}))};return void 0!==g&&!1===g?m.createElement(qi.en,{id:"facebook-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"Facebook IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Facebook Client ID",inputType:"client_id",name:"clientId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Facebook Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.validations.required"),type:"password",hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Xa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ha(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Ha(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ha(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ga.defaultProps={"data-testid":"facebook-idp-create-wizard-content"};var qa=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],c=e["data-componentid"],s=(0,S.I0)(),d=(0,f.$)().t,v=(0,u.fQ)().getLink,g=Ya((0,u.IK)(),3),y=g[0],E=g[1],O=g[2],I=(0,S.v9)((function(e){return e.config})),A=Ya((0,m.useState)(o),2),w=A[0],T=A[1],L=Ya((0,m.useState)(0),2),N=L[0],R=L[1],P=Ya((0,m.useState)(0),2),k=P[0],U=P[1],x=Ya((0,m.useState)(!1),2),M=x[0],F=x[1],D=Ya((0,m.useState)(!1),2),W=D[0],_=D[1],j=Se.lD.getInstance();(0,m.useEffect)((function(){T(N+1)}),[N]);var Q,B,V=function(e){var t,o,i=null==e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],a=(0,Z.Z)(i,ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===ui.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&a&&delete i[ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){F(!0),(0,Jt.Sf)(e).then((function(e){if(j.publish("connections-finish-adding-connection",{type:c}),s((0,h.V_)({description:d("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:d("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):_(!0)})).finally((function(){F(!1)}))}(e)},G=function(){t()};return m.createElement(m.Fragment,null,W&&m.createElement(oa.P,{actionLabel:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){_(!1),G()},header:d("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:W}),m.createElement(Se.wv,{open:!W,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:G,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().facebook,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:v("develop.connections.newConnection.facebook.learnMore")},d("common:learnMore")))))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},y&&O,m.createElement(Ga,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){Xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:e.clientSecret.toString()},{key:"callBackUrl",value:(null==I||null===(t=I.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"Scope",value:ui.bQ.FACEBOOK_AUTHENTICATOR_REQUESTED_SCOPES.join(",")},{key:"UserInfoFields",value:ui.bQ.FACEBOOK_AUTHENTICATOR_REQUESTED_PROFILE_FIELDS.join(",")}],n.image="assets/images/logos/facebook.svg",V(n)},triggerSubmission:function(e){Q=e},triggerPrevious:function(e){B=e},changePageNumber:function(e){return R(e)},setTotalPage:function(e){return U(e)},template:r})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:G,"data-testid":"".concat(l,"-modal-cancel-button")},d("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},w!==k?m.createElement(u.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:M,disabled:M},d("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:M,disabled:M},d("console:develop.features.authenticationProvider.wizards.buttons.finish"))),w>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){B()},"data-testid":"".concat(l,"-modal-previous-button")},d("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===w)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},d("console:develop.features.authenticationProvider.templates.facebook.wizardHelp.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}()))};function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}qa.defaultProps={currentStep:1,"data-componentid":"facebook-idp","data-testid":"facebook-idp-create-wizard"};var er=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,f.$)().t,u=Ka((0,m.useState)({}),2),d=u[0],p=u[1],v=Ka((0,m.useState)(void 0),2),g=v[0],b=v[1];(0,m.useEffect)((function(){h()}),[]);var h=function(){b(!0),(0,Jt.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){b(!1)}))};return void 0!==g&&!1===g?m.createElement(qi.en,{id:"github-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"GitHub IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"GitHub Client ID",inputType:"client_id",name:"clientId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"GitHub Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.validations.required"),type:"password",hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};function tr(e){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(e)}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function or(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==tr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==tr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}er.defaultProps={"data-testid":"github-idp-create-wizard-page"};var rr=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],c=e["data-componentid"],s=(0,S.I0)(),d=(0,f.$)().t,v=(0,u.fQ)().getLink,g=ir((0,u.IK)(),3),y=g[0],E=g[1],O=g[2],I=(0,S.v9)((function(e){return e.config})),A=ir((0,m.useState)(o),2),w=A[0],T=A[1],L=ir((0,m.useState)(0),2),N=L[0],R=L[1],P=ir((0,m.useState)(0),2),k=P[0],U=P[1],x=ir((0,m.useState)(!1),2),M=x[0],F=x[1],D=ir((0,m.useState)(!1),2),W=D[0],_=D[1],j=Se.lD.getInstance();(0,m.useEffect)((function(){T(N+1)}),[N]);var Q,B,V=function(e){var t,o,i=null==e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],a=(0,Z.Z)(i,ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===ui.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&a&&delete i[ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){F(!0),(0,Jt.Sf)(e).then((function(e){if(j.publish("connections-finish-adding-connection",{type:c}),s((0,h.V_)({description:d("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:d("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):_(!0)})).finally((function(){F(!1)}))}(e)},G=function(){t()};return m.createElement(m.Fragment,null,W&&m.createElement(oa.P,{actionLabel:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){_(!1),G()},header:d("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:W}),m.createElement(Se.wv,{open:!W,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:G,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().github,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:v("develop.connections.newConnection.github.learnMore")},d("common:learnMore")))))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},y&&O,m.createElement(er,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:e.clientSecret.toString()},{key:"callbackUrl",value:(null==I||null===(t=I.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"scope",value:ui.bQ.GITHUB_AUTHENTICATOR_REQUESTED_SCOPES.join(" ")},{key:"UsePrimaryEmail",value:"true"}],n.image="assets/images/logos/github.svg",V(n)},triggerSubmission:function(e){Q=e},triggerPrevious:function(e){B=e},changePageNumber:function(e){return R(e)},setTotalPage:function(e){return U(e)},template:r})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:G,"data-testid":"".concat(l,"-modal-cancel-button")},d("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},w!==k?m.createElement(u.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:M,disabled:M},d("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:M,disabled:M},d("console:develop.features.authenticationProvider.wizards.buttons.finish"))),w>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){B()},"data-testid":"".concat(l,"-modal-previous-button")},d("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===w)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},d("console:develop.features.authenticationProvider.templates.github.wizardHelp.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}()))};function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}rr.defaultProps={currentStep:1,"data-componentid":"github-idp","data-testid":"github-idp-create-wizard"};var sr=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=lr((0,m.useState)({}),2),u=s[0],d=s[1],p=lr((0,m.useState)(void 0),2),v=p[0],g=p[1],b=(0,f.$)().t;(0,m.useEffect)((function(){h()}),[]);var h=function(){g(!0),(0,Jt.SN)(null,null,null).then((function(e){d(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){g(!1)}))};return void 0!==v&&!1===v?m.createElement(qi.en,{id:"google-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={};return e.name||(t.name=b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"Google IDP Name",inputType:"name",name:"name",label:b("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:b("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,validation:function(e){return function(e){var t=!1;if((null==u?void 0:u.count)>0&&(null==u||u.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return b("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Google Client ID",inputType:"client_id",name:"clientId",label:b("console:develop.features.authenticationProvider.templates.google.wizardHelp.clientId.heading"),placeholder:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.placeholder"),required:!0,message:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Google Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:b("console:develop.features.authenticationProvider.templates.google.wizardHelp.clientSecret.heading"),placeholder:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.placeholder"),required:!0,message:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"password",hidePassword:b("common:hide"),showPassword:b("common:show"),autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}sr.defaultProps={"data-testid":"idp-edit-idp-create-wizard"};var pr=function(e){var t,n,o=e.onWizardClose,i=e.onIDPCreate,a=e.currentStep,r=e.title,l=e.subTitle,c=e.template,s=e["data-testid"],d=e["data-componentid"],v=ur((0,m.useState)(a),2),g=v[0],y=v[1],E=ur((0,m.useState)(void 0),2)[1],O=ur((0,m.useState)(void 0),2)[1],I=ur((0,m.useState)(!1),2),A=I[0],w=I[1],T=ur((0,m.useState)(!1),2),L=T[0],N=T[1],R=(0,S.I0)(),P=(0,f.$)().t,k=(0,u.fQ)().getLink,U=(0,S.v9)((function(e){return e.config})),x=(0,S.v9)((function(e){return e.identityProvider.meta.authenticators})),M=ur((0,u.IK)(),3),F=M[0],D=M[1],W=M[2],_=ur((0,m.useState)(0),2),j=_[0],Q=_[1],B=ur((0,m.useState)(0),2),V=B[0],G=B[1],H=Se.lD.getInstance(),z=function(e){var t,n,o=null==e||null===(t=e.provisioning)||void 0===t||null===(n=t.outboundConnectors)||void 0===n?void 0:n.connectors[0],a=(0,Z.Z)(o,ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===ui.bQ.PROVISIONING_CONNECTOR_GOOGLE;o&&a&&delete o[ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=c.description,function(e){w(!0),(0,Jt.Sf)(e).then((function(e){if(H.publish("connections-finish-adding-connection",{type:d}),R((0,h.V_)({description:P("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:P("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))i();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);i(n)}})).catch((function(e){var t,n,o,i=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?D({description:P("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:P("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):D({description:P("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:P("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):N(!0)})).finally((function(){w(!1)}))}(e)},X=function(){O(void 0),E(void 0),o()};(0,m.useEffect)((function(){var e,t,n;null!=x&&x.find((function(e){var t,n;return e.authenticatorId===(null==c||null===(t=c.idp)||void 0===t||null===(n=t.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)}))&&(n=null==c||null===(e=c.idp)||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId,(0,Jt.DJ)(n).then((function(e){E(e)})).catch((function(e){(0,Ki.Rw)(e)})))}),[x]),(0,m.useEffect)((function(){y(j+1)}),[j]);return m.createElement(m.Fragment,null,L&&m.createElement(oa.P,{actionLabel:P("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){N(!1),X()},header:P("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:P("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:P("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:L}),m.createElement(Se.wv,{open:!L,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:X,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(s,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(s,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().google,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(s,"-image")}),m.createElement("div",{className:"ml-1"},r,l&&m.createElement(u.X6,{as:"h6"},l,m.createElement(u.eb,{link:k("develop.connections.newConnection.google.learnMore")},P("common:learnMore")))))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(s,"-modal-content-2")},F&&W,m.createElement(sr,{onSubmit:function(e){var t,n=c.idp;n.name=null==e?void 0:e.name.toString(),n.templateId=c.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null==e?void 0:e.clientId.toString()},{key:"ClientSecret",value:null==e?void 0:e.clientSecret.toString()},{key:"callbackUrl",value:(null==U||null===(t=U.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"AdditionalQueryParameters",value:"scope=email openid profile"}],n.federatedAuthenticators.authenticators[0].isEnabled=!((0,p.Z)(null==e?void 0:e.clientId.toString())||(0,p.Z)(null==e?void 0:e.clientSecret.toString())),n.image="assets/images/logos/google.svg",z(n)},triggerSubmission:function(e){t=e},triggerPrevious:function(e){n=e},changePageNumber:function(e){return Q(e)},setTotalPage:function(e){return G(e)},template:c})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(s,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:X,"data-testid":"".concat(s,"-modal-cancel-button")},P("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},g!==V?m.createElement(u.KM,{floated:"right",onClick:function(){t()},"data-testid":"".concat(s,"-modal-finish-button"),loading:A,disabled:A},P("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(u.KM,{floated:"right",onClick:function(){t()},"data-testid":"".concat(s,"-modal-finish-button"),loading:A,disabled:A},P("console:develop.features.authenticationProvider.wizards.buttons.finish")),g>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){n()},"data-testid":"".concat(s,"-modal-previous-button")},P("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==c||null===(e=c.content)||void 0===e||!e.wizardHelp||0===g)return null;var t=(null==c?void 0:c.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},P("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(u.pO,null)},m.createElement(t,null))))}()))};function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}pr.defaultProps={currentStep:1,"data-componentid":"google-idp","data-testid":"idp-edit-idp-create-wizard"};var vr=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-componentid"],s=(0,f.$)().t,u=mr((0,m.useState)({}),2),d=u[0],p=u[1],v=mr((0,m.useState)(void 0),2),g=v[0],b=v[1];(0,m.useEffect)((function(){h()}),[]);var h=function(){b(!0),(0,Jt.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){b(!1)}))};return void 0!==g&&!1===g?m.createElement(qi.en,{id:"hypr-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={apiToken:void 0,appId:void 0,baseUrl:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.appId||(t.appId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.apiToken||(t.apiToken=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.baseUrl||(t.baseUrl=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"HYPR IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"HYPR App ID",inputType:"client_id",name:"appId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.appId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.appId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.appId.validations.required"),type:"text",maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-app-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"HYPR Base URL",inputType:"url",name:"baseUrl",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.baseUrl.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.baseUrl.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.baseUrl.validations.required"),type:"text",maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-base-url"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"HYPR API Token",inputType:"password",className:"addon-field-wrapper",name:"apiToken",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.apiToken.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.apiToken.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.hypr.apiToken.validations.required"),type:"password",hidePassword:s("common:hide"),showPassword:s("common:show"),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-api-token"),width:13}))):null};function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function hr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==gr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}vr.defaultProps={"data-componentid":"hypr-idp-create-wizard-page"};var Sr=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],c=e["data-componentid"],s=(0,S.I0)(),d=(0,f.$)().t,v=(0,u.fQ)().getLink,g=yr((0,u.IK)(),3),y=g[0],E=g[1],O=g[2],I=yr((0,m.useState)(o),2),A=I[0],w=I[1],T=yr((0,m.useState)(0),2),L=T[0],N=T[1],R=yr((0,m.useState)(0),2),Z=R[0],P=R[1],k=yr((0,m.useState)(!1),2),U=k[0],x=k[1],M=yr((0,m.useState)(!1),2),F=M[0],D=M[1],W=Se.lD.getInstance();(0,m.useEffect)((function(){w(L+1)}),[L]);var _,j,Q=function(){t()},B=function(e){x(!0),(0,Jt.Sf)(e).then((function(e){if(W.publish("connections-finish-adding-connection",{type:c}),s((0,h.V_)({description:d("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:d("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):D(!0)})).finally((function(){x(!1)}))};return m.createElement(m.Fragment,null,F&&m.createElement(oa.P,{actionLabel:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){D(!1),Q()},header:d("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:F}),m.createElement(Se.wv,{open:!F,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:Q,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().hypr,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:v("develop.connections.newConnection.hypr.learnMore")},d("common:learnMore")))))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},y&&O,m.createElement(vr,{onSubmit:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);t.name=e.name.toString(),t.templateId=r.templateId,t.description=r.description,t.federatedAuthenticators.authenticators[0].properties=[{key:"appId",value:e.appId.toString()},{key:"apiToken",value:e.apiToken.toString()},{key:"baseUrl",value:e.baseUrl.toString()}],t.image="assets/images/logos/hypr.svg",B(t)},triggerSubmission:function(e){_=e},triggerPrevious:function(e){j=e},changePageNumber:function(e){return N(e)},setTotalPage:function(e){return P(e)},template:r})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:Q,"data-testid":"".concat(l,"-modal-cancel-button")},d("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},A!==Z?m.createElement(u.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},d("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-finish-button"),loading:U,disabled:U},d("console:develop.features.authenticationProvider.wizards.buttons.finish"))),A>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){j()},"data-testid":"".concat(l,"-modal-previous-button")},d("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===A)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},d("console:develop.features.authenticationProvider.templates.microsoft.wizardHelp.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}()))};function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Sr.defaultProps={currentStep:1,"data-componentid":"hypr-idp","data-testid":"hypr-idp-create-wizard"};var Ir=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,f.$)().t,u=Cr((0,m.useState)({}),2),d=u[0],p=u[1],v=Cr((0,m.useState)(void 0),2),g=v[0],b=v[1];(0,m.useEffect)((function(){h()}),[]);var h=function(){b(!0),(0,Jt.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){b(!1)}))};return void 0!==g&&!1===g?m.createElement(qi.en,{id:"microsoft-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"Microsoft IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Microsoft Client ID",inputType:"client_id",name:"clientId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Microsoft Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientSecret.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientSecret.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientSecret.validations.required"),type:"password",hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Tr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Ar(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ar(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ir.defaultProps={"data-testid":"microsoft-idp-create-wizard-page"};var Rr=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-testid"],c=e["data-componentid"],s=(0,S.I0)(),d=(0,f.$)().t,v=(0,u.fQ)().getLink,g=Lr((0,u.IK)(),3),y=g[0],E=g[1],O=g[2],I=(0,S.v9)((function(e){return e.config})),A=Lr((0,m.useState)(o),2),w=A[0],T=A[1],L=Lr((0,m.useState)(0),2),N=L[0],R=L[1],P=Lr((0,m.useState)(0),2),k=P[0],U=P[1],x=Lr((0,m.useState)(!1),2),M=x[0],F=x[1],D=Lr((0,m.useState)(!1),2),W=D[0],_=D[1],j=Se.lD.getInstance();(0,m.useEffect)((function(){T(N+1)}),[N]);var Q,B,V=function(e){var t,o,i=null==e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],a=(0,Z.Z)(i,ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===ui.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&a&&delete i[ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=r.description,function(e){F(!0),(0,Jt.Sf)(e).then((function(e){if(j.publish("connections-finish-adding-connection",{type:c}),s((0,h.V_)({description:d("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:d("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):E({description:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:d("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):_(!0)})).finally((function(){F(!1)}))}(e)},G=function(){t()};return m.createElement(m.Fragment,null,W&&m.createElement(oa.P,{actionLabel:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){_(!1),G()},header:d("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:d("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:W}),m.createElement(Se.wv,{open:!W,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:G,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().microsoft,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:v("develop.connections.newConnection.microsoft.learnMore")},d("common:learnMore")))))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},y&&O,m.createElement(Ir,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.templateId=r.templateId,n.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:e.clientId.toString()},{key:"ClientSecret",value:e.clientSecret.toString()},{key:"callbackUrl",value:(null==I||null===(t=I.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth"},{key:"Scopes",value:ui.bQ.MICROSOFT_AUTHENTICATOR_REQUESTED_SCOPES.join(" ")},{key:"commonAuthQueryParams",value:""},{key:"UsePrimaryEmail",value:"true"},{key:"OAuth2AuthzEPUrl",value:ui.bQ.MICROSOFT_AUTHENTICATION_ENDPOINT_URL},{key:"OAuth2TokenEPUrl",value:ui.bQ.MICROSOFT_TOKEN_ENDPOINT_URL}],n.image="assets/images/logos/microsoft.svg",V(n)},triggerSubmission:function(e){Q=e},triggerPrevious:function(e){B=e},changePageNumber:function(e){return R(e)},setTotalPage:function(e){return U(e)},template:r})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:G,"data-testid":"".concat(l,"-modal-cancel-button")},d("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},w!==k?m.createElement(u.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:M,disabled:M},d("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){Q()},"data-testid":"".concat(l,"-modal-finish-button"),loading:M,disabled:M},d("console:develop.features.authenticationProvider.wizards.buttons.finish"))),w>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){B()},"data-testid":"".concat(l,"-modal-previous-button")},d("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===w)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},d("console:develop.features.authenticationProvider.templates.microsoft.wizardHelp.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}()))};Rr.defaultProps={currentStep:1,"data-componentid":"microsoft-idp","data-testid":"microsoft-idp-create-wizard"};var Zr=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,f.$)().t;return m.createElement(qi.en,{id:"oidc-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-testid":c},m.createElement(qi.k0,{validate:function(e){var t={};return e.name||(t.name="This is a required field."),e.clientId||(t.clientId="This is a required field."),e.clientSecret||(t.clientSecret="This is a required field."),e.authorizationEndpointUrl||(t.authorizationEndpointUrl="This is a required field."),e.tokenEndpointUrl||(t.tokenEndpointUrl="This is a required field."),t}},m.createElement(qi.gN.Input,{ariaLabel:"name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),required:!0,maxLength:50,minLength:3,"data-testid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"clientId",inputType:"identifier",name:"clientId",label:"Client ID",required:!0,autoComplete:""+Math.random(),maxLength:100,minLength:3,validation:function(e){return function(e){if(!new RegExp(".*").test(e))return"Please enter a valid input."}(e)},"data-testid":"".concat(c,"-idp-client-id"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"clientSecret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:"Client secret",required:!0,hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:100,minLength:3,type:"password","data-testid":"".concat(c,"-idp-client-secret"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"authorizationEndpointUrl",inputType:"url",name:"authorizationEndpointUrl",label:"Authorization endpoint URL",required:!0,placeholder:"https://ENTERPRISE_DOMAIN/authorize",autoComplete:""+Math.random(),maxLength:2048,minLength:3,"data-testid":"".concat(c,"-idp-authorization-endpoint-url"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"tokenEndpointUrl",inputType:"url",name:"tokenEndpointUrl",label:"Token endpoint URL",required:!0,placeholder:"https://ENTERPRISE_DOMAIN/token",autoComplete:""+Math.random(),maxLength:2048,minLength:3,"data-testid":"".concat(c,"-idp-token-endpoint-url"),width:13})))};function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Zr.defaultProps={"data-testid":"idp-edit-idp-create-wizard"};var Ur=function(e){var t,n,o=e.onWizardClose,i=e.currentStep,a=e.onIDPCreate,r=e.title,l=e.subTitle,c=e.template,s=e["data-testid"],d=e["data-componentid"],v=Pr((0,m.useState)(i),2),g=v[0],y=v[1],E=Pr((0,m.useState)(void 0),2)[1],O=Pr((0,m.useState)(void 0),2)[1],I=Pr((0,m.useState)(!1),2),A=I[0],w=I[1],T=(0,S.I0)(),L=(0,f.$)().t,N=(0,S.v9)((function(e){return e.identityProvider.meta.authenticators})),R=Pr((0,u.IK)(),3),Z=R[0],P=R[1],k=R[2],U=Pr((0,m.useState)(0),2),x=U[0],F=U[1],D=Pr((0,m.useState)(0),2),W=D[0],_=D[1],j=Se.lD.getInstance(),Q=function(e){!function(e){w(!0),(0,Jt.Sf)(e).then((function(e){if(j.publish("connections-finish-adding-connection",{type:d}),T((0,h.V_)({description:L("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:L("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))a();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);a(n)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?P({description:L("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:L("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):P({description:L("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:L("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")})})).finally((function(){w(!1)}))}(e)},B=function(){O(void 0),E(void 0),o()};(0,m.useEffect)((function(){var e,t,n;null!=N&&N.find((function(e){var t,n;return e.authenticatorId===(null==c||null===(t=c.idp)||void 0===t||null===(n=t.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)}))&&(n=null==c||null===(e=c.idp)||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId,(0,Jt.DJ)(n).then((function(e){E(e)})).catch((function(e){(0,Ki.Rw)(e)})))}),[N]),(0,m.useEffect)((function(){y(x+1)}),[x]);return m.createElement(Se.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:B,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(s,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"page-header-inner with-image","data-testid":"".concat(s,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().enterprise,size:"x50",transparent:!0,spaced:"right","data-testid":"".concat(s,"-image")}),m.createElement(M.Z,{size:"small",textAlign:"left",className:"m-0","data-testid":"".concat(s,"-text-wrapper")},m.createElement("span",{"data-testid":"".concat(s,"-title")},r&&r),l&&m.createElement(M.Z.Subheader,{"data-testid":"".concat(s,"-sub-title")},l)))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(s,"-modal-content-2")},Z&&k,m.createElement(Zr,{onSubmit:function(e){var t,n,o,i,a,r=c.idp;r.name=null==e||null===(t=e.name)||void 0===t?void 0:t.toString(),r.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null==e||null===(n=e.clientId)||void 0===n?void 0:n.toString()},{key:"ClientSecret",value:null==e||null===(o=e.clientSecret)||void 0===o?void 0:o.toString()},{key:"OAuth2AuthzEPUrl",value:null==e||null===(i=e.authorizationEndpointUrl)||void 0===i?void 0:i.toString()},{key:"OAuth2TokenEPUrl",value:null==e||null===(a=e.tokenEndpointUrl)||void 0===a?void 0:a.toString()},{key:"callbackUrl",value:Se.h.getState().config.deployment.serverHost+"/commonauth"}],r.image="assets/images/logos/enterprise.svg",Q(r)},triggerSubmission:function(e){t=e},triggerPrevious:function(e){n=e},changePageNumber:function(e){return F(e)},setTotalPage:function(e){return _(e)},template:c})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(s,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:B,"data-testid":"".concat(s,"-modal-cancel-button")},L("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},g!==W?m.createElement(u.KM,{floated:"right",onClick:function(){t()},loading:A,disabled:A,"data-testid":"".concat(s,"-modal-finish-button")},L("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){t()},loading:A,disabled:A,"data-testid":"".concat(s,"-modal-finish-button")},L("console:develop.features.authenticationProvider.wizards.buttons.finish"))),g>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){n()},"data-testid":"".concat(s,"-modal-previous-button")},L("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==c||null===(e=c.content)||void 0===e||!e.wizardHelp||0===g)return null;var t=(null==c?void 0:c.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},L("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}())};function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ur.defaultProps={currentStep:1,"data-componentid":"oidc-idp","data-testid":"idp-edit-idp-create-wizard"};var Fr=function(e){var t,n=e.triggerSubmission,o=e.triggerPrevious,i=e.changePageNumber,a=e.template,r=e.setTotalPage,l=e.onSubmit,c=e["data-componentid"],s=(0,f.$)().t,u=xr((0,m.useState)({}),2),d=u[0],p=u[1],v=xr((0,m.useState)(void 0),2),g=v[0],b=v[1];(0,m.useEffect)((function(){h()}),[]);var h=function(){b(!0),(0,Jt.SN)(null,null,null).then((function(e){p(e)})).catch((function(e){(0,Ki.Df)(e)})).finally((function(){b(!1)}))};return!1===g?m.createElement(qi.en,{id:"organization-enterprise-authenticator-wizard-form",initialValues:{name:null==a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return o(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return r(e)},"data-componenentid":c},m.createElement(qi.k0,{validate:function(e){var t={description:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},m.createElement(qi.gN.Input,{ariaLabel:"Organization IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null==d?void 0:d.count)>0&&(null==d||d.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-componentid":"".concat(c,"-idp-name"),width:13}),m.createElement(qi.gN.Input,{ariaLabel:"Organization IDP Description",inputType:"description",name:"description",label:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),message:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),type:"text",maxLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MAX_LENGTH,minLength:ui.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MIN_LENGTH,"data-componentid":"".concat(c,"-idp-description"),width:30}))):null};function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Dr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Fr.defaultProps={"data-componentid":"organization-enterprise-idp-create-wizard-content"};var Br=function(e){var t=e.onWizardClose,n=e.onIDPCreate,o=e.currentStep,i=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],c=(0,S.I0)(),s=(0,f.$)().t,d=jr((0,u.IK)(),3),v=d[0],g=d[1],y=d[2],E=jr((0,m.useState)(o),2),O=E[0],I=E[1],A=jr((0,m.useState)(0),2),w=A[0],T=A[1],L=jr((0,m.useState)(0),2),N=L[0],R=L[1],P=jr((0,m.useState)(!1),2),k=P[0],U=P[1],x=jr((0,m.useState)(!1),2),M=x[0],F=x[1],D=Se.lD.getInstance();(0,m.useEffect)((function(){I(w+1)}),[w]);var W,_,j=function(e){var t,o,i=null==e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],a=(0,Z.Z)(i,ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===ui.bQ.PROVISIONING_CONNECTOR_GOOGLE;i&&a&&delete i[ui.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],delete e.certificate,delete e.claims,delete e.provisioning,e.description=e.description||r.description,function(e){U(!0),(0,Jt.Sf)(e).then((function(e){if(D.publish("connections-finish-adding-connection",{type:l}),c((0,h.V_)({description:s("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:s("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,o=na.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?g({description:s("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:s("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):g({description:s("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:s("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):F(!0)})).finally((function(){U(!1)}))}(e)},Q=function(){t()};return m.createElement(m.Fragment,null,M&&m.createElement(Se.Pj,{actionLabel:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){F(!1),Q()},header:s("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:s("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:M}),m.createElement(Se.wv,{open:!M,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:Q,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(l,"-modal")},m.createElement(Se.wv.MainPanel,null,m.createElement(Se.wv.Header,{className:"wizard-header","data-testid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().organizationSSO,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(l,"-image")}),m.createElement("div",{className:"ml-1"},i,a&&m.createElement(u.X6,{as:"h6"},a)))),m.createElement(Se.wv.Content,{className:"content-container","data-testid":"".concat(l,"-modal-content")},v&&y,m.createElement(Fr,{onSubmit:function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.idp);n.name=e.name.toString(),n.description=null===(t=e.description)||void 0===t?void 0:t.toString(),n.templateId=r.templateId,n.image="assets/images/logos/organization-sso.svg",j(n)},triggerSubmission:function(e){W=e},triggerPrevious:function(e){_=e},changePageNumber:function(e){return T(e)},setTotalPage:function(e){return R(e)},template:r})),m.createElement(Se.wv.Actions,{"data-testid":"".concat(l,"-modal-actions")},m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:Q,"data-testid":"".concat(l,"-modal-cancel-button")},s("common:cancel"))),m.createElement(C.Z.Column,{mobile:8,tablet:8,computer:8},O!==N?m.createElement(u.KM,{floated:"right",onClick:function(){W()},"data-testid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},s("console:develop.features.authenticationProvider.wizards.buttons.next")):m.createElement(m.Fragment,null,m.createElement(u.KM,{floated:"right",onClick:function(){W()},"data-testid":"".concat(l,"-modal-finish-button"),loading:k,disabled:k},s("console:develop.features.authenticationProvider.wizards.buttons.finish"))),O>1&&m.createElement(u.Qj,{floated:"right",onClick:function(){_()},"data-testid":"".concat(l,"-modal-previous-button")},s("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null==r||null===(e=r.content)||void 0===e||!e.wizardHelp||0===O)return null;var t=(null==r?void 0:r.content).wizardHelp;return m.createElement(Se.wv.SidePanel,null,m.createElement(Se.wv.Header,{className:"wizard-header help-panel-header muted"},m.createElement("div",{className:"help-panel-header-text"},s("console:develop.features.authenticationProvider.templates.facebook.wizardHelp.heading"))),m.createElement(Se.wv.Content,null,m.createElement(m.Suspense,{fallback:m.createElement(Ji.p,null)},m.createElement(t,null))))}()))};function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Br.defaultProps={currentStep:1,"data-componentid":"organization-enterprise-idp"};var Hr=function(e){var t=e.onWizardClose,n=e.currentStep,o=e.onIDPCreate,i=e.title,a=e.subTitle,r=e.template,l=e["data-componentid"],c=new u.tN,d=(0,m.useRef)(null),v=(0,S.v9)((function(e){return e.config})),g=Vr((0,m.useState)(n),2),y=g[0],E=g[1],C=Vr((0,u.IK)(),3),I=C[0],A=C[1],w=C[2],T=Vr((0,m.useState)(null),2),L=T[0],N=T[1],R=Vr((0,m.useState)(""),2),Z=R[0],P=R[1],k=Vr((0,m.useState)(null),2),U=k[0],x=k[1],M=Vr((0,m.useState)(!1),2),F=M[0],D=M[1],W=Vr((0,m.useState)(fa.ny.JWKS),2),_=W[0],j=W[1],B=Vr((0,m.useState)(null),2),V=B[0],G=B[1],H=Vr((0,m.useState)(!1),2),z=H[0],X=H[1],Y=Vr((0,m.useState)(!0),2),J=Y[0],q=Y[1],K=Vr((0,m.useState)(!0),2),$=K[0],ee=K[1],te=Vr((0,m.useState)([]),2),ne=te[0],oe=te[1],ie=Vr((0,m.useState)(!1),2),ae=ie[0],re=ie[1],le=(0,S.I0)(),ce=(0,f.$)().t,se=(0,u.fQ)().getLink,ue=Se.lD.getInstance(),de=[{label:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.jwksUrl.optionLabel"),value:fa.ny.JWKS},{label:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.pem.optionLabel"),value:fa.ny.PEM}],pe=(0,Jt.af)(),me=pe.data,fe=pe.isLoading,ve=pe.error;(0,m.useEffect)((function(){var e;(null==me||null===(e=me.identityProviders)||void 0===e?void 0:e.length)>0&&oe(me.identityProviders)}),[me]),(0,m.useEffect)((function(){ve&&(0,Ki.Df)(ve)}),[ve]);var ge=function(){return[{content:be(),icon:(0,Ct.hz)().general,name:fa.Fv.GENERAL_DETAILS,title:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.steps.general")},{content:he(),icon:(0,Ct.hz)().general,name:fa.Fv.CERTIFICATES,title:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.steps.certificate")}]},be=function(){return m.createElement(qi.k0,null,m.createElement(qi.gN.Input,{"data-componentid":"".concat(l,"-form-wizard-name"),"aria-label":"name",ariaLabel:"name",name:"name",inputType:"resource_name",placeholder:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.name.placeholder"),label:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.name.label"),maxLength:ui.s0.IDP_NAME_MAX_LENGTH,minLength:ui.s0.IDP_NAME_MIN_LENGTH,required:!0,width:15,format:function(e){return e.trimStart()},validation:function(e){var t,n;return n=e,(null==ne?void 0:ne.some((function(e){return e.name===n})))&&(t=ce("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")),da.I.isValidResourceName(e)||(t=ce("console:develop.features.authenticationProvider.templates.enterprise.validation.invalidName",{idpName:e})),q(void 0!==t),t}}),m.createElement(qi.gN.Input,{"data-componentid":"".concat(l,"-form-wizard-issuer"),ariaLabel:"issuer","aria-label":"issuer",inputType:"resource_name",name:"issuer",placeholder:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.issuer.placeholder"),label:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.issuer.label"),hint:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.issuer.hint"),maxLength:ui.s0.IDP_NAME_MAX_LENGTH,minLength:ui.s0.IDP_NAME_MIN_LENGTH,required:!0,width:15,format:function(e){return e.trimStart()},validation:function(e){var t;return da.I.resourceName(e)||(t=ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.issuer.validation.notValid",{issuer:e})),q(void 0!==t),t}}),m.createElement(qi.gN.Input,{"data-componentid":"".concat(l,"-form-wizard-alias"),ariaLabel:"alias","aria-label":"alias",inputType:"resource_name",name:"alias",placeholder:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.alias.placeholder"),label:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.alias.label"),hint:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.alias.hint",{productName:v.ui.productName}),maxLength:ui.s0.IDP_NAME_MAX_LENGTH,minLength:ui.s0.IDP_NAME_MIN_LENGTH,width:15,format:function(e){return e.trimStart()},validation:function(e){var t;return da.I.resourceName(e)||(t=ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.alias.validation.notValid",{alias:e})),q(void 0!==t),t}}))},he=function(){return m.createElement(qi.k0,null,m.createElement(To.Z,{container:!0,rowSpacing:4},m.createElement(To.Z,{className:"switcher-grid",container:!0,rowSpacing:2},m.createElement(To.Z,{xs:12},m.createElement(Gn.Z,{severity:"info"},ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.certificateType.requiredCertificate"))),m.createElement(To.Z,{md:12,lg:8},m.createElement("div",{className:"required-certificate-label"},ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.certificateType.label")),m.createElement(u.T5,{compact:!0,defaultOptionValue:de[0].value,selectedValue:_,onChange:function(e){var t=e.value;switch(t){case fa.ny.JWKS:ee(null===L);break;case fa.ny.PEM:ee(!F)}j(t)},options:de}))),m.createElement(To.Z,{xs:12},_===fa.ny.JWKS&&m.createElement(qi.gN.Input,{ariaLabel:"JWKS endpoint URL",inputType:"url",name:"jwks_endpoint",label:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.jwksUrl.label"),required:!0,maxLength:ui.s0.JWKS_URL_MAX_LENGTH,minLength:ui.s0.JWKS_URL_MIN_LENGTH,width:15,initialValue:"",placeholder:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.jwksUrl.placeholder"),"data-componentid":"".concat(l,"-form-wizard-oidc-jwks-endpoint-url"),hint:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.jwksUrl.hint"),validation:function(e){var t;return da.I.url(e)||(t=ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.jwksUrl.validation.notValid")),t||(t=function(e){if(s.URLUtils.isLoopBackCall(e)&&null!==Ye.commonConfig&&void 0!==Ye.commonConfig&&Ye.commonConfig.blockLoopBackCalls)return ce("console:develop.features.idp.forms.common.internetResolvableErrorMessage")}(e)),t||""===e?(N(null),!$&&ee(!0)):(N(e),$&&ee(!1)),t}}),_===fa.ny.PEM&&m.createElement(m.Fragment,null,m.createElement(u.GB,{key:2,file:U,pastedContent:V,fileStrategy:c,normalizeStateOnRemoveOperations:!0,onChange:function(e){var t,n;G(e.pastedContent),x(e.file),P(null===(t=e.serialized)||void 0===t?void 0:t.pem),D(e.valid),ee(((null===(n=e.pastedContent)||void 0===n?void 0:n.length)>0||e.file)&&!e.serialized||!e.valid)},uploadButtonText:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.pem.uploadCertificateButtonLabel"),dropzoneText:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.pem.dropzoneText"),pasteAreaPlaceholderText:ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.pem.pasteAreaPlaceholderText"),icon:(0,Se._5)().uploadPlaceholder,placeholderIcon:m.createElement(O.Z,{name:"file alternate",size:"huge"}),"data-componentid":"".concat(l,"-form-wizard-pem-certificate")}),m.createElement(u.kW,null,ce("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.pem.hint"))))))};return m.createElement(m.Fragment,null,ae&&m.createElement(Se.Pj,{actionLabel:ce("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){re(!1),t()},header:ce("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:ce("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:ce("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:ae}),m.createElement(Q.Z,{open:!ae,className:"wizard trusted-token-issuer-modal identity-provider-create-wizard",dimmer:"blurring",onClose:t,size:"small",closeOnDimmerClick:!1,closeOnEscape:!0,"data-componentid":"".concat(l,"-modal")},m.createElement(Q.Z.Header,{className:"wizard-header","data-componentid":"".concat(l,"-modal-header")},m.createElement("div",{className:"display-flex"},m.createElement(u.dn,{icon:(0,Ct.nI)().trustedTokenIssuer,size:"x30",transparent:!0,spaced:"right","data-componentid":"".concat(l,"-image")}),m.createElement("div",null,i,a&&m.createElement(u.X6,{as:"h6"},a,m.createElement(u.eb,{link:se("develop.connections.newConnection.enterprise.saml.learnMore")},ce("common:learnMore")))))),m.createElement(Q.Z.Content,{className:"steps-container","data-componentid":"".concat(l,"-modal-content-1")},m.createElement(u.Rg.Group,{current:y},ge().map((function(e,t){return m.createElement(u.Rg.Step,{active:!0,key:t,icon:e.icon,title:e.title})})))),m.createElement(Q.Z.Content,{className:"content-container","data-componentid":"".concat(l,"-modal-content-2")},I&&w,fe?m.createElement(u.pO,null):m.createElement(qi.w,{ref:d,initialValues:{NameIDType:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",RequestMethod:"post",name:""},onSubmit:function(e){X(!0);var t=function(e){var t,n,o,i=r.idp;return i.templateId=r.templateId,i.description=r.description,i.name=null==e||null===(t=e.name)||void 0===t?void 0:t.toString(),i.idpIssuerName=null==e||null===(n=e.issuer)||void 0===n?void 0:n.toString(),i.alias=null==e||null===(o=e.alias)||void 0===o?void 0:o.toString(),i.image="assets/images/icons/trusted-token-issuer.svg",i.certificate.jwksUri=null!=L?L:"",i.certificate.certificates=[Z?btoa(Z):""],i}(e);(0,Jt.Sf)(t).then((function(e){if(ue.publish("connections-finish-adding-connection",{type:l}),le((0,h.V_)({description:ce("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:b.QU.SUCCESS,message:ce("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,p.Z)(e.headers.location))o();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);o(n)}})).catch((function(e){var t,n,o,i,a,r=Ye.identityProviderConfig.useNewConnectionsView?ui.bQ.ERROR_CREATE_LIMIT_REACHED:ui.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.code)!==r.getErrorCode()?null!=e&&null!==(i=e.response)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.description?A({description:ce("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:ce("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):A({description:ce("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:b.QU.ERROR,message:ce("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):re(!0)})).finally((function(){X(!1)}))},uncontrolledForm:!0,pageChanged:function(e){return E(e)},"data-componentid":l},ge().map((function(e){return e.content})))),m.createElement(Q.Z.Actions,{"data-componentid":"".concat(l,"-modal-actions")},m.createElement(To.Z,{container:!0},m.createElement(To.Z,{xs:6,container:!0,justifyContent:"flex-start"},m.createElement(u.Qj,{floated:"left",onClick:t,"data-componentid":"".concat(l,"-modal-cancel-button")},ce("common:cancel"))),m.createElement(To.Z,{xs:6},y<ge().length-1&&m.createElement(u.KM,{disabled:J,floated:"right",onClick:function(){d.current.gotoNextPage()},"data-componentid":"".concat(l,"-modal-next-button")},ce("console:develop.features.authenticationProvider.wizards.buttons.next"),m.createElement(O.Z,{name:"arrow right"})),y===ge().length-1&&m.createElement(u.KM,{disabled:$||z,type:"submit",floated:"right",onClick:function(){d.current.gotoNextPage()},"data-componentid":"".concat(l,"-modal-finish-button"),loading:z},ce("console:develop.features.authenticationProvider.wizards.buttons.finish")),y>0&&m.createElement(u.Qj,{type:"submit",floated:"right",onClick:function(){return d.current.gotoPreviousPage()},"data-componentid":"".concat(l,"-modal-previous-button")},m.createElement(O.Z,{name:"arrow left"}),ce("console:develop.features.authenticationProvider.wizards.buttons.previous")))))))};Hr.defaultProps={currentStep:0,"data-componentid":"trusted-token-issuer"};var zr=n(18469);function Xr(e){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(e)}var Yr=["open","onWizardClose","type","selectedTemplate"];function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jr.apply(this,arguments)}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Xr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Xr(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function nl(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ol=function(e){var t,n=e.open,o=e.onWizardClose,i=e.type,a=e.selectedTemplate,r=nl(e,Yr),l=(0,S.v9)((function(e){return e.config})),c=el((0,m.useState)(void 0),2),s=c[0],u=c[1],d=el((0,m.useState)(n),2),v=d[0],g=d[1],b=el((0,m.useState)(void 0),2),h=b[0],y=b[1],E=el((0,m.useState)(void 0),2),C=E[0],O=E[1],I=(0,f.$)().t;(0,m.useEffect)((function(){i&&A(i)}),[i]),(0,m.useEffect)((function(){var e;h&&(w((null===(e=h.idp)||void 0===e?void 0:e.name)||h.name),g(!0))}),[h]),(0,m.useEffect)((function(){var e;v&&s&&h&&(null!==(e=h.idp)&&void 0!==e&&e.name?O(Kr(Kr({},h),{},{idp:Kr(Kr({},h.idp),{},{name:T(h.idp.name,s)})})):O(Kr(Kr({},h),{},{name:T(null==h?void 0:h.name,s)})),g(!0))}),[s,h,v]);var A=function(e){(l.ui.identityProviderTemplateLoadingStrategy?l.ui.identityProviderTemplateLoadingStrategy===fa.w7.REMOTE:ui.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===fa.w7.REMOTE)?(0,Jt.jY)(e).then((function(e){e.disabled||y(e)})).catch((function(e){(0,Ki.Em)(e)})):zr.b.getIdentityProviderTemplate(e).then((function(e){void 0===e||e.disabled?a&&!a.disabled&&y(a):y(e)})).catch((function(e){(0,Ki.Em)(e)}))},w=function(e){(0,Jt.SN)(null,null,"name sw "+e).then((function(e){var t;u(null!=e&&e.totalResults?null==e||null===(t=e.identityProviders)||void 0===t?void 0:t.map((function(e){return e.name})):[])}))},T=function(e,t){for(var n=e,o=2;null!=t&&t.includes(n);o++)n=n.split(" ").length>1?e+" "+o:e+o;return n};switch(i){case ui.bQ.IDP_TEMPLATE_IDS.FACEBOOK:return v&&!(0,p.Z)(C)?m.createElement(qa,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.GOOGLE:return v&&!(0,p.Z)(C)?m.createElement(pr,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.GITHUB:return v&&!(0,p.Z)(C)?m.createElement(rr,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.MICROSOFT:return v&&!(0,p.Z)(C)?m.createElement(Rr,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.APPLE:return v&&!(0,p.Z)(C)?m.createElement(sa,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.OIDC:return v&&!(0,p.Z)(C)?m.createElement(Ur,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.ORGANIZATION_ENTERPRISE_IDP:return v&&!(0,p.Z)(C)?m.createElement(Br,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.EXPERT_MODE:return v&&!(0,p.Z)(C)?m.createElement(Qa,Jr({title:"Expert Mode"===(null==C?void 0:C.name)?"Custom Connector":null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.HYPR:return v&&!(0,p.Z)(C)?m.createElement(Sr,Jr({title:null==C?void 0:C.name,subTitle:null==C?void 0:C.description,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;case ui.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER:return v&&!(0,p.Z)(C)?m.createElement(Hr,Jr({title:I("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.addWizard.title"),subTitle:I("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.addWizard.subtitle"),onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null;default:return v&&!(0,p.Z)(C)?null!==(t=yt.identityProviderConfig.createIdentityProvider.getOverriddenCreateWizard(i,Kr({onIDPCreate:r.onIDPCreate,onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},subTitle:null==C?void 0:C.description,template:C,title:null==C?void 0:C.name},r)))&&void 0!==t?t:m.createElement(ba,Jr({title:I("console:develop.features.authenticationProvider.templates.enterprise.addWizard.title"),subTitle:I("console:develop.features.authenticationProvider.templates.enterprise.addWizard.subtitle"),onWizardClose:function(){O(void 0),y(void 0),g(!1),o()},template:C,"data-componentid":null==h?void 0:h.templateId},r)):null}};ol.defaultProps={"data-testid":"authenticator-create-wizard-factory"};var il=["open","authenticatorCategoryTemplate","authenticatorCategoryDisplayName","onClose","data-componentid"];function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},al.apply(this,arguments)}function rl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function cl(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var sl=function(e){var t=e.open,n=e.authenticatorCategoryTemplate,o=e.authenticatorCategoryDisplayName,i=e.onClose,a=e["data-componentid"],r=cl(e,il),l=Ee().refetchAuthenticators,c=rl((0,m.useState)(t),2),s=c[0],d=c[1],p=rl((0,m.useState)(!1),2),g=p[0],b=p[1],h=(0,f.$)().t;(0,m.useEffect)((function(){d(t)}),[open]);return m.createElement(m.Fragment,null,m.createElement(u.cV,al({open:s,type:"info",onClose:function(e,t){i(e,t)},primaryAction:h("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:h("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(e){i(e,null)},onPrimaryActionClick:function(){b(!0),d(!1)},"data-componentid":a,closeOnDimmerClick:!1},r),m.createElement(u.cV.Header,null,h("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:o})),m.createElement(u.cV.Message,{attached:!0,info:!0},h("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:o})),m.createElement(u.cV.Content,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:o}},"You do not have an active Social Connection configured with",m.createElement(u.EK,null," ",o,"Authenticator"),". Click on the ",m.createElement("strong",null,"Configure")," button to register a new",m.createElement(u.EK,null,o," Social Connection")," or navigate to the ",m.createElement("a",{onClick:function(){Yi.m.push(Xi.$.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually."))),g&&function(){if(n)return m.createElement(ol,{open:g,type:n,selectedTemplate:null,onIDPCreate:function(){l()},onWizardClose:function(){b(!1),i(null,null)}})}())};sl.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const ul=sl;function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ml=function(e){var t=e.selectedSequence,n=e.onSelect,o=Ee().authenticators,i=dl((0,m.useState)([]),2),a=i[0],r=i[1],l=dl((0,m.useState)(void 0),2),c=l[0],s=l[1],u=dl((0,m.useState)(void 0),2),f=u[0],v=u[1],g=dl((0,m.useState)(!1),2),b=g[0],h=g[1],y=dl((0,m.useState)(!1),2),E=y[0],S=y[1];(0,m.useEffect)((function(){var e;if(t){var i=null,a=null;"GoogleSocialLoginSequence"===t.id?(i=Ke.b.GOOGLE_OIDC_AUTHENTICATOR_ID,a=Ke.b.GOOGLE_OIDC_AUTHENTICATOR_NAME,v(Ke.b.IDP_TEMPLATE_IDS.GOOGLE),s(Ke.b.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME)):"GithubSocialLoginSequence"===t.id?(i=Ke.b.GITHUB_AUTHENTICATOR_ID,a=Ke.b.GITHUB_AUTHENTICATOR_NAME,v(Ke.b.IDP_TEMPLATE_IDS.GITHUB),s(Ke.b.GITHUB_AUTHENTICATOR_DISPLAY_NAME)):"FacebookSocialLoginSequence"===t.id?(i=Ke.b.FACEBOOK_AUTHENTICATOR_ID,a=Ke.b.FACEBOOK_AUTHENTICATOR_NAME,v(Ke.b.IDP_TEMPLATE_IDS.FACEBOOK),s(Ke.b.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME)):"AppleSocialLoginSequence"===t.id&&(i=Ke.b.APPLE_AUTHENTICATOR_ID,a=Ke.b.APPLE_AUTHENTICATOR_NAME,v(Ke.b.IDP_TEMPLATE_IDS.APPLE),s(Ke.b.APPLE_AUTHENTICATOR_DISPLAY_NAME));var l=null==o||null===(e=o.social)||void 0===e?void 0:e.filter((function(e){var t;return(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===i}));r(l),(0,p.Z)(l)?S(!0):l.length>1?h(!0):1!==l.length||n(C(t.sequence,a,l[0].idp))}}),[o,t]);var C=function(e,t,n){var o=(0,d.Z)(e);return o.steps[0].options.map((function(e){e.authenticator===t&&(e.idp=n)})),o};return b?m.createElement(zi,{open:b,authenticators:a,authenticatorCategoryDisplayName:c,onSelect:function(e){n(C(t.sequence,e.defaultAuthenticator.name,e.idp))},onClose:function(){return h(!1)}}):E?m.createElement(ul,{open:E,authenticatorCategoryTemplate:f,authenticatorCategoryDisplayName:c,onClose:function(){v(void 0),S(!1)}}):null};ml.defaultProps={"data-componentid":"predefined-social-flow-handler-modal-factory"};const fl=ml,vl=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}'),gl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),bl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),hl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),yl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),El=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Sl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),Cl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),Ol=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),Il=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),Al=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}');var wl,Tl;!function(e){e.Basic="BasicLoginSequences",e.MFA="MFALoginSequences",e.Passwordless="PasswordlessLoginSequences",e.Social="SocialLoginSequences"}(wl||(wl={})),function(e){e.Apple="<APPLE_IDP>",e.Facebook="<FACEBOOK_IDP>",e.Google="<GOOGLE_IDP>",e.Microsoft="Microsoft",e.GitHub="<GITHUB_IDP>"}(Tl||(Tl={}));var Ll=n(24959),Nl=n.n(Ll),Rl={};Rl.styleTagTransform=sn(),Rl.setAttributes=an(),Rl.insert=nn().bind(null,"head"),Rl.domAPI=en(),Rl.insertStyleElement=ln();Kt()(Nl(),Rl);Nl()&&Nl().locals&&Nl().locals;function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){Ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ul(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Zl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Zl(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e){return function(e){if(Array.isArray(e))return Dl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||Fl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fl(e,t){if(e){if("string"==typeof e)return Dl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dl(e,t):void 0}}function Dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Wl.apply(this,arguments)}var _l=function(e){var t=Object.assign({},e);return m.createElement("svg",Wl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),m.createElement("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"}))},jl=function(e){var t=Object.assign({},e);return m.createElement("svg",Wl({viewBox:"0 0 24 24"},t),m.createElement("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}))},Ql=function(e){var t=Object.assign({},e);return m.createElement("svg",Wl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),m.createElement("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"}))},Bl=function(e){var t=Object.assign({},e);return m.createElement("svg",Wl({stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),m.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.createElement("path",{d:"M6 20l6.5 -9"}),m.createElement("path",{d:"M19 20c-6 0 -6 -16 -12 -16"}))},Vl=function(e){var t,n=e.onAdaptiveAuthTemplateChange,o=e.onBasicLoginTemplateChange,i=e.showBasicLoginTemplates,a=e.showAdaptiveLoginTemplates,r=e["data-componentid"],c=(0,f.$)().t,s=(0,_e.Z)().deploymentConfig,d=Ee(),p=d.adaptiveAuthTemplates,v=d.authenticators,g=d.defaultAuthenticationSequence,y=d.updateAuthenticationSequence,E=Object.values(v).flat(),O=Ml((0,m.useState)(["basic-login-panel"]),2),A=O[0],w=O[1],T=Ml((0,m.useState)(!1),2),L=T[0],N=T[1],R=Ml((0,m.useState)(!1),2),Z=R[0],P=R[1],k=Ml((0,m.useState)(!1),2),U=k[0],x=k[1],M=Ml((0,m.useState)(void 0),2),F=M[0],D=M[1],W=Ml((0,m.useState)(void 0),2),_=W[0],j=W[1],B=Ml((0,m.useState)(void 0),2),V=B[0],q=B[1],K=Ml((0,m.useState)(!1),2),$=K[0],ee=K[1],te=Ml((0,m.useState)(!1),2),ne=te[0],oe=te[1],ie=Ml((0,m.useState)(!1),2),ae=ie[0],re=ie[1],ce=Ml((0,m.useState)(void 0),2),se=ce[0],ue=ce[1],de=Ml((0,m.useState)(void 0),2),pe=de[0],me=de[1],fe=Ml((0,m.useState)(void 0),2),ve=fe[0],ge=fe[1],be=Ml((0,m.useState)(!1),2),he=be[0],ye=be[1],Se=(0,S.I0)(),Ce=function(e){A.includes(e)?w(A.filter((function(t){return t!==e}))):w([].concat(xl(A),[e]))},Oe=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:J.e.decodeConnectorPropertyName(n),value:e[n]});G.serverConfigurationConfig.connectorToggleName[null==se?void 0:se.name]&&G.serverConfigurationConfig.autoEnableConnectorToggleProperty&&t.properties.push({name:J.e.decodeConnectorPropertyName(G.serverConfigurationConfig.connectorToggleName[null==se?void 0:se.name]),value:"true"}),ye(!0),(0,z.u9)(t,pe,ve).then((function(){Se((0,h.V_)({description:c("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:b.QU.SUCCESS,message:c("console:manage.features.governanceConnectors.notifications.updateConnector.success.message")}))})).catch((function(e){var t,n,o;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.detail?Se((0,h.V_)({description:c("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:b.QU.ERROR,message:c("console:manage.features.governanceConnectors.notifications.updateConnector.error.message")})):Se((0,h.V_)({description:c("console:manage.features.governanceConnectors.notifications.updateConnector.genericError.description"),level:b.QU.ERROR,message:c("console:manage.features.governanceConnectors.notifications.updateConnector.genericError.message")}))})).finally((function(){ye(!1),Ie()}))},Ie=function(){return oe(!1)},Ae=function(){!function(){var e=X.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=X.v.ANALYTICS_ENGINE_CONNECTOR_ID;me(e),ge(t),re(!0),(0,z.PP)(e,t).then((function(e){ue(e)})).catch((function(e){var t,n,o,i,a;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.detail?Se((0,h.V_)({description:c("console:manage.features.governanceConnectors.notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.description}),level:b.QU.ERROR,message:c("console:manage.features.governanceConnectors.notifications.getConnector.error.message")})):Se((0,h.V_)({description:c("console:manage.features.governanceConnectors.notifications.getConnector.genericError.description"),level:b.QU.ERROR,message:c("console:manage.features.governanceConnectors.notifications.getConnector.genericError.message")}))})).finally((function(){re(!1)}))}(),oe(!0)};return m.createElement("div",{className:"predefined-flows-side-panel","data-componentid":r},m.createElement("div",{className:"toolbar-container"},m.createElement(Ri.Z,{variant:"dense"},m.createElement(Dn.Z,null,c("console:loginFlow.predefinedFlows.header")))),m.createElement("div",{className:Qe()("predefined-flows-side-panel-content",{"full-height":!i||!a})},i&&m.createElement(wi.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:A.includes("basic-login-panel"),className:Qe()("predefined-flow-categories",{expanded:A.includes("basic-login-panel"),"full-height":1===A.length&&A.includes("basic-login-panel")})},m.createElement(Li.Z,{className:"predefined-flow-category-heading","aria-controls":"basic-login-panel-content",id:"basic-login-panel-header",expandIcon:m.createElement(jl,{height:"14px"}),onClick:function(){return Ce("basic-login-panel")}},m.createElement(Dn.Z,null,c("console:loginFlow.predefinedFlows.basic.header"))),m.createElement(Ti.Z,null,Object.entries(l).map((function(e){var t=Ml(e,2),n=t[0],o=t[1],i=null;return n===wl.Basic?i=c("console:loginFlow.predefinedFlows.categories.basic.label"):n===wl.MFA?i=c("console:loginFlow.predefinedFlows.categories.mfa.label"):n===wl.Passwordless?i=c("console:loginFlow.predefinedFlows.categories.passwordless.label"):n===wl.Social&&(i=c("console:loginFlow.predefinedFlows.categories.social.label")),m.createElement(Un.Z,{key:n,className:"predefined-flow-category"},m.createElement(Dn.Z,{variant:"body1"},i),m.createElement(Un.Z,{className:"predefined-flow-category-items"},Object.entries(o).map((function(e){var t,o=Ml(e,2),i=o[0],a=o[1];return"AppleSocialLoginSequence"===i&&(null===(t=new URL(null==s?void 0:s.serverOrigin))||void 0===t?void 0:t.hostname)===En.v.LOCAL_SERVER_URL?null:m.createElement(Un.Z,{key:i,className:Qe()("predefined-flow-sequence",{"full-width":a.steps.length>1}),onClick:function(){D({sequence:a,sequenceCategoryId:n,sequenceId:i}),P(!0)}},a.steps.map((function(e,t){var n;return m.createElement(m.Fragment,null,m.createElement("div",{className:"predefined-flow-sequence-step"},null==e||null===(n=e.options)||void 0===n?void 0:n.map((function(t,n){return m.createElement(m.Fragment,null,m.createElement("div",{key:n,className:"predefined-flow-sequence-step-option"},m.createElement(Ni.Z,{height:"14px",src:(0,Ct.C4)()[t.authenticator]||(0,Ct.C4)()[t.idp]}),m.createElement(Dn.Z,null,function(e,t){var n;if("LOCAL"!==t){if(t===Tl.Apple)return c("console:loginFlow.predefinedFlows.authenticators.apple.displayName");if(t===Tl.Facebook)return c("console:loginFlow.predefinedFlows.authenticators.facebook.displayName");if(t===Tl.Google)return c("console:loginFlow.predefinedFlows.authenticators.google.displayName");if(t===Tl.GitHub)return c("console:loginFlow.predefinedFlows.authenticators.github.displayName")}return null===(n=E.find((function(t){return t.defaultAuthenticator.name===e})))||void 0===n?void 0:n.displayName}(t.authenticator,t.idp))),e.options.length>1&&n!==e.options.length-1&&m.createElement(_l,{height:"10px"}))}))),a.steps.length>1&&t!==a.steps.length-1&&m.createElement("div",{className:"predefined-flow-sequence-step-separator"},m.createElement(Ql,{height:"10px"})))})))}))))})))),a&&p&&Object.entries(p).length>0&&m.createElement(wi.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:A.includes("conditional-login-panel"),className:Qe()("predefined-flow-categories",{expanded:A.includes("conditional-login-panel"),"full-height":1===A.length&&A.includes("conditional-login-panel")})},m.createElement(Li.Z,{className:"predefined-flow-category-heading","aria-controls":"conditional-login-panel-content",id:"conditional-login-panel-header",expandIcon:m.createElement(jl,{height:"14px"}),onClick:function(){return Ce("conditional-login-panel")}},m.createElement(Dn.Z,null,c("console:loginFlow.predefinedFlows.adaptive.header"))),m.createElement(Ti.Z,null,Object.entries(p).map((function(e){var t,n,o=Ml(e,2),i=o[0],a=o[1];return null==a||!a.templates||(null==a||null===(t=a.templates)||void 0===t?void 0:t.length)<=0?null:m.createElement(Un.Z,{key:i,className:"predefined-flow-category"},m.createElement(Dn.Z,{variant:"body1"},a.displayName),m.createElement(Un.Z,{className:"predefined-flow-category-items"},null==a||null===(n=a.templates)||void 0===n?void 0:n.map((function(e,t){return m.createElement(Un.Z,{key:t,className:"predefined-flow-sequence full-width no-hover"},m.createElement("div",{className:"predefined-flow-sequence-step adaptive-auth-template"},m.createElement("div",{className:"label"},m.createElement(Bl,null),e.name),m.createElement("div",{className:"actions"},e.name===H&&m.createElement(Lo.Z,{size:"small",onClick:function(){j(e),Ae()}},m.createElement(I.UG,{size:14})),m.createElement(Lo.Z,{size:"small",onClick:function(){j(e),x(!0)}},m.createElement(I.Kb,{size:14})),m.createElement(zn.Z,{size:"small",className:"add-button",onClick:function(){j(e),N(!0)}},c("console:loginFlow.predefinedFlows.adaptive.actions.add")))))}))))}))))),L&&m.createElement(xi,{onELKConfigureClick:function(){return Ae()},isELKRiskBased:"ELK-Risk-Based"===(null==_?void 0:_.name),open:L,onClose:function(){return N(!1)},selectedTemplate:_,onTemplateChange:function(e){!function(e){if(e){var t={};if(e.code&&(t=kl(kl({},t),{},{script:e.code.join("\n")})),e.defaultAuthenticators){for(var n=[],o=0,i=Object.entries(e.defaultAuthenticators);o<i.length;o++){var a=Ml(i[o],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=kl(kl({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}y(t)}}(e),n&&n(e)}}),Z&&m.createElement(_i,{open:Z,onClose:function(){return P(!1)},selectedTemplate:F,onTemplateChange:function(e){!function(e){var t;if(e){var n=kl(kl({},e.sequence),{},{script:null!==(t=e.sequence.script)&&void 0!==t?t:ke.generateScript(e.sequence.steps.length+1).join("\n")});if(e.sequenceCategoryId===wl.Social)return q({id:e.sequenceId,sequence:n}),void ee(!0);y(n)}}(e),o&&o(e)}}),U&&m.createElement(le,{template:_,open:U,onClose:function(){return x(!1)}}),$&&m.createElement(fl,{selectedSequence:V,onSelect:function(e){y(kl(kl({},g),e)),ee(!1)}}),m.createElement(Q.Z,{open:ne,onClose:Ie,size:"small",dimmer:"blurring"},m.createElement(Q.Z.Header,null,null==se?void 0:se.friendlyName,m.createElement(u.X6,{subHeading:!0,ellipsis:!0,as:"h6"},c("console:manage.features.governanceConnectors.connectorSubHeading",{name:null==se?void 0:se.friendlyName}))),m.createElement(Q.Z.Content,{className:"elk-analytics-modal",scrolling:!0},ae?m.createElement(u.pO,{inline:"centered",active:!0}):m.createElement(Y.Z,{onSubmit:Oe,triggerSubmission:function(e){t=e},initialValues:se,isConnectorEnabled:!0,isSubmitting:he,hideUpdateButton:!0,isModalForm:!0})),m.createElement(Q.Z.Actions,null,m.createElement(C.Z,null,m.createElement(C.Z.Row,{column:1},m.createElement(C.Z.Column,{mobile:8},m.createElement(u.Qj,{"data-testid":"".concat(r,"-cancel-button"),floated:"left",onClick:function(){return Ie()}},c("console:apiResources.tabs.scopes.form.cancelButton"))),m.createElement(C.Z.Column,{mobile:8},m.createElement(u.KM,{"data-testid":"".concat(r,"-finish-button"),floated:"right",onClick:function(){return t()},loading:he},c("common:update"))))))))};Vl.defaultProps={"data-componentid":"predefined-flows-side-panel",showAdaptiveLoginTemplates:!0,showBasicLoginTemplates:!0};const Gl=Vl;var Hl=n(30343),zl=["open","onClose","data-componentid"];function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xl.apply(this,arguments)}function Yl(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Jl=function(e){var t=e.open,n=e.onClose,o=e["data-componentid"],i=Yl(e,zl),a=(0,f.$)().t,r=Ee().onConditionalAuthenticationToggle;return m.createElement(u.cV,Xl({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,primaryAction:a("common:confirm"),secondaryAction:a("common:cancel"),"data-componentid":o,onPrimaryActionClick:function(){r(!1),n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},i),m.createElement(u.cV.Header,{"data-componentid":"".concat(o,"-header")},a("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},a("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),m.createElement(u.cV.Content,{"data-componentid":"".concat(o,"-content")},m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",m.createElement(u.EK,null,"Confirm")," to proceed.")))};Jl.defaultProps={"data-componentid":"adaptive-script-reset-confirmation-modal"};const ql=Jl;var Kl=n(78846),$l=n(86839),ec=n(30282),tc=n(55072),nc=n(81625),oc=n(85490),ic=n(53055),ac=n(82777),rc=n(54278),lc=n(36510),cc=["deletingSecret","open","onClose","data-componentid"];function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sc.apply(this,arguments)}function uc(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dc=function(e){var t=e.deletingSecret,n=e.open,o=e.onClose,i=e["data-componentid"],a=uc(e,cc),r=(0,f.$)().t,l=(0,S.I0)();return m.createElement(u.cV,sc({open:n,onClose:o,type:"negative",closeOnDimmerClick:!1,assertionHint:r("console:develop.features.secrets.modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:r("console:develop.features.secrets.modals.deleteSecret.primaryActionButtonText"),secondaryAction:r("console:develop.features.secrets.modals.deleteSecret.secondaryActionButtonText"),"data-componentid":"".concat(i,"-delete-confirmation-modal"),onPrimaryActionClick:function(){(0,Ie.c8)({params:{secretName:t.secretName,secretType:t.type}}).then((function(){l((0,h.V_)({description:r("console:develop.features.secrets.alerts.deleteSecret.description",{secretName:t.secretName,secretType:t.type}),level:b.QU.SUCCESS,message:r("console:develop.features.secrets.alerts.deleteSecret.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?l((0,h.V_)({description:e.response.data.description,level:b.QU.ERROR,message:e.response.data.message})):l((0,h.V_)({description:r("console:develop.features.secrets.errors.generic.description"),level:b.QU.ERROR,message:r("console:develop.features.secrets.errors.generic.message")}))})).finally((function(){o(null,null)}))},onSecondaryActionClick:function(e){return o(e,null)}},a),m.createElement(u.cV.Header,{"data-componentid":"".concat(i,"-delete-confirmation-modal-header")},r("console:develop.features.secrets.modals.deleteSecret.title")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(i,"-delete-confirmation-modal-message")},r("console:develop.features.secrets.modals.deleteSecret.warningMessage")),m.createElement(u.cV.Content,{"data-componentid":"".concat(i,"-delete-confirmation-modal-content")},r("console:develop.features.secrets.modals.deleteSecret.content")))};dc.defaultProps={"data-componentid":"secret-delete-confirmation-modal"};const pc=dc;var mc=n(444),fc=n.n(mc),vc={};vc.styleTagTransform=sn(),vc.setAttributes=an(),vc.insert=nn().bind(null,"head"),vc.domAPI=en(),vc.insertStyleElement=ln();Kt()(fc(),vc);fc()&&fc().locals&&fc().locals;function gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},hc.apply(this,arguments)}var yc=function(e){var t=Object.assign({},e);return m.createElement("svg",hc({stroke:"currentColor",fill:"none",strokeWidth:"1.5",viewBox:"0 0 24 24","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}))},Ec=function(e){var t,n,o=e.open,i=e.onSecretSelect,a=e.onClose,r=e.onOpen,l=e["data-componentid"],c=(0,f.$)().t,s=(0,S.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),u=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.features})),d=(0,Ie.xA)(we.H0),p=d.data,g=d.isLoading,b=d.mutate,h=gc((0,m.useState)(o),2),y=h[0],E=h[1],C=gc((0,m.useState)(null),2),O=C[0],A=C[1],w=gc((0,m.useState)(!1),2),T=w[0],N=w[1],R=gc((0,m.useState)(!1),2),Z=R[0],P=R[1],k=gc((0,m.useState)(void 0),2),U=k[0],x=k[1];return(0,m.useEffect)((function(){E(o)}),[o]),m.createElement(m.Fragment,null,m.createElement(zn.Z,{className:"secret-selection-menu-trigger","aria-controls":y?"create-new-secret-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:function(e){A(e.currentTarget),E(!0),r()},endIcon:m.createElement(I.v4,null),startIcon:m.createElement(yc,{height:14,width:14}),variant:"contained",color:"secondary",size:"small","data-componentid":"".concat(l,"-trigger")},c("console:loginFlow.scriptEditor.secretSelector.label")),m.createElement(oc.ZP,{anchorEl:O,open:y,onClose:function(e,t){A(null),E(!1),a(e,t)},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},classes:{paper:"create-new-secret-dropdown"},"data-componentid":"".concat(l,"-popover")},m.createElement(ac.Z,{"data-componentid":"".concat(l,"-list")},g?m.createElement(rc.Z,{alignItems:"center",className:"create-new-secret-dropdown-item-loading","data-componentid":"".concat(l,"-list-loader")},m.createElement($l.Z,{size:20})):0===(null==p?void 0:p.length)?m.createElement(rc.Z,{className:"create-new-secret-dropdown-empty-placeholder","data-componentid":"".concat(l,"-list-empty-placeholder")},m.createElement(lc.Z,null,m.createElement(Dn.Z,{variant:"body1"},c("console:loginFlow.scriptEditor.secretSelector.emptyPlaceholder.header")),m.createElement(Io.Z,null),m.createElement(Dn.Z,{variant:"caption"},m.createElement(v.c,{i18nKey:"console:loginFlow.scriptEditor.secretSelector.emptyPlaceholder.description"},"Securely store access keys as secrets. A secret can replace the consumer secret in ",m.createElement(ic.Z,{variant:"caption"},"callChoreo()")," function in the conditional authentication scripts.")))):null==p?void 0:p.map((function(e,t){return m.createElement(m.Fragment,null,m.createElement(rc.Z,{key:e.secretId,"data-componentid":"".concat(l,"-list-item-").concat(e.secretId)},m.createElement(lc.Z,{primary:m.createElement(Dn.Z,{noWrap:!0},e.secretName),secondary:m.createElement(Dn.Z,{noWrap:!0},e.description)}),m.createElement(Lo.Z,{onClick:function(){return i(e)},"data-componentid":"".concat(l,"-list-item-").concat(e.secretId,"-add")},m.createElement(I.pO,{size:14})),m.createElement(Lo.Z,{onClick:function(){x(e),P(!0)},"data-componentid":"".concat(l,"-list-item-").concat(e.secretId,"-delete")},m.createElement(I.XH,{size:14}))),t!==(null==p?void 0:p.length)-1&&m.createElement(Io.Z,null))})),m.createElement(Io.Z,null),m.createElement(rc.Z,{onClick:function(){return null},disableGutters:!0,disablePadding:!0},(0,L.hasRequiredScopes)(null==u?void 0:u.secretsManagement,null==u||null===(t=u.secretsManagement)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.create,s)&&m.createElement(zn.Z,{fullWidth:!0,color:"primary",className:"create-new-secret-button",startIcon:m.createElement(I.pO,{size:14}),onClick:function(){A(null),E(!1),N(!0)},"data-componentid":"".concat(l,"-create-new-secret-button")},c("console:loginFlow.scriptEditor.secretSelector.actions.create.label"))))),T&&m.createElement(Ae.Z,{onClose:function(){N(!1),b()},"data-componentid":"".concat(l,"-add-secret-modal")}),Z&&m.createElement(pc,{deletingSecret:U,open:Z,onClose:function(){P(!1),b()},"data-componentid":"".concat(l,"-delete-secret-modal")}))};Ec.defaultProps={"data-componentid":"secret-selection-dropdown"};const Sc=Ec;var Cc,Oc;!function(e){e.DARK="vs-dark",e.HIGH_CONTRAST="hc-black",e.LIGHT="vc"}(Cc||(Cc={})),function(e){e.Maximized="maximized",e.Minimized="minimized"}(Oc||(Oc={}));var Ic=n(64606),Ac=n.n(Ic),wc={};wc.styleTagTransform=sn(),wc.setAttributes=an(),wc.insert=nn().bind(null,"head"),wc.domAPI=en(),wc.insertStyleElement=ln();Kt()(Ac(),wc);Ac()&&Ac().locals&&Ac().locals;function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Nc=(0,m.lazy)((function(){return n.e(5907).then(n.bind(n,14103))})),Rc=function(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o;return m.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:i,width:n,xmlns:"http://www.w3.org/2000/svg"},m.createElement("polyline",{points:"15 3 21 3 21 9"}),m.createElement("polyline",{points:"9 21 3 21 3 15"}),m.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),m.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))},Zc=function(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o;return m.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:i,width:n,xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.createElement("path",{d:"M18 10h-4v-4"}),m.createElement("path",{d:"M20 4l-6 6"}),m.createElement("path",{d:"M6 14h4v4"}),m.createElement("path",{d:"M10 14l-6 6"}))},Pc=function(e){var t,n,o,i,a=e.className,r=e["data-componentid"],l=(0,f.$)().t,c=(0,m.useRef)(null),s=Ee(),u=s.authenticationSequence,d=s.updateAuthenticationSequence,p=Tc((0,m.useState)(Cc.DARK),2),v=p[0],g=p[1],b=Tc((0,m.useState)(!1),2),h=b[0],y=b[1],E=Tc((0,m.useState)(Oc.Minimized),2),C=E[0],O=E[1],I=(0,S.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),A=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.features})),w=(0,m.useCallback)((function(e){c.current=e}),[c]),T=(0,m.useCallback)((function(e){d({script:e})}),[d]),N=function(){C!==Oc.Minimized?O(Oc.Minimized):O(Oc.Maximized)},R=m.createElement(Nc,{loading:null,className:"script-editor",width:"100%",height:"100%",language:"javascript",theme:v,value:ke.isEmptyScript(null==u?void 0:u.script)?ke.generateScript((null==u||null===(i=u.steps)||void 0===i?void 0:i.length)+1).join("\n"):null==u?void 0:u.script,options:{automaticLayout:!0},onChange:T,onMount:w,"data-componentid":"".concat(r,"-code-editor")}),Z=m.createElement(Un.Z,{className:"script-editor-toolbar-container"},m.createElement(Ri.Z,{variant:"dense"},m.createElement(Un.Z,null,m.createElement(Dn.Z,null,l("console:loginFlow.scriptEditor.panelHeader"))),m.createElement("div",{className:"actions"},C===Oc.Minimized&&m.createElement(m.Fragment,null,m.createElement("div",{className:"editor-theme-select"},m.createElement(ec.Z,{size:"small"},m.createElement(nc.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:v,onChange:function(e){g(e.target.value)}},m.createElement(tc.Z,{value:Cc.LIGHT},l("console:loginFlow.scriptEditor.themes.light.label")),m.createElement(tc.Z,{value:Cc.DARK},l("console:loginFlow.scriptEditor.themes.dark.label")),m.createElement(tc.Z,{value:Cc.HIGH_CONTRAST},l("console:loginFlow.scriptEditor.themes.highContrast.label"))))),m.createElement("div",{className:"secret-selection-menu-wrapper"},(null==A||null===(t=A.secretsManagement)||void 0===t?void 0:t.enabled)&&(0,L.hasRequiredScopes)(null==A?void 0:A.secretsManagement,null==A||null===(n=A.secretsManagement)||void 0===n||null===(o=n.scopes)||void 0===o?void 0:o.read,I)&&m.createElement(Sc,{open:h,onClose:function(){return y(!1)},onOpen:function(){return y(!0)},onSecretSelect:function(e){return function(e){if(c.current){var t=c.current.getSelection();t&&(c.current.executeEdits("replaceCodeBlock",[{range:t,text:e}]),y(!1))}}(e.secretName)}}))),m.createElement("div",{className:"editor-fullscreen"},m.createElement(Po.Z,{title:C===Oc.Minimized?l("common:goFullScreen"):l("common:exitFullScreen"),"data-componentid":"editor-fullscreen-toggle-tooltip"},m.createElement(Lo.Z,{size:"small",onClick:N},C===Oc.Minimized?m.createElement(Rc,{height:16,width:16}):m.createElement(Zc,{height:16,width:16})))))));return m.createElement(m.Suspense,{fallback:m.createElement($l.Z,null)},m.createElement("div",{className:Qe()("script-editor-panel",a),"data-componentid":r},Z,m.createElement(Kl.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:C===Oc.Maximized,onClose:N},m.createElement(Un.Z,{className:"full-screen-script-editor-container"},Z,R)),R))};Pc.defaultProps={"data-componentid":"script-editor-panel"};const kc=Pc;var Uc=n(90074),xc=n.n(Uc),Mc={};Mc.styleTagTransform=sn(),Mc.setAttributes=an(),Mc.insert=nn().bind(null,"head"),Mc.domAPI=en(),Mc.insertStyleElement=ln();Kt()(xc(),Mc);xc()&&xc().locals&&xc().locals;function Fc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Wc=function(e){var t,n=e.readOnly,o=e["data-componentid"],i=(0,f.$)().t,a=Ee(),r=a.authenticationSequence,l=a.isConditionalAuthenticationEnabled,c=a.onConditionalAuthenticationToggle,s=a.updateAuthenticationSequence,u=a.applicationMetaData,d=Fc((0,m.useState)(!1),2),p=d[0],v=d[1];(0,m.useEffect)((function(){var e,t,n,o;null==u||null===(e=u.authenticationSequence)||void 0===e||!e.script||ke.isDefaultScript(u.authenticationSequence.script,null===(t=u.authenticationSequence)||void 0===t||null===(n=t.steps)||void 0===n?void 0:n.length)||ke.isEmptyScript(null===(o=u.authenticationSequence)||void 0===o?void 0:o.script)?c(!1):c(!0)}),[null==u||null===(t=u.authenticationSequence)||void 0===t?void 0:t.script]);return m.createElement(m.Fragment,null,m.createElement(Un.Z,{className:"script-based-flow-switch","data-componentid":o},m.createElement(wi.Z,{expanded:l,elevation:0},m.createElement(Li.Z,{disabled:n},m.createElement(To.Z,{className:"script-based-flow-switch-accordion-summary"},m.createElement(To.Z,{xs:12,sm:6,md:2,lg:1,xl:1},m.createElement(Hl.Z,{checked:l,onChange:function(){l?v(!0):c(!0)}})),m.createElement(To.Z,{className:"script-based-flow-switch-text",xs:12,sm:6,md:11,lg:11,xl:11},m.createElement(Dn.Z,{variant:"body1"},i("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading")),m.createElement(Dn.Z,{variant:"body2"},i("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"))))),m.createElement(Ti.Z,{className:"script-based-flow-switch-accordion-details"},m.createElement(kc,null)))),p&&m.createElement(ql,{open:p,onClose:function(){var e;s({script:ke.generateScript((null==r||null===(e=r.steps)||void 0===e?void 0:e.length)+1).join("\n")}),v(!1)}}))};Wc.defaultProps={"data-componentid":"script-based-flow-switch"};const _c=Wc;var jc=n(45234),Qc=n(63580),Bc=n.n(Qc),Vc={};Vc.styleTagTransform=sn(),Vc.setAttributes=an(),Vc.insert=nn().bind(null,"head"),Vc.domAPI=en(),Vc.insertStyleElement=ln();Kt()(Bc(),Vc);Bc()&&Bc().locals&&Bc().locals;var Gc=["children","className","drawerIcon","panel","panelControlsLabel","open","data-componentid","onClose"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Hc.apply(this,arguments)}function zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Yc(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Jc=function(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o;return m.createElement("svg",{width:n,height:i,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{d:"M11.671 10.4793L11.7803 10.3509L19.4469 3.01762C19.616 2.85521 19.8425 2.75926 20.0818 2.74866C20.3211 2.73807 20.5559 2.8136 20.7399 2.96037C20.9239 3.10715 21.0437 3.31452 21.0758 3.54161C21.1079 3.76871 21.0499 3.99907 20.9132 4.18728L20.8039 4.31562L13.8139 10.9999L20.8039 17.6843C20.9624 17.8362 21.0601 18.0364 21.0801 18.2502C21.1001 18.4639 21.041 18.6776 20.9132 18.854L20.8039 18.9823C20.6451 19.1339 20.4358 19.2273 20.2123 19.2464C19.9889 19.2655 19.7655 19.209 19.5811 19.0868L19.4469 18.9823L11.7803 11.6489C11.6218 11.497 11.5241 11.2968 11.5041 11.083C11.4842 10.8693 11.5432 10.6556 11.671 10.4793ZM2.08769 10.4793L2.19694 10.3509L9.86361 3.01762C10.0326 2.85521 10.2591 2.75926 10.4985 2.74866C10.7378 2.73807 10.9726 2.8136 11.1566 2.96037C11.3406 3.10715 11.4604 3.31452 11.4925 3.54161C11.5245 3.76871 11.4665 3.99907 11.3299 4.18728L11.2206 4.31562L4.23053 10.9999L11.2206 17.6843C11.3791 17.8362 11.4768 18.0364 11.4968 18.2502C11.5167 18.4639 11.4577 18.6776 11.3299 18.854L11.2206 18.9823C11.0618 19.1339 10.8524 19.2273 10.629 19.2464C10.4055 19.2655 10.1822 19.209 9.99778 19.0868L9.86361 18.9823L2.19694 11.6489C2.03848 11.497 1.94076 11.2968 1.9208 11.083C1.90083 10.8693 1.95989 10.6556 2.08769 10.4793Z",fill:"black"}))},qc=function(e){var t=e.children,n=e.className,o=e.drawerIcon,i=e.panel,a=e.panelControlsLabel,r=e.open,l=e["data-componentid"],c=e.onClose,s=Yc(e,Gc),u=zc((0,m.useState)(r),2),d=u[0],p=u[1];(0,m.useEffect)((function(){p(r)}),[r]);return m.createElement(m.Fragment,null,m.createElement(Un.Z,{component:"main",sx:{flexGrow:1},"data-componentid":"".concat(l,"-main")},t),i&&m.createElement(jc.Z,Hc({open:d,PaperProps:{className:Qe()("side-panel-drawer",{open:d},n),style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},variant:"permanent",anchor:"right",className:Qe()("side-panel-drawer",{open:d},n),"data-componentid":l},s),m.createElement("div",{className:"side-panel-drawer-panel"},m.createElement("div",{className:"side-panel-drawer-panel-controls",onClick:function(e){d?(p(!1),c&&c(e,"backdropClick")):p(!0)}},m.createElement("div",{className:"side-panel-drawer-panel-controls-chevron"},o||m.createElement(Jc,{height:16,width:16})),a&&m.createElement("div",{className:"side-panel-drawer-panel-controls-label"},m.createElement(Dn.Z,null,a))),m.createElement("div",{className:"side-panel-drawer-panel-content"},i))))};qc.defaultProps={"data-componentid":"side-panel-drawer"};const Kc=qc;var $c,es=n(17007),ts=n(98920),ns=n(27472);!function(e){e.Classic="classic",e.Visual="visual"}($c||($c={}));var os=n(49948),is=n.n(os),as={};as.styleTagTransform=sn(),as.setAttributes=an(),as.insert=nn().bind(null,"head"),as.domAPI=en(),as.insertStyleElement=ln();Kt()(is(),as);is()&&is().locals&&is().locals;function rs(e){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(e)}function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){ss(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ss(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==rs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==rs(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ds(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ps=function(e){var t=e.legacyBuilder,n=e.onIDPCreateWizardTrigger,o=e.readOnly,i=e["data-componentid"],a=(0,f.$)().t,r=(0,S.I0)(),l=Ee(),c=l.applicationMetaData,s=l.isAdaptiveAuthAvailable,p=l.isAuthenticationSequenceDefault,v=l.isVisualEditorEnabled,g=l.isLegacyEditorEnabled,y=l.refetchApplication,E=l.authenticationSequence,C=l.preferredAuthenticationFlowBuilderMode,O=l.setPreferredAuthenticationFlowBuilderMode,I=l.isConditionalAuthenticationEnabled,w=l.updateAuthenticationSequence,T=l.isSystemApplication,L=o?[{id:0,label:a("console:loginFlow.modes.legacy.label"),mode:$c.Classic}]:[{id:0,label:a("console:loginFlow.modes.legacy.label"),mode:$c.Classic},{extra:m.createElement(A.Z,{size:"small",label:"Beta",className:"oxygen-chip-beta"}),id:1,label:a("console:loginFlow.modes.visual.label"),mode:$c.Visual}],N=(0,S.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSAASDeployment})),R=(0,S.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),Z=us((0,m.useState)(L[0]),2),P=Z[0],k=Z[1],U=us((0,m.useState)(null),2),x=U[0],M=U[1],F=us((0,m.useState)(p),1)[0],D=us((0,m.useState)(!1),2),W=D[0],_=D[1];(0,m.useEffect)((function(){v&&g||k(v&&!o?L[1]:L[0])}),[v,g]),(0,m.useEffect)((function(){if(C){var e=L.find((function(e){return e.mode===C}));k(e)}}),[C]);var j=function(e,t){var n,o={},i=cs(cs({},(0,d.Z)(e)),{},{type:t?ts.a1.DEFAULT:ts.a1.USER_DEFINED});s&&I&&!ke.isEmptyScript(E.script)||(i.script=ke.generateScript((null==E||null===(n=E.steps)||void 0===n?void 0:n.length)+1).join("\n"));R===ns.$B.SUBORGANIZATION&&(i.script=""),w(cs(cs({},e),{},{script:i.script})),o=T?{authenticationSequence:i,name:null==c?void 0:c.name}:{authenticationSequence:i},(0,es.bz)(null==c?void 0:c.id,o).then((function(){r((0,h.V_)({description:a("console:develop.features.applications.notifications.updateAuthenticationFlow.success.description"),level:b.QU.SUCCESS,message:a("console:develop.features.applications.notifications.updateAuthenticationFlow.success.message")}))})).finally((function(){return y()}))};return m.createElement(Un.Z,{className:"sign-in-method-split-view"},m.createElement(Kc,{open:F,className:Qe()("predefined-side-panel-drawer",{hidden:P.id===L[0].id}),panel:m.createElement(Gl,{showAdaptiveLoginTemplates:s}),panelControlsLabel:a("console:loginFlow.predefinedFlows.panelHeader")},m.createElement("div",{id:"drawer-container",style:{position:"relative"}},m.createElement(Un.Z,null,g&&v&&m.createElement(Un.Z,null,m.createElement(Fn.Z,{value:P.id,onChange:function(e,t){M(L[t]),_(!0)},"aria-label":"basic tabs example"},L.map((function(e){return m.createElement(xn.Z,{key:e.id,label:m.createElement("div",{className:"beta-feature-tab-item"},m.createElement(Dn.Z,{sx:{fontWeight:500}},e.label),N&&e.extra),"data-componentid":"".concat(i,"-").concat(e.id,"-tab")})})))),m.createElement(Mn.Z,{index:0,value:P.id,"data-componentid":"".concat(i,"-legacy-builder")},m.createElement("div",{className:"ui basic very padded segment sign-on-methods-tab-content"},t)),m.createElement(Mn.Z,{index:1,value:P.id,className:"visual-editor-tab-panel","data-componentid":"".concat(i,"-visual-builder")},m.createElement(Wn.tV,null,m.createElement(Ai,{onIDPCreateWizardTrigger:n,className:"visual-editor",onUpdate:function(e,t){return j(e,t)}})),s&&m.createElement(_c,null),s&&I&&m.createElement("div",{className:"visual-editor-update-button-container"},m.createElement(u.KM,{variant:"contained",className:"update-button","data-componentid":"".concat(i,"-update-button"),onClick:function(){return j(E)}},a("console:loginFlow.visualEditor.actions.update.label"))))))),W&&m.createElement(Vn,{mode:x,open:W,onPrimaryActionClick:function(){k(x),M(null),_(!1),y(),O(null==x?void 0:x.mode)},onClose:function(){M(null),_(!1)}}))};ps.defaultProps={"data-componentid":"authentication-flow-builder",readOnly:!1};const ms=ps;var fs=n(23587),vs=n(46581);function gs(e){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(e)}var bs=["script"];function hs(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ys(e){return function(e){if(Array.isArray(e))return As(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Is(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){Cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==gs(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||Is(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(e,t){if(e){if("string"==typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const ws=function(e){var t=e.application,n=e.authenticators,o=e.children,i=e.isSystemApplication,a=e.onUpdate,r=e.onAuthenticatorsRefetch,l=e.hiddenAuthenticators,s=(0,S.v9)((function(e){var t,n,o;return null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n||null===(o=n.features)||void 0===o?void 0:o.applications})),u=(0,S.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),v=(0,Te.Tl)().data,g=(0,c.Z)().UIConfig,y=null==g?void 0:g.connectionResourcesUrl,E=(0,f.$)().t,C=(0,S.I0)(),O=Os((0,m.useState)((0,d.Z)(null==t?void 0:t.authenticationSequence)),2),I=O[0],A=O[1],w=Os((0,m.useState)(!1),2),T=w[0],L=w[1],N=Os((0,m.useState)({enterprise:[],local:[],recovery:[],secondFactor:[],social:[]}),2),R=N[0],Z=N[1],P=Os((0,m.useState)({height:0,width:0}),2),k=P[0],U=P[1];(0,m.useEffect)((function(){var e;null!=t&&null!==(e=t.authenticationSequence)&&void 0!==e&&e.script||A(Ss(Ss({},I),{},{script:_.script}))}),[]),(0,m.useEffect)((function(){A(null==t?void 0:t.authenticationSequence)}),[t]),(0,m.useEffect)((function(){if(n&&Array.isArray(n)&&n[0]&&n[1]){var e=n[0],t=n[1],o=[],i=[],a=[],r=[],l=[];e.forEach((function(e){e.id===Ke.b.FIDO_AUTHENTICATOR_ID&&(e.displayName=yt.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.name===Ke.b.BACKUP_CODE_AUTHENTICATOR?r.push(e):tt.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?a.push(e):l.push(e)})),t.forEach((function(e){var t,n,a,r;e.image=(null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===Bt.f.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID?vs.C.getAuthenticatorIcon(null!==(n=null===(a=e.federatedAuthenticators)||void 0===a?void 0:a.defaultAuthenticatorId)&&void 0!==n?n:null===(r=e.defaultAuthenticator)||void 0===r?void 0:r.authenticatorId):qe.Zs.resolveConnectionResourcePath(y,e.image),tt.j.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?o.push(e):i.push(e)})),Z({enterprise:i,local:l,recovery:r,secondFactor:a,social:o})}}),[n]);var x=(0,m.useMemo)((function(){return u!==Ce.$B.SUBORGANIZATION&&isAdaptiveAuthenticationAvailable}),[isAdaptiveAuthenticationAvailable,u]),M=(0,m.useMemo)((function(){return!(null==s?void 0:s.disabledFeatures).includes("applications.loginFlow.visualEditor")}),[s]),F=(0,m.useMemo)((function(){return!(null==s?void 0:s.disabledFeatures).includes("applications.loginFlow.legacyEditor")}),[s]),D=(0,m.useMemo)((function(){var e;return null==I||null===(e=I.steps)||void 0===e?void 0:e.every((function(e){return!(0,p.Z)(e.options)}))}),[I]),W=function(){C((0,h.V_)({description:E("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:b.QU.WARNING,message:E("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},_=(0,m.useMemo)((function(){return Ss(Ss({},vl),{},{attributeStepId:1,requestPathAuthenticators:[],script:ke.generateScript(2).join("\n"),subjectStepId:1,type:ts.a1.DEFAULT})}),[]),j=(0,m.useMemo)((function(){_.script;var e=hs(_,bs);return(0,fs.Z)(e,I)}),[I,_]),Q=(0,m.useCallback)((function(e,t){U((function(n){return Ss(Ss({},n),{},Cs({},e,t))}))}),[]);return m.createElement(fe.Provider,{value:{adaptiveAuthTemplates:v,addSignInOption:function(e,t){var n=Object.values(R).flat().find((function(e){var n;return e.id===t||(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)===t}));if(n){var o=ys(null==I?void 0:I.steps),i=function(e,t){var n,o=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),i=tt.j.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return o&&i&&(o=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!o||(C((0,h.V_)({description:E("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.description"),level:b.QU.WARNING,message:E("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(n,o[e].options);tt.j.HANDLER_AUTHENTICATORS.includes(t);var a=tt.j.FIRST_FACTOR_AUTHENTICATORS.includes(t),r=tt.j.SECOND_FACTOR_AUTHENTICATORS.includes(t),l=pt.isSecondFactorAdditionValid(n.defaultAuthenticator.authenticatorId,e,o);if(!r||(a||0!==e&&l)&&(!a||0===e||l)){if((!Ye.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||Ye.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,C))&&i){var c=n.authenticators.find((function(e){return e.authenticatorId===n.defaultAuthenticator.authenticatorId}));o[e].options.push({authenticator:c.name,idp:n.idp}),A(Ss(Ss({},I),{},{steps:o}))}}else C((0,h.V_)({description:E("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:b.QU.WARNING,message:E("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},addSignInStep:function(){var e=ys(null==I?void 0:I.steps),t=I.script;ke.isDefaultScript(t,e.length)&&(t=ke.generateScript(e.length+2).join("\n")),e.push({id:e.length+1,options:[]}),A(Ss(Ss({},I),{},{script:t,steps:e}))},applicationMetaData:t,authenticationSequence:I,authenticators:R,defaultAuthenticationSequence:_,hiddenAuthenticators:l,isAdaptiveAuthAvailable:x,isAuthenticationSequenceDefault:j,isConditionalAuthenticationEnabled:T,isLegacyEditorEnabled:F,isSystemApplication:i,isValidAuthenticationFlow:D,isVisualEditorEnabled:M,onConditionalAuthenticationToggle:function(e){return L(e)},refetchApplication:function(){return a(t.id)},refetchAuthenticators:r,removeSignInOption:function(e,t){var n,o=ys(null==I?void 0:I.steps),i=o[e],a=null===(n=i.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===t})),r=-1;(null==a?void 0:a.authenticator)!==Ke.b.TOTP_AUTHENTICATOR&&(null==a?void 0:a.authenticator)!==Ke.b.EMAIL_OTP_AUTHENTICATOR&&(null==a?void 0:a.authenticator)!==Ke.b.SMS_OTP_AUTHENTICATOR||pt.hasSpecificAuthenticatorInCurrentStep(Ke.b.BACKUP_CODE_AUTHENTICATOR,e,o)&&pt.countTwoFactorAuthenticatorsInCurrentStep(e,o)<2&&i.options.map((function(e,t){e.authenticator===Ke.b.BACKUP_CODE_AUTHENTICATOR&&(r=t)}));var l=Os(pt.getLeftAndRightSideSteps(e,o),2),c=l[0],s=l[1];if(pt.hasSpecificFactorsInSteps(ys(tt.j.SECOND_FACTOR_AUTHENTICATORS),s)){var u=Ss({},a),d=pt.countSpecificFactorInSteps(ys(tt.j.SECOND_FACTOR_AUTHENTICATORS),s)===pt.countSpecificFactorInSteps([Ke.b.TOTP_AUTHENTICATOR,Ke.b.EMAIL_OTP_AUTHENTICATOR],s),p=[].concat(ys(tt.j.FIRST_FACTOR_AUTHENTICATORS),[Ke.b.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(u.authenticator),m=[].concat(ys(tt.j.TOTP_HANDLERS),ys(tt.j.EMAIL_OTP_HANDLERS)).includes(u.authenticator),f=pt.getImmediateStepHavingSpecificFactors(tt.j.SECOND_FACTOR_AUTHENTICATORS,o);if(p||m){var v=0,g=0;if(o[e].options.filter((function(e){tt.j.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&v++,[].concat(ys(tt.j.TOTP_HANDLERS),ys(tt.j.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&g++})),d&&g<=1||!d&&v<=1)if(!(d?pt.hasSpecificFactorsInSteps([].concat(ys(tt.j.TOTP_HANDLERS),ys(tt.j.EMAIL_OTP_HANDLERS)),c):pt.hasSpecificFactorsInSteps(tt.j.FIRST_FACTOR_AUTHENTICATORS,c))){var b=Os(pt.getLeftAndRightSideSteps(f,o),1)[0];if((d?pt.countSpecificFactorInSteps([].concat(ys(tt.j.TOTP_HANDLERS),ys(tt.j.EMAIL_OTP_HANDLERS)),b):pt.countSpecificFactorInSteps(tt.j.FIRST_FACTOR_AUTHENTICATORS,b))<=1)return void W()}}}-1!==r&&o[e].options.splice(r,1);var h=o[e].options.findIndex((function(e){return e.authenticator===t}));-1!==h&&o[e].options.splice(h,1),A(Ss(Ss({},I),{},{steps:o}))},removeSignInStep:function(e){var t=ys(null==I?void 0:I.steps),n=I.script;if(t.length<=1)C((0,h.V_)({description:E("console:develop.features.applications.notifications.authenticationStepMin.genericError.description"),level:b.QU.WARNING,message:E("console:develop.features.applications.notifications.authenticationStepMin.genericError.message")}));else{var o=Os(pt.getLeftAndRightSideSteps(e,t),3),i=o[0],a=o[1],r=o[2],l=pt.hasSpecificFactorsInSteps(tt.j.SECOND_FACTOR_AUTHENTICATORS,a),c=pt.countSpecificFactorInSteps([Ke.b.TOTP_AUTHENTICATOR],a),s=pt.countSpecificFactorInSteps(tt.j.SECOND_FACTOR_AUTHENTICATORS,a)+pt.countSpecificFactorInSteps(tt.j.FIRST_FACTOR_AUTHENTICATORS,a);if(l)if(!(s===c?pt.hasSpecificFactorsInSteps(tt.j.TOTP_HANDLERS,i):pt.hasSpecificFactorsInSteps(tt.j.FIRST_FACTOR_AUTHENTICATORS,i)||pt.checkImmediateStepHavingSpecificFactors(tt.j.FIRST_FACTOR_AUTHENTICATORS,r)))return void C((0,h.V_)({description:E("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:b.QU.WARNING,message:E("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));ke.isDefaultScript(n,t.length)&&(n=ke.generateScript(t.length).join("\n")),t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),A(Ss(Ss({},I),{},{script:n,steps:t}))}},revertAuthenticationSequenceToDefault:function(){A(_)},updateAuthenticationSequence:function(e){A(Ss(Ss(Ss({},I),(0,d.Z)(e)),{},{type:ts.a1.USER_DEFINED}))},updateVisualEditorFlowNodeMeta:Q,visualEditorFlowNodeMeta:k}},o)};var Ts=n(34118);function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Ns(e){return function(e){if(Array.isArray(e))return xs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Us(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ps(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ls(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Ls(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ls(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||Us(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(e,t){if(e){if("string"==typeof e)return xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xs(e,t):void 0}}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ms=null,Fs=function(e){var t,n,o,i=e.application,a=e.appId,r=e.authenticationSequence,l=e.clientId,b=e.isLoading,h=e.onUpdate,y=e.readOnly,E=e.isSystemApplication,S=e.hiddenAuthenticators,C=e["data-componentid"],O=(0,f.$)().t,I=(0,c.Z)().UIConfig,A=null==I?void 0:I.connectionResourcesUrl,w="true"===(null==i||null===(t=i.advancedConfigurations)||void 0===t||null===(n=t.additionalSpProperties)||void 0===n||null===(o=n.find((function(e){return"isAppShared"===(null==e?void 0:e.name)})))||void 0===o?void 0:o.value),T=ks((0,m.useState)(void 0),2),L=T[0],N=T[1],R=ks((0,m.useState)(void 0),2),Z=R[0],P=R[1],k=ks((0,m.useState)(void 0),2),U=k[0],x=k[1],M=ks((0,m.useState)(void 0),2),F=M[0],D=M[1],W=ks((0,m.useState)(void 0),2),_=W[0],j=W[1],Q=ks((0,m.useState)(void 0),2),B=Q[0],V=Q[1],G=ks((0,m.useState)(void 0),2),H=G[0],z=G[1],X=ks((0,m.useState)(void 0),2),Y=X[0],J=X[1],q=ks((0,m.useState)(!1),2),K=q[0],$=q[1],te=ks((0,m.useState)(!0),2),ne=te[0],oe=te[1],ie=ks((0,m.useState)(!1),2),ae=ie[0],re=ie[1],le=ks((0,m.useState)(void 0),2),ce=le[0],se=le[1],ue=ks((0,m.useState)(r),2),de=ue[0],pe=ue[1],me=ks((0,m.useState)(void 0),2),fe=me[0],ve=me[1],ge=ks((0,m.useState)(void 0),2),be=ge[0],he=ge[1],ye=ks((0,m.useState)(!1),2),Ee=ye[0],Ce=ye[1],Oe=ks((0,m.useState)(void 0),2),Ie=Oe[0],Ae=Oe[1],we=Se.lD.getInstance();(0,m.useEffect)((function(){Te().finally(),s.LocalStorageUtils.setValueInLocalStorage(Le.jo.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,m.useEffect)((function(){void 0!==r&&pe(r)}),[r]);var Te=function(e){return oe(!0),Ot.z.getAllAuthenticators().then((function(t){var n=[],o=[],i=[],a=[],r=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===Ke.b.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===Ke.b.GITHUB_AUTHENTICATOR_ID?o.push(e):e.defaultAuthenticator.authenticatorId===Ke.b.FACEBOOK_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===Ke.b.MICROSOFT_AUTHENTICATOR_ID&&e.description===Ts.description?a.push(e):e.defaultAuthenticator.authenticatorId===Ke.b.APPLE_AUTHENTICATOR_ID&&r.push(e)})),D(n),j(o),V(i),z(a),J(r),x(t),e&&e(t,n,o,i,a,r)})).finally((function(){oe(!1)}))},Ne=function(e,t,n,o,i,a){if(e)if(e===ee.Tb.DEFAULT)we.publish("application-sign-in-method-click-add",{type:"default"}),pe(Zs(Zs({},r),(0,d.Z)(Yt)));else if(e===ee.Tb.SECOND_FACTOR_TOTP)we.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),pe(Zs(Zs({},r),(0,d.Z)(kn)));else if(e===ee.Tb.SECOND_FACTOR_EMAIL_OTP)we.publish("application-sign-in-method-click-add",{type:"second-factor-email-otp"}),pe(Zs(Zs({},r),(0,d.Z)(Zn)));else if(e===ee.Tb.SECOND_FACTOR_SMS_OTP)we.publish("application-sign-in-method-click-add",{type:"second-factor-sms-otp"}),pe(Zs(Zs({},r),(0,d.Z)(Pn)));else if(e===ee.Tb.FIDO_LOGIN)we.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),pe(Zs(Zs({},r),(0,d.Z)(Rn)));else if(e===ee.Tb.GOOGLE_LOGIN){if(we.publish("application-sign-in-method-click-add",{type:"google-login"}),P(ee.Tb.GOOGLE_LOGIN),(0,p.Z)(t))return void $(!0);if(t.length>1)return se(t[0]),void re(!0);1===t.length&&pe(Zs(Zs({},r),Re(t[0].idp,ee.Tb.GOOGLE_LOGIN)))}else if(e===ee.Tb.GITHUB_LOGIN){if(we.publish("application-sign-in-method-click-add",{type:"github-login"}),P(ee.Tb.GITHUB_LOGIN),(0,p.Z)(n))return void $(!0);if(n.length>1)return se(n[0]),void re(!0);1===n.length&&pe(Zs(Zs({},r),Re(n[0].idp,ee.Tb.GITHUB_LOGIN)))}else if(e===ee.Tb.FACEBOOK_LOGIN){if(we.publish("application-sign-in-method-click-add",{type:"facebook-login"}),P(ee.Tb.FACEBOOK_LOGIN),(0,p.Z)(o))return void $(!0);if(o.length>1)return se(o[0]),void re(!0);1===o.length&&pe(Zs(Zs({},r),Re(o[0].idp,ee.Tb.FACEBOOK_LOGIN)))}else if(e===ee.Tb.MICROSOFT_LOGIN){if(we.publish("application-sign-in-method-click-add",{type:"microsoft-login"}),P(ee.Tb.MICROSOFT_LOGIN),(0,p.Z)(i))return void $(!0);if(i.length>1)return se(i[0]),void re(!0);1===i.length&&pe(Zs(Zs({},r),Re(i[0].idp,ee.Tb.MICROSOFT_LOGIN)))}else if(e===ee.Tb.APPLE_LOGIN){if(we.publish("application-sign-in-method-click-add",{type:"apple-login"}),P(ee.Tb.APPLE_LOGIN),(0,p.Z)(a))return void $(!0);if(a.length>1)return se(a[0]),void re(!0);1===a.length&&pe(Zs(Zs({},r),Re(a[0].idp,ee.Tb.APPLE_LOGIN)))}else e===ee.Tb.MAGIC_LINK?(we.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),pe(Zs(Zs({},r),(0,d.Z)(Ln)))):e===ee.Tb.EMAIL_OTP&&(we.publish("application-sign-in-method-click-add",{type:"email-otp-login"}),pe(Zs(Zs({},r),(0,d.Z)(In))));else pe(r);N(e)},Re=function(e,t){var n={},o=null;return t===ee.Tb.GOOGLE_LOGIN?(n=(0,d.Z)(Tn),o=Ke.b.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===ee.Tb.GITHUB_LOGIN?(n=(0,d.Z)(wn),o=Ke.b.GITHUB_AUTHENTICATOR_NAME):t===ee.Tb.FACEBOOK_LOGIN?(n=(0,d.Z)(An),o=Ke.b.FACEBOOK_AUTHENTICATOR_NAME):t===ee.Tb.MICROSOFT_LOGIN?(n=(0,d.Z)(Nn),o=Ke.b.MICROSOFT_AUTHENTICATOR_NAME):t===ee.Tb.APPLE_LOGIN&&(n=(0,d.Z)(On),o=Ke.b.APPLE_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===o&&(t.idp=e)})),n};return m.createElement(ws,{application:(0,d.Z)(i),isSystemApplication:E,authenticators:U,hiddenAuthenticators:S,onAuthenticatorsRefetch:function(){return Te()},onUpdate:h,isLoading:ne,readOnly:y},m.createElement(ms,{legacyBuilder:m.createElement(m.Fragment,null,b||ne?m.createElement(u.pO,{inline:"centered",active:!0}):y||L||!function(){var e,t,n;if(1!==(null==r||null===(e=r.steps)||void 0===e?void 0:e.length)||1!==(null===(t=r.steps[0].options)||void 0===t?void 0:t.length))return!1;var o=r.steps[0].options[0].authenticator===Ke.b.BASIC_AUTHENTICATOR,i=!r.script||ke.isDefaultScript(r.script,null===(n=r.steps)||void 0===n?void 0:n.length);return o&&i&&r.type===ee.a1.DEFAULT}()?m.createElement(yn,{appId:a,applicationName:null==i?void 0:i.name,isApplicationShared:w,authenticators:U,clientId:l,authenticationSequence:de,onIDPCreateWizardTrigger:function(e,t,n){ve(n),Ae("EXTERNAL"),he(e),$(!1),Ce(!0),Ms=t},onUpdate:h,onReset:function(){N(void 0),P(void 0),$(!1),re(!1),se(void 0),pe(r),he(void 0),Ae(void 0),Ce(!1)},"data-componentid":C,isLoading:ne,setIsLoading:oe,readOnly:y}):m.createElement(Cn,{readOnly:y,clientId:l,onLoginFlowSelect:function(e){Ne(e,F,_,B,H,Y)},"data-componentid":"".concat(C,"-landing")})),onIDPCreateWizardTrigger:function(e,t,n){ve(n),Ae("EXTERNAL"),he(e),$(!1),Ce(!0),Ms=t},readOnly:y}),Ee&&function(){if(be)return m.createElement(ol,{open:Ee,type:be,selectedTemplate:fe,onIDPCreate:function(){Te((function(e,t,n,o,i,a){he(void 0),Ce(!1),Ms&&Ms(),"INTERNAL"===Ie&&Ne(Z,t,n,o,i,a)})).finally()},onWizardClose:function(){he(void 0),Ae(void 0),Ce(!1)}})}(),K&&function(){var e=null,t=null;if(Z===ee.Tb.GOOGLE_LOGIN)e=Ke.b.IDP_TEMPLATE_IDS.GOOGLE,t=Ke.b.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(Z===ee.Tb.GITHUB_LOGIN)e=Ke.b.IDP_TEMPLATE_IDS.GITHUB,t=Ke.b.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(Z===ee.Tb.FACEBOOK_LOGIN)e=Ke.b.IDP_TEMPLATE_IDS.FACEBOOK,t=Ke.b.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(Z===ee.Tb.MICROSOFT_LOGIN)e=Ke.b.IDP_TEMPLATE_IDS.MICROSOFT,t=Ke.b.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(Z!==ee.Tb.APPLE_LOGIN)return null;e=Ke.b.IDP_TEMPLATE_IDS.APPLE,t=Ke.b.APPLE_AUTHENTICATOR_DISPLAY_NAME}return m.createElement(u.cV,{type:"info",onClose:function(){return $(!1)},open:K,primaryAction:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return $(!1)},onPrimaryActionClick:function(){he(e),$(!1),Ce(!0),Ae("INTERNAL")},"data-componentid":"".concat(C,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,null,O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),m.createElement(u.cV.Message,{attached:!0,info:!0},O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),m.createElement(u.cV.Content,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",m.createElement(u.EK,null," ",t,"Authenticator"),". Click on the ",m.createElement("strong",null,"Configure")," button to register a new",m.createElement(u.EK,null,t," Social Connection")," or navigate to the ",m.createElement("a",{onClick:function(){Se.m8.push(Se.$x.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),ae&&function(){var e=null,t=[];if(Z===ee.Tb.GOOGLE_LOGIN)t=Ns(F),e=Ke.b.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(Z===ee.Tb.GITHUB_LOGIN)t=Ns(_),e=Ke.b.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(Z===ee.Tb.FACEBOOK_LOGIN)t=Ns(B),e=Ke.b.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(Z===ee.Tb.MICROSOFT_LOGIN)t=Ns(H),e=Ke.b.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(Z!==ee.Tb.APPLE_LOGIN)return null;t=Ns(Y),e=Ke.b.APPLE_AUTHENTICATOR_DISPLAY_NAME}return m.createElement(u.cV,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return re(!1)},open:ae,primaryAction:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return re(!1)},onPrimaryActionClick:function(){pe(Zs(Zs({},r),Re(ce.idp,Z))),N(Z),re(!1)},"data-componentid":"".concat(C,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,null,O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),m.createElement(u.cV.Message,{attached:!0,warning:!0},O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),m.createElement(u.cV.Content,{scrolling:!0},m.createElement(u.xv,null,m.createElement(v.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",m.createElement(u.EK,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),m.createElement(g.Z,{hidden:!0}),m.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==Ke.b.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return m.createElement(u.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null==ce?void 0:ce.id)===e.id,image:qe.Zs.resolveConnectionResourcePath(A,e.image),label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(C,"-authenticator-").concat(e.name),onClick:function(){return se(e)}})})))))}())};Fs.defaultProps={"data-componentid":"sign-on-methods"}},17052:(e,t,n)=>{"use strict";n.d(t,{e8:()=>me,g3:()=>Se,GH:()=>he});var o=n(81816),i=n(52983),a=n(75917),r=n(16782),l=n(87089),c=n(14603),s=n(90268),u=n(13318),d=n(46440),p=n(17),m=n(67876),f=n(67127),v=n(23587),g=n(62170),b=n(24730),h=n(9202),y=n(54221),E=n(21921),S=n(94635),C=n(74691);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==O(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var L=function(e){var t=e.metadata,n=e.initialValues,a=e.onSubmit,r=e.protocolName,c=e.triggerSubmit,s=e["data-testid"],d=(0,h.$)().t,p=function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:f(null==e?void 0:e.availableValues),"data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-select")}))):null!=e&&e.isConfidential?i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:d("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:d("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===l.og.BOOLEAN?i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-checkbox")}))):i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===l.og.INTEGER?"number":"text","data-testid":"".concat(s,"-").concat(null==e?void 0:e.name,"-input")})))},m=function(){if(t){var e=null==t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null==n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?p(e,t):p(e)}))}},f=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},v=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var i=I(t.value,2),a=i[0],l=i[1],c=void 0;c=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(c)}}catch(s){o.e(s)}finally{o.f()}return{inboundProtocolConfiguration:A({},r,{configName:r,name:r,properties:[].concat(n)})}};return(0,i.useEffect)((function(){t&&m()}),[t]),t?i.createElement(u.Es,{onSubmit:function(e){a(v(e))},submitState:c},i.createElement(S.Z,null,m())):i.createElement(o.pO,null)};L.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var N=n(53337),R=n(39990),Z=n(60611);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var U=function(e){var t,n,r=e.initialValues,l=e.templateValues,c=e.triggerSubmit,s=e.onSubmit,d=e["data-testid"],p=(0,h.$)().t,m=P((0,i.useState)(!1),2),f=m[0],v=m[1];return i.createElement(u.Es,{onSubmit:function(e){return s(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:c},i.createElement(S.Z,null,i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{name:"name",label:p("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:p("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:null==r?void 0:r.name,type:"text","data-testid":"".concat(d,"-application-name-input")}))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{name:"description",label:p("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:p("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),type:"textarea",value:r?null==r?void 0:r.description:null==l?void 0:l.description,"data-testid":"".concat(d,"-application-description-textarea")}))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{name:"imageUrl",label:p("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:p("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){N.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.generalDetails.fields.imageUrl.validations.invalid")))},value:r?null==r?void 0:r.imageUrl:null==l?void 0:l.imageUrl,type:"text","data-testid":"".concat(d,"-application-image-url-input")}))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){v(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:p("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:r?null!=r&&null!==(t=r.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!=l&&null!==(n=l.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(d,"-application-discoverable-checkbox")}),i.createElement(o.kW,{compact:!0},i.createElement(R.c,{i18nKey:"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",i.createElement("a",{href:Z.$x.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),i.createElement(C.Z,{className:"ml-1 link primary",name:"external"}))),i.createElement(a.Z,{hidden:!0}),i.createElement(u.gN,{name:"accessUrl",label:p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:f,requiredErrorMessage:p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){N.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:r?null==r?void 0:r.accessUrl:null==l?void 0:l.accessUrl,"data-testid":"".concat(d,"-application-access-url-input")}),i.createElement(o.kW,{compact:!0},p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint")))))))};U.defaultProps={"data-testid":"application-general-settings-wizard-form"};var x=n(37940),M=n(20656),F=n(43554),D=n(30640),W=n(18606),_=n(22806),j=n(32566);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var V=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,a=e.onSubmit,r=e.setSelectedCustomInboundProtocol,l=e.triggerSubmit,c=e["data-componentid"],s=(0,h.$)().t,u=(0,y.v9)((function(e){return e.application.meta.customInboundProtocols})),d=Q((0,i.useState)(void 0),2),p=d[0],m=d[1],f=Q((0,i.useState)(void 0),2),v=f[0],g=f[1],b=Q((0,i.useState)(!1),2),E=b[0],S=b[1],C=(0,i.useRef)(!0);(0,i.useEffect)((function(){S(!0),_.y.getCustomInboundProtocols(j.oK,!0).finally((function(){S(!1)}))}),[]),(0,i.useEffect)((function(){O()}),[u]),(0,i.useEffect)((function(){C.current?C.current=!1:a(p)}),[l]),(0,i.useEffect)((function(){t&&m(t)}),[t]);var O=function(){var e=[];if(E)return null;(null==u?void 0:u.length)>0&&(u.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.name,name:t.displayName};e.push(n)})),g(e.filter((function(e){return!n.includes(e.authenticationProtocol)}))))};return i.createElement(i.Fragment,null,(null==v?void 0:v.length)>0?i.createElement(F.Z.Group,{className:"authenticators-grid"},v&&v.map((function(e,t){return i.createElement(F.Z,{key:t,onClick:function(){r(!0),m(e)},"data-testid":"".concat(c,"-").concat(e.name),selected:(null==p?void 0:p.id)===e.id,className:(null==p?void 0:p.id)===e.id?"selection-info-card selected":"selection-info-card",size:"small"},i.createElement(F.Z.Content,{className:"p-4"},i.createElement(F.Z.Header,{textAlign:"left",className:"card-header ellipsis pt-1 inline",inline:!0},(0,W.B0)()[e.id]?i.createElement(o.dn,{icon:(0,W.B0)()[e.id],size:"x22",floated:"left",shape:"square",className:"theme-icon hover-rounded card-image p-1",inline:!0}):i.createElement(o.JT,{image:i.createElement(o.Xo,{name:e.id,size:"mini","data-componentid":"".concat(c,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(c,"-item-image"),inline:!0}),e.name),i.createElement(F.Z.Description,{className:"card-description"},e.description)))}))):i.createElement(o.$J,{image:(0,D.jF)().newList,imageSize:"tiny",title:s("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:s("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}))};V.defaultProps={"data-componentid":"application-protocol-selection-wizard-form"};var G=n(83831),H=n(73949);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Y=function(e){var t,n,a,r,c,s=e.summary,u=e.triggerSubmit,d=e.onSubmit,p=e.image,m=e.customProtocol,f=e.samlMetaFileSelected,v=e["data-testid"],g=(0,h.$)().t,b=z((0,i.useState)(""),2),y=b[0],E=b[1];return(0,i.useEffect)((function(){if(u)if(f){var e={metadataFile:null==s?void 0:s.metadataFile};d(e)}else d(s)}),[u]),(0,i.useEffect)((function(){p===l.AI.WS_FEDERATION?E("wsFed"):p===l.AI.WS_TRUST?E("wsTrust"):E(p)}),[p]),i.createElement(S.Z,{className:"wizard-summary","data-testid":v},i.createElement(S.Z.Row,null,i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},i.createElement("div",{className:"general-details"},m?i.createElement(o.Yt,{name:null==s?void 0:s.name,size:"tiny"}):i.createElement(o.JT,{image:_.y.findIcon(y,(0,W.B0)()),size:"tiny"})))),(null==s||null===(t=s.manualConfiguration)||void 0===t?void 0:t.issuer)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null===(n=s.manualConfiguration)||void 0===n?void 0:n.issuer))),(null==s||null===(a=s.manualConfiguration)||void 0===a?void 0:a.serviceProviderQualifier)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},s.manualConfiguration.serviceProviderQualifier))),null!=s&&s.grantTypes&&s.grantTypes instanceof Array&&s.grantTypes.length>0?i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement(H.Z.Group,null,s.grantTypes.map((function(e,t){return i.createElement(H.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==s||null===(r=s.manualConfiguration)||void 0===r?void 0:r.assertionConsumerUrls)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(c=s.manualConfiguration)||void 0===c?void 0:c.assertionConsumerUrls.map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null==s?void 0:s.metadataURL)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.metadataURL.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null==s?void 0:s.metadataURL))),(null==s?void 0:s.metadataFile)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.metaFile.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value constrain"},null==s?void 0:s.metadataFile))),(null==s?void 0:s.callbackURLs)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},G.EncodeDecodeUtils.decodeURLRegex(s.callbackURLs[0]).map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null==s?void 0:s.audience)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null==s?void 0:s.audience))),(null==s?void 0:s.certificateAlias)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null==s?void 0:s.certificateAlias))),(null==s?void 0:s.realm)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null==s?void 0:s.realm))),(null==s?void 0:s.replyTo)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null==s?void 0:s.replyTo))),m&&(null==s?void 0:s.properties.map((function(e){return i.createElement(S.Z.Row,{className:"summary-field",columns:2,key:e.key},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},e.key)),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},e.value)))}))))};Y.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var J=n(61537);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var $=function(e){var t,n,a=e.fields,r=e.hideFieldHints,l=e.initialValues,c=e.templateValues,s=e.triggerSubmit,d=e.onSubmit,p=e["data-testid"],m=(0,h.$)().t,v=q((0,i.useState)(""),2),g=v[0],b=v[1],E=q((0,i.useState)(""),2),C=E[0],O=E[1],I=q((0,i.useState)(""),2),A=I[0],w=I[1],T=q((0,i.useState)(""),2),L=T[0],N=T[1],Z=q((0,i.useState)(!1),2),P=Z[0],k=Z[1],U=q((0,i.useState)(null),2),x=U[0],M=U[1],F=(0,y.v9)((function(e){return e.config}));(0,i.useEffect)((function(){var e;if((0,f.Z)(null==l||null===(e=l.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,o,i,a=null==c||null===(t=c.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,r=null==c||null===(o=c.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i?void 0:i.manualConfiguration.issuer;(0,f.Z)(a)?b(""):b(a.toString()),(0,f.Z)(r)?O(""):O(r.toString())}else{var s,u,d,p,m,v;b(null==l||null===(s=l.inboundProtocolConfiguration)||void 0===s||null===(u=s.saml)||void 0===u||null===(d=u.manualConfiguration.assertionConsumerUrls)||void 0===d?void 0:d.toString()),O(null==l||null===(p=l.inboundProtocolConfiguration)||void 0===p||null===(m=p.saml)||void 0===m||null===(v=m.manualConfiguration.issuer)||void 0===v?void 0:v.toString())}}),[l]),(0,i.useEffect)((function(){var e,t,n,o,i,a;if(c){var r=null==c||null===(e=c.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,l=null==c||null===(o=c.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i||null===(a=i.templateConfiguration)||void 0===a?void 0:a.issuer;r&&Array.isArray(r)&&r.length>0&&w(r[0]),l&&N(l)}}),[c]);var D;return c?i.createElement(u.Es,{onSubmit:function(e){D((function(t){(0,f.Z)(g)&&(0,f.Z)(t)?k(!0):d(function(e,t){var n={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return a&&!a.includes("assertionConsumerURLs")||(n.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):g.split(",")),a&&!a.includes("issuer")||(n.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),a&&!a.includes("applicationQualifier")||(n.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),n}(e,t))}))},submitState:s},i.createElement(S.Z,null,(!a||a.includes("issuer"))&&i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.gN,{name:"issuer",label:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:C,"data-testid":"".concat(p,"-issuer-input")}),!r&&i.createElement(o.kW,null,m("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!a||a.includes("applicationQualifier"))&&i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.gN,{name:"applicationQualifier",label:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==l||null===(t=l.inboundProtocolConfiguration.saml)||void 0===t||null===(n=t.manualConfiguration)||void 0===n?void 0:n.serviceProviderQualifier,"data-testid":"".concat(p,"-application-qualifier-input")}),!r&&i.createElement(o.kW,null,m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!a||a.includes("assertionConsumerURLs"))&&i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},i.createElement(o.wE,{urlState:g,setURLState:b,labelName:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:m("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!G.URLUtils.isURLValid(e,!0)||!G.URLUtils.isHttpUrl(e)&&!G.URLUtils.isHttpsUrl(e))&&(!!G.URLUtils.isMobileDeepLink(e)&&(M(null),!0))},computerWidth:10,required:!0,showError:P,setShowError:k,hint:!r&&m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:m("common:addURL"),duplicateURLErrorMessage:m("common:duplicateURLError"),"data-testid":"".concat(p,"-assertion-consumer-url-input"),getSubmit:function(e){D=e},showPredictions:!1,customLabel:x,popupHeaderPositive:m("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:m("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:m("console:develop.features.URLInput.withLabel.positive.content",{productName:F.ui.productName}),popupContentNegative:m("console:develop.features.URLInput.withLabel.negative.content",{productName:F.ui.productName}),popupDetailedContentPositive:m("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:m("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:m("console:common.validations.inSecureURL.description"),showLessContent:m("common:showLess"),showMoreContent:m("common:showMore")}),A&&i.createElement(o.v0,{type:"info",content:i.createElement(i.Fragment,null,i.createElement(R.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:A}},"Don\u2019t have an app? Try out a sample app using",i.createElement("strong",null,A),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===g||""===g)&&i.createElement(o.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),b(A),O(L)},"data-testid":"".concat(p,"-add-now-button")},i.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):i.createElement(o.pO,null)};$.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var ee=function(e){var t,n,a,r,l,c,s,u,d,p,m,f,v,g,b,y,E,C,O,I,A,w,T,L,N,R,Z,P,k,U,x,M,F=e.summary,D=e.triggerSubmit,W=e.onSubmit,_=e["data-testid"],j=(0,h.$)().t;return(0,i.useEffect)((function(){D&&W(F)}),[D]),i.createElement(S.Z,{className:"wizard-summary","data-testid":_},i.createElement(S.Z.Row,null,i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},i.createElement("div",{className:"general-details"},i.createElement(o.JT,{name:null==F?void 0:F.name,image:null==F?void 0:F.imageUrl,size:"tiny"}),(null==F?void 0:F.name)&&i.createElement(o.X6,{size:"small",className:"name"},F.name),(null==F||null===(t=F.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&i.createElement(H.Z,{className:"info-label"},j("console:develop.features.applications.addWizard.steps.summary.sections.discoverable.heading")),(null==F||null===(n=F.inboundProtocolConfiguration)||void 0===n||null===(a=n.oidc)||void 0===a?void 0:a.publicClient)&&i.createElement(H.Z,{className:"info-label"},j("console:develop.features.applications.addWizard.steps.summary.sections.public.heading")),(null==F||null===(r=F.inboundProtocolConfiguration)||void 0===r||null===(l=r.oidc)||void 0===l||null===(c=l.refreshToken)||void 0===c?void 0:c.renewRefreshToken)&&i.createElement(H.Z,{className:"info-label"},j("console:develop.features.applications.addWizard.steps.summary.sections.renewRefreshToken.heading")),(null==F?void 0:F.description)&&i.createElement("div",{className:"description"},F.description)))),(null==F?void 0:F.accessUrl)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.accessURL.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},F.accessUrl))),(null==F||null===(s=F.inboundProtocolConfiguration)||void 0===s||null===(u=s.saml)||void 0===u||null===(d=u.manualConfiguration)||void 0===d?void 0:d.issuer)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},F.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null==F||null===(p=F.inboundProtocolConfiguration)||void 0===p||null===(m=p.saml)||void 0===m||null===(f=m.manualConfiguration)||void 0===f?void 0:f.serviceProviderQualifier)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},F.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!=F&&null!==(v=F.inboundProtocolConfiguration)&&void 0!==v&&null!==(g=v.oidc)&&void 0!==g&&g.grantTypes&&F.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&F.inboundProtocolConfiguration.oidc.grantTypes.length>0?i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement(H.Z.Group,null,F.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return i.createElement(H.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==F||null===(b=F.inboundProtocolConfiguration)||void 0===b||null===(y=b.saml)||void 0===y||null===(E=y.manualConfiguration)||void 0===E?void 0:E.assertionConsumerUrls)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},F.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null==F||null===(C=F.inboundProtocolConfiguration)||void 0===C||null===(O=C.oidc)||void 0===O?void 0:O.callbackURLs)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},G.EncodeDecodeUtils.decodeURLRegex(F.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null==F||null===(I=F.inboundProtocolConfiguration)||void 0===I||null===(A=I.wsTrust)||void 0===A?void 0:A.audience)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null==F||null===(w=F.inboundProtocolConfiguration)||void 0===w||null===(T=w.wsTrust)||void 0===T?void 0:T.audience))),(null==F||null===(L=F.inboundProtocolConfiguration)||void 0===L||null===(N=L.wsTrust)||void 0===N?void 0:N.certificateAlias)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null==F||null===(R=F.inboundProtocolConfiguration)||void 0===R?void 0:R.wsTrust.certificateAlias))),(null==F||null===(Z=F.inboundProtocolConfiguration)||void 0===Z||null===(P=Z.passiveSts)||void 0===P?void 0:P.realm)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null==F||null===(k=F.inboundProtocolConfiguration)||void 0===k?void 0:k.passiveSts.realm))),(null==F||null===(U=F.inboundProtocolConfiguration)||void 0===U||null===(x=U.passiveSts)||void 0===x?void 0:x.replyTo)&&i.createElement(S.Z.Row,{className:"summary-field",columns:2},i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},j("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(S.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null==F||null===(M=F.inboundProtocolConfiguration)||void 0===M?void 0:M.passiveSts.replyTo))))};ee.defaultProps={"data-testid":"application-wizard-summary"};var te=n(61133);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ie=function(e){var t,n,a=e.initialValues,r=e.templateValues,d=e.triggerSubmit,p=e.onSubmit,m=e["data-testid"],f=(0,h.$)().t,v=(0,y.I0)(),g=ne((0,i.useState)(void 0),2),b=g[0],E=g[1];return(0,i.useEffect)((function(){(0,te.WL)(l.Ii.WS_TRUST).then((function(e){E(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:"Retrieval error"})):v((0,s.V_)({description:"An error occurred retrieving the protocol metadata.",level:c.QU.ERROR,message:"Retrieval error"}))}))}),[]),r&&b?i.createElement(u.Es,{onSubmit:function(e){p(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:d},i.createElement(S.Z,null,i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{name:"audience",label:f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){N.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.invalid")))},value:a?null==a?void 0:a.audience:null==r?void 0:r.audience,"data-testid":"".concat(m,"-audience-input")}),i.createElement(o.kW,null,f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.gN,{label:f("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:b.certificateAlias.defaultValue,value:a?null==a?void 0:a.certificateAlias:null==r?void 0:r.certificateAlias,children:(t=null==b?void 0:b.certificateAlias,n=[],t&&t.options.map((function(e){n.push({key:t.options.indexOf(e),text:e,value:e})})),n),"data-testid":"".concat(m,"-certificate-alias-dropdown")}),i.createElement(o.kW,null,f("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))))):i.createElement(o.pO,null)};ie.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var ae,re=n(61375);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==le(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary"}(ae||(ae={}));var me=function(e){var t=e.closeWizard,n=e.currentStep,a=e.title,O=e.subTitle,I=e.template,A=e.addProtocol,w=e.selectedProtocols,T=e.appId,N=e.onUpdate,R=e["data-testid"],Z=(0,h.$)().t,P=(0,y.I0)(),k=de((0,o.IK)(),3),F=k[0],_=k[1],Q=k[2],B=de((0,i.useState)(void 0),2),G=B[0],H=B[1],z=de((0,i.useState)(n),2),X=z[0],q=z[1],K=de((0,i.useState)(!1),2),ne=K[0],oe=K[1],le=de((0,i.useState)(!1),2),ce=le[0],pe=le[1],me=de((0,i.useState)(!1),1)[0],fe=de((0,i.useState)(void 0),2),ve=fe[0],ge=fe[1],be=de((0,i.useState)(void 0),2),he=be[0],ye=be[1],Ee=de((0,i.useState)(void 0),2),Se=Ee[0],Ce=Ee[1],Oe=de((0,i.useState)(void 0),2),Ie=Oe[0],Ae=Oe[1],we=de((0,i.useState)(I),2),Te=we[0],Le=we[1],Ne=de((0,u.cC)(),2),Re=Ne[0],Ze=Ne[1],Pe=de((0,u.cC)(),2),ke=Pe[0],Ue=Pe[1],xe=de((0,u.cC)(),2),Me=xe[0],Fe=xe[1],De=de((0,u.cC)(),2),We=De[0],_e=De[1];(0,i.useEffect)((function(){if(Te)if(Te.id===re.id){var e=[].concat(Ye);ye(e.splice(1,1))}else Ce((0,g.Z)(Se,ue({},ae.PROTOCOL_SELECTION,Te.authenticationProtocol))),ne||je(Te.id),A?q(X+1):ye(Ye.slice(1))}),[Te,ne]),(0,i.useEffect)((function(){Te&&(0,te.WL)(Te.authenticationProtocol).then((function(e){ge(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?_({description:e.response.data.description,level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")}):_({description:Z("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")})}))}),[ne,Te]),(0,i.useEffect)((function(){if(A){var e=[].concat(Ye);e.splice(1,1),ye(e)}}),[A]),(0,i.useEffect)((function(){void 0!==G&&(q(X-1),H(void 0))}),[G]);var je=function(e){e===l.EL.OIDC?Ae(j.P5.application):e===l.EL.SAML?Ae(j.qF.application):e===l.EL.WS_FEDERATION?Ae(j.qo.application):(0,te.FG)(e).then((function(e){Ae(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?_({description:e.response.data.description,level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.fetchTemplate.error.message")}):_({description:Z("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.fetchTemplate.genericError.message")})}))},Qe=function(e){var t=e;t=se(se({},t),{},{templateId:Te.id}),pe(!0),(0,te.W3)(t).then((function(e){if(P((0,s.V_)({description:Z("console:develop.features.applications.notifications.addApplication.success.description"),level:c.QU.SUCCESS,message:Z("console:develop.features.applications.notifications.addApplication.success.message")})),!(0,f.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),o=0;return Te.id===re.id&&(o=1),void D.m8.push({hash:"#".concat(l.El.TAB_INDEX).concat(o),pathname:D.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(r.jo.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(r.jo.APP_STATE_URL_SEARCH_PARAM_VALUE)})}D.m8.push(D.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?_({description:e.response.data.description,level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.addApplication.error.message")}):_({description:Z("console:develop.features.applications.notifications.addApplication.genericError.description"),level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.addApplication.genericError.message")})})).finally((function(){pe(!1)}))},Be=function(e){pe(!0),(0,te.lp)(T,e,Te.authenticationProtocol).then((function(){P((0,s.V_)({description:Z("console:develop.features.applications.notifications.updateProtocol.success.description"),level:c.QU.SUCCESS,message:Z("console:develop.features.applications.notifications.updateProtocol.success.message")})),N(T),Xe()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?_({description:e.response.data.description,level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.updateProtocol.error.message")}):_({description:Z("console:develop.features.applications.notifications.updateProtocol.genericError.description"),level:c.QU.ERROR,message:Z("console:develop.features.applications.notifications.updateProtocol.error.message")})})).finally((function(){pe(!1)}))},Ve=function(){var e;switch(null===(e=he[X])||void 0===e?void 0:e.name){case ae.PROTOCOL_SELECTION:_e();break;case ae.GENERAL_SETTINGS:Ze();break;case ae.PROTOCOL_SETTINGS:Ue();break;case ae.SUMMARY:Fe()}},Ge=function(e,t){t===ae.PROTOCOL_SELECTION?e?(0,v.Z)(e,Te)?q(X+1):Le(e):_e():(q(X+1),(0,m.Z)(Se,t)?Ce((0,b.Z)(Se,t,e)):Ce((0,g.Z)(Se,ue({},t,e))))},He=function(){if(Se){var e={};if(A){var t=Te.authenticationProtocol;return t===l.AI.WS_FEDERATION?t="passiveSts":t===l.AI.WS_TRUST&&(t="wsTrust"),e=(0,p.Z)(Se[ae.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),Te.id===l.EL.SAML||ne||(e=(0,g.Z)((0,d.Z)(Ie.inboundProtocolConfiguration[t]),e)),e}for(var n=0,o=Object.entries(Se);n<o.length;n++){var i=de(o[n],2),a=i[0],r=i[1];a!==ae.PROTOCOL_SELECTION&&(e=se(se({},e),r))}return(0,g.Z)((0,d.Z)(Ie),e)}},ze=function(e){Se[ae.PROTOCOL_SELECTION]===l.AI.OIDC?delete e.inboundProtocolConfiguration.saml:Se[ae.PROTOCOL_SELECTION]===l.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,Qe(e)},Xe=function(){t()},Ye=[{icon:(0,W.jK)().protocolSelection,name:ae.PROTOCOL_SELECTION,title:Z("console:develop.features.applications.addWizard.steps.protocolSelection.heading")},{icon:(0,W.jK)().general,name:ae.GENERAL_SETTINGS,title:Z("console:develop.features.applications.addWizard.steps.generalSettings.heading")},{icon:(0,W.jK)().protocolConfig,name:ae.PROTOCOL_SETTINGS,title:Z("console:develop.features.applications.addWizard.steps.protocolConfig.heading")},{icon:(0,W.jK)().summary,name:ae.SUMMARY,title:Z("console:develop.features.applications.addWizard.steps.summary.heading")}];return he?i.createElement(E.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:Xe,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(R,"-modal")},i.createElement(E.Z.Header,{className:"wizard-header"},a,O&&i.createElement(o.X6,{as:"h6"},O)),i.createElement(E.Z.Content,{className:"steps-container","data-testid":"".concat(R,"-steps")},i.createElement(o.Rg.Group,{current:X},he.map((function(e,t){return i.createElement(o.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(R,"-step-").concat(t)})})))),i.createElement(E.Z.Content,{className:"content-container",scrolling:!0},F&&Q,function(){var e;switch(null===(e=he[X])||void 0===e?void 0:e.name){case ae.PROTOCOL_SELECTION:return i.createElement(V,{initialSelectedTemplate:Te,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SELECTION)},defaultTemplates:[],triggerSubmit:We,selectedProtocols:w,setSelectedCustomInboundProtocol:oe,"data-testid":"".concat(R,"-protocol-selection-form")});case ae.GENERAL_SETTINGS:return Te.id===re.id?i.createElement(U,{triggerSubmit:Re,initialValues:Se&&Se[ae.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,l.M7)(),n=0,o=Object.entries(e);n<o.length;n++){var i=de(o[n],2),a=i[0],r=i[1];t=se(se({},t),{},ue({},a,r))}Qe(t)}(e)},templateValues:Ie,"data-testid":"".concat(R,"-general-settings-form")}):i.createElement(U,{triggerSubmit:Re,initialValues:Se&&Se[ae.GENERAL_SETTINGS],onSubmit:function(e){return Ge(e,ae.GENERAL_SETTINGS)},templateValues:Ie,"data-testid":"".concat(R,"-general-settings-form")});case ae.PROTOCOL_SETTINGS:if(Se&&Se[ae.PROTOCOL_SELECTION]){if(ne)return i.createElement(L,{triggerSubmit:ke,protocolName:Te.id,initialValues:Se&&Se[ae.PROTOCOL_SETTINGS],metadata:ve,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-custom-protocol-settings-form")});if(Se[ae.PROTOCOL_SELECTION]===l.AI.OIDC)return i.createElement(x.A,{isProtocolConfig:!0,selectedTemplate:Te,triggerSubmit:ke,fields:["callbackURLs"],initialValues:Se&&Se[ae.PROTOCOL_SETTINGS],templateValues:Ie,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(R,"-oauth-protocol-settings-form")});if(Se[ae.PROTOCOL_SELECTION]===l.AI.SAML)return Te.id===l.EL.SAML?i.createElement(J._,{triggerSubmit:ke,initialValues:Se&&Se[ae.PROTOCOL_SETTINGS],templateValues:Ie,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-saml-protocol-all-settings-form")}):i.createElement($,{triggerSubmit:ke,initialValues:Se&&Se[ae.PROTOCOL_SETTINGS],templateValues:Ie,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-saml-protocol-settings-form")});if(Se[ae.PROTOCOL_SELECTION]===l.AI.WS_TRUST)return i.createElement(ie,{triggerSubmit:ke,initialValues:Se&&Se[ae.PROTOCOL_SETTINGS],templateValues:Ie,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-ws-trust-protocol-settings-form")});if(Se[ae.PROTOCOL_SELECTION]===l.AI.WS_FEDERATION)return i.createElement(M.u,{triggerSubmit:ke,initialValues:Se&&Se[ae.PROTOCOL_SETTINGS],templateValues:Ie,onSubmit:function(e){return Ge(e,ae.PROTOCOL_SETTINGS)},"data-testid":"".concat(R,"-passive-sts-protocol-settings-form")})}return null;case ae.SUMMARY:return A?i.createElement(Y,{triggerSubmit:Me,summary:He(),onSubmit:Be,image:Te.authenticationProtocol,customProtocol:ne,samlMetaFileSelected:me,"data-testid":"".concat(R,"-protocol-summary")}):i.createElement(ee,{triggerSubmit:Me,summary:He(),onSubmit:ze,"data-testid":"".concat(R,"-summary")})}}()),i.createElement(E.Z.Actions,null,i.createElement(S.Z,null,i.createElement(S.Z.Row,{column:1},i.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},i.createElement(o.Qj,{"data-testid":"".concat(R,"-cancel-button"),floated:"left",onClick:Xe},Z("common:cancel"))),i.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},X<he.length-1&&i.createElement(o.KM,{floated:"right",onClick:Ve,"data-testid":"".concat(R,"-next-button")},Z("common:next"),i.createElement(C.Z,{name:"arrow right"})),X===he.length-1&&i.createElement(o.KM,{floated:"right",onClick:Ve,"data-testid":"".concat(R,"-finish-button"),loading:ce,disabled:ce},Z("common:finish")),X>0&&i.createElement(o.Qj,{floated:"right",onClick:function(){H(X)},"data-testid":"".concat(R,"-previous-button")},i.createElement(C.Z,{name:"arrow left"}),Z("common:previous"))))))):null};me.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var fe=n(90009),ve=n(28900);function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var he=function(e){var t=e.initialValues,n=e.idpList,a=e.triggerSubmit,r=e.onSubmit,l=e.isEdit,c=e.readOnly,s=e.isSubmitting,d=e["data-testid"],p=(0,h.$)().t,m=ge((0,i.useState)([]),2),f=m[0],v=m[1],g=ge((0,i.useState)(void 0),2),b=g[0],y=g[1],E=ge((0,i.useState)(),2),C=E[0],O=E[1],I=ge((0,i.useState)(null==t?void 0:t.blocking),2),A=I[0],w=I[1],T=ge((0,i.useState)(null==t?void 0:t.jit),2),L=T[0],N=T[1],R=ge((0,i.useState)(null==t?void 0:t.rules),2),Z=R[0],P=R[1],k=ge((0,i.useState)(null==t?void 0:t.connector),2),U=k[0],x=k[1],M=(0,fe.Z)().UIConfig;(0,i.useEffect)((function(){if(n&&null!=t&&t.idp){var e=null==n?void 0:n.find((function(e){return e.name===(null==t?void 0:t.idp)}));O(null==e?void 0:e.id)}}),[n]),(0,i.useEffect)((function(){if(n){var e=[],t={key:-1,text:"",value:""};n.map((function(n,o){t={key:o,text:n.name,value:n.id},e.push(t)})),v(e)}}),[n]),(0,i.useEffect)((function(){if(C){var e=[],t={key:-1,text:"",value:""};(0,ve.OL)(C).then((function(n){n.provisioning.outboundConnectors.connectors.map((function(n,o){n.isEnabled&&(t={key:o,text:n.name,value:n.name},e.push(t))})),y(e)}))}}),[C]);return i.createElement(u.Es,{onSubmit:function(e){return r(function(e){var t=f.find((function(e){return e.value===C})).text;return{blocking:A||!!e.get("blocking").includes("blocking"),connector:U,idp:t,jit:L||!!e.get("jit").includes("jit"),rules:Z||!!e.get("blocking").includes("blocking")}}(e))},submitState:a&&a},i.createElement(S.Z,null,!l&&i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.placeholder"),name:"idp",children:f,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.validations.empty"),readOnly:c,required:!1,value:null==t?void 0:t.idp,listen:function(e){O(e.get("idp").toString())},"data-testid":"".concat(d,"-idp-dropdown")}))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:b,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:c,required:!0,value:null==t?void 0:t.connector,listen:function(e){x(e.get("connector").toString())},"data-testid":"".concat(d,"-provisioning-connector-dropdown")}),(null==b?void 0:b.length)<=0&&i.createElement(o.kW,{icon:"warning sign"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),(null==M?void 0:M.isXacmlConnectorEnabled)&&i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=t&&t.rules?["rules"]:[],listen:function(e){P(e.get("rules").includes("rules"))},readOnly:c,"data-testid":"".concat(d,"-rules-checkbox")}),i.createElement(o.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.hint")))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:c,value:null!=t&&t.blocking?["blocking"]:[],listen:function(e){w(e.get("blocking").includes("blocking"))},"data-testid":"".concat(d,"-blocking-checkbox")}),i.createElement(o.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.hint")))),i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.gN,{name:"jit",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.label"),value:"jit"}],value:null!=t&&t.jit?["jit"]:[],listen:function(e){N(e.get("jit").includes("jit"))},readOnly:c,"data-testid":"".concat(d,"-jit-checkbox")}),i.createElement(o.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.hint")))),l&&!c&&i.createElement(S.Z.Row,{columns:1},i.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(o.KM,{type:"submit",size:"small",className:"form-button","data-testid":"".concat(d,"-submit-button"),loading:s,disabled:s},p("common:update"))))))};function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}he.defaultProps={"data-testid":"application-outbound-provisioning-wizard-idp-form"};var Se=function(e){var t=e.application,n=e.closeWizard,a=e.currentStep,r=e.onUpdate,l=e["data-testid"],d=(0,h.$)().t,p=(0,y.I0)(),m=ye((0,u.cC)(),2),f=m[0],v=m[1],g=ye((0,i.useState)(void 0),2),b=g[0],O=g[1],I=ye((0,i.useState)(a),2),A=I[0],w=I[1],T=ye((0,i.useState)(void 0),2),L=T[0],N=T[1],R=ye((0,i.useState)(!1),2),Z=R[0],P=R[1];(0,i.useEffect)((function(){void 0!==b&&(w(A-1),O(void 0))}),[b]),(0,i.useEffect)((function(){L||(0,ve.SN)().then((function(e){N(e.identityProviders)}))}),[]);var k=function(){if(0===A)v()},U=function(e){var o;if(null!=t&&null!==(o=t.provisioningConfigurations)&&void 0!==o&&o.outboundProvisioningIdps.find((function(t){return t.connector===e.connector&&t.idp===e.idp})))return p((0,s.V_)({description:d("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.description"),level:c.QU.ERROR,message:d("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.message")})),void n();!function(e,o){P(!0),(0,te.TH)(e,o).then((function(){p((0,s.V_)({description:d("console:develop.features.applications.notifications.updateApplication.success.description"),level:c.QU.SUCCESS,message:d("console:develop.features.applications.notifications.updateApplication.success.message")})),r(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?p((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:d("console:develop.features.applications.notifications.updateApplication.error.message")})):p((0,s.V_)({description:d("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:c.QU.ERROR,message:d("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){P(!1),n()}))}(t.id,function(e){var n,o=null==t||null===(n=t.provisioningConfigurations)||void 0===n?void 0:n.outboundProvisioningIdps;return o.push(e),{provisioningConfigurations:{outboundProvisioningIdps:o}}}(e))},x=[{content:i.createElement(he,{initialValues:null,triggerSubmit:f,onSubmit:function(e){U(e)},idpList:L,"data-testid":"".concat(l,"-form"),isSubmitting:Z}),icon:(0,W.jK)().general,title:d("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.steps.details")}];return i.createElement(E.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":l,closeOnDimmerClick:!1,closeOnEscape:!0},i.createElement(E.Z.Header,{className:"wizard-header"},d("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.heading"),i.createElement(o.X6,{as:"h6"},d("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.subHeading"))),i.createElement(E.Z.Content,{className:"steps-container"},i.createElement(o.Rg.Group,{current:A,"data-testid":"".concat(l,"-steps")},x.map((function(e,t){return i.createElement(o.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(l,"-step-").concat(t)})})))),i.createElement(E.Z.Content,{className:"content-container",scrolling:!0},x[A].content),i.createElement(E.Z.Actions,null,i.createElement(S.Z,null,i.createElement(S.Z.Row,{column:1},i.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},i.createElement(o.Qj,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(l,"-cancel-button")},d("common:cancel"))),i.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},A<x.length-1&&i.createElement(o.KM,{floated:"right",onClick:k,"data-testid":"".concat(l,"-next-button")},d("common:next"),i.createElement(C.Z,{name:"arrow right"})),A===x.length-1&&i.createElement(o.KM,{floated:"right",onClick:k,"data-testid":"".concat(l,"-finish-button"),loading:Z,disabled:Z},d("common:finish")),A>0&&i.createElement(o.Qj,{floated:"right",onClick:function(){O(A)},"data-testid":"".concat(l,"-previous-button")},i.createElement(C.Z,{name:"arrow left"}),d("common:previous")))))))};Se.defaultProps={currentStep:0,"data-testid":"outbound-provisioning-idp-create-wizard"};n(37340)},78536:e=>{e.exports=[[e.id,".client-attestation-info-alert{margin-bottom:1rem}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkdmFuY2VkLWNvbmZpZ3VyYXRpb25zLWZvcm0uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQkFBK0Isa0JBQWtCIiwiZmlsZSI6ImFkdmFuY2VkLWNvbmZpZ3VyYXRpb25zLWZvcm0uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jbGllbnQtYXR0ZXN0YXRpb24taW5mby1hbGVydHttYXJnaW4tYm90dG9tOjFyZW19Il19 */","",""]]},14521:e=>{e.exports=[[e.id,".passkey-adaptive-script-accordion-content{padding-left:calc(1.25em + .25rem) !important}.passkey-adaptive-script-accordion-content .code-segment{margin-top:10px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24taW4tbWV0aG9kLWN1c3RvbWl6YXRpb24uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwyQ0FBMkMsNkNBQTZDLENBQUMseURBQXlELGVBQWUiLCJmaWxlIjoic2lnbi1pbi1tZXRob2QtY3VzdG9taXphdGlvbi5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhc3NrZXktYWRhcHRpdmUtc2NyaXB0LWFjY29yZGlvbi1jb250ZW50e3BhZGRpbmctbGVmdDpjYWxjKDEuMjVlbSArIC4yNXJlbSkgIWltcG9ydGFudH0ucGFzc2tleS1hZGFwdGl2ZS1zY3JpcHQtYWNjb3JkaW9uLWNvbnRlbnQgLmNvZGUtc2VnbWVudHttYXJnaW4tdG9wOjEwcHh9Il19 */","",""]]},33955:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-react-flow-canvas-background: #f8f7f5;--asg-auth-flow-builder-react-flow-handle-color: #696969}.visual-editor{height:63vh}.visual-editor.with-panel{width:calc(100% - var(--asg-auth-flow-builder-side-panel-drawer-mini-width))}.visual-editor .react-flow{background-color:var(--asg-auth-flow-builder-react-flow-canvas-background)}.visual-editor .react-flow .react-flow__handle{opacity:0}.visual-editor .update-button{position:absolute;right:0;bottom:0;margin:15px;z-index:9;box-shadow:#fff 0px 0px 12px 20px}.visual-editor .sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:32px}.visual-editor .visual-editor-info-message{position:absolute;z-index:9;width:100%;border-radius:0}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0aW9uLWZsb3ctdmlzdWFsLWVkaXRvci5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sNkRBQTZELENBQUMsd0RBQXdELENBQUMsZUFBZSxXQUFXLENBQUMsMEJBQTBCLDRFQUE0RSxDQUFDLDJCQUEyQiwwRUFBMEUsQ0FBQywrQ0FBK0MsU0FBUyxDQUFDLDhCQUE4QixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsaUNBQWlDLENBQUMsc0VBQXNFLGVBQWUsQ0FBQywyQ0FBMkMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxlQUFlIiwiZmlsZSI6ImF1dGhlbnRpY2F0aW9uLWZsb3ctdmlzdWFsLWVkaXRvci5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3R7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItcmVhY3QtZmxvdy1jYW52YXMtYmFja2dyb3VuZDogI2Y4ZjdmNTstLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1yZWFjdC1mbG93LWhhbmRsZS1jb2xvcjogIzY5Njk2OX0udmlzdWFsLWVkaXRvcntoZWlnaHQ6NjN2aH0udmlzdWFsLWVkaXRvci53aXRoLXBhbmVse3dpZHRoOmNhbGMoMTAwJSAtIHZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci1taW5pLXdpZHRoKSl9LnZpc3VhbC1lZGl0b3IgLnJlYWN0LWZsb3d7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItcmVhY3QtZmxvdy1jYW52YXMtYmFja2dyb3VuZCl9LnZpc3VhbC1lZGl0b3IgLnJlYWN0LWZsb3cgLnJlYWN0LWZsb3dfX2hhbmRsZXtvcGFjaXR5OjB9LnZpc3VhbC1lZGl0b3IgLnVwZGF0ZS1idXR0b257cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtib3R0b206MDttYXJnaW46MTVweDt6LWluZGV4Ojk7Ym94LXNoYWRvdzojZmZmIDBweCAwcHggMTJweCAyMHB4fS52aXN1YWwtZWRpdG9yIC5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tbG9nb3ttYXgtaGVpZ2h0OjMycHh9LnZpc3VhbC1lZGl0b3IgLnZpc3VhbC1lZGl0b3ItaW5mby1tZXNzYWdle3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTt3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6MH0iXX0= */","",""]]},58105:e=>{e.exports=[[e.id,".add-step-button-wrapper{position:absolute;font-size:12px;pointer-events:all}.add-step-button.MuiButtonBase-root{height:36px;width:36px;color:var(--oxygen-palette-common-white);background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:none}.add-step-button.MuiButtonBase-root:hover,.add-step-button.MuiButtonBase-root:active{background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:0px 3px 5px -1px rgba(0,0,0,.2),0px 6px 10px 0px rgba(0,0,0,.14),0px 1px 18px 0px rgba(0,0,0,.12)}.add-step-button.MuiButtonBase-root .oxygen-icon{width:20px;height:20px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXAtYWRkaXRpb24tZWRnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlCQUF5QixpQkFBaUIsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsb0NBQW9DLFdBQVcsQ0FBQyxVQUFVLENBQUMsd0NBQXdDLENBQUMscUVBQXFFLENBQUMsZUFBZSxDQUFDLHFGQUFxRixxRUFBcUUsQ0FBQyw0R0FBNEcsQ0FBQyxpREFBaUQsVUFBVSxDQUFDLFdBQVciLCJmaWxlIjoic3RlcC1hZGRpdGlvbi1lZGdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRkLXN0ZXAtYnV0dG9uLXdyYXBwZXJ7cG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOjEycHg7cG9pbnRlci1ldmVudHM6YWxsfS5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290e2hlaWdodDozNnB4O3dpZHRoOjM2cHg7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLXdoaXRlKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1yZWFjdC1mbG93LWhhbmRsZS1jb2xvcik7Ym94LXNoYWRvdzpub25lfS5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290OmhvdmVyLC5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290OmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1yZWFjdC1mbG93LWhhbmRsZS1jb2xvcik7Ym94LXNoYWRvdzowcHggM3B4IDVweCAtMXB4IHJnYmEoMCwwLDAsLjIpLDBweCA2cHggMTBweCAwcHggcmdiYSgwLDAsMCwuMTQpLDBweCAxcHggMThweCAwcHggcmdiYSgwLDAsMCwuMTIpfS5hZGQtc3RlcC1idXR0b24uTXVpQnV0dG9uQmFzZS1yb290IC5veHlnZW4taWNvbnt3aWR0aDoyMHB4O2hlaWdodDoyMHB4fSJdfQ== */","",""]]},29807:e=>{e.exports=[[e.id,".done-node.MuiFab-root{pointer-events:none;box-shadow:none;color:var(--oxygen-palette-common-white);background-color:rgba(0,0,0,0);display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;border:3px solid var(--oxygen-customComponents-Chip-properties-new-background)}.done-node.MuiFab-root .oxygen-typography{margin-left:5px;color:var(--oxygen-palette-common-white)}.done-node.MuiFab-root svg{height:30px;width:30px;stroke:var(--oxygen-customComponents-Chip-properties-new-background)}.done-node.MuiFab-root svg path{fill:var(--oxygen-customComponents-Chip-properties-new-background)}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbmUtbm9kZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QixtQkFBbUIsQ0FBQyxlQUFlLENBQUMsd0NBQXdDLENBQUMsOEJBQThCLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDLDhFQUE4RSxDQUFDLDBDQUEwQyxlQUFlLENBQUMsd0NBQXdDLENBQUMsMkJBQTJCLFdBQVcsQ0FBQyxVQUFVLENBQUMsb0VBQW9FLENBQUMsZ0NBQWdDLGtFQUFrRSIsImZpbGUiOiJkb25lLW5vZGUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kb25lLW5vZGUuTXVpRmFiLXJvb3R7cG9pbnRlci1ldmVudHM6bm9uZTtib3gtc2hhZG93Om5vbmU7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLXdoaXRlKTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMCk7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlcjozcHggc29saWQgdmFyKC0tb3h5Z2VuLWN1c3RvbUNvbXBvbmVudHMtQ2hpcC1wcm9wZXJ0aWVzLW5ldy1iYWNrZ3JvdW5kKX0uZG9uZS1ub2RlLk11aUZhYi1yb290IC5veHlnZW4tdHlwb2dyYXBoeXttYXJnaW4tbGVmdDo1cHg7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLXdoaXRlKX0uZG9uZS1ub2RlLk11aUZhYi1yb290IHN2Z3toZWlnaHQ6MzBweDt3aWR0aDozMHB4O3N0cm9rZTp2YXIoLS1veHlnZW4tY3VzdG9tQ29tcG9uZW50cy1DaGlwLXByb3BlcnRpZXMtbmV3LWJhY2tncm91bmQpfS5kb25lLW5vZGUuTXVpRmFiLXJvb3Qgc3ZnIHBhdGh7ZmlsbDp2YXIoLS1veHlnZW4tY3VzdG9tQ29tcG9uZW50cy1DaGlwLXByb3BlcnRpZXMtbmV3LWJhY2tncm91bmQpfSJdfQ== */","",""]]},50128:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border: 2px dashed var(--oxygen-palette-divider)}.sign-in-box-node .oxygen-sign-in{display:flex;flex-flow:column nowrap;align-content:center;justify-content:center;align-items:center;text-align:left}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-box{padding:32px;width:350px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:50px;margin-bottom:30px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-header{margin-bottom:32px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-sub-header{margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-text-field{margin-bottom:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-cta{margin:16px 0}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link{font-size:14px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link-action{margin-left:5px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options{margin-top:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button{position:absolute;z-index:999;right:29px;margin-top:-8px;background:#fff;width:20px;border:1px solid var(--oxygen-palette-divider);height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option:not(:last-child){margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button{background:var(--oxygen-palette-common-white);color:var(--oxygen-palette-common-black);width:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 1px 0 rgba(0,0,0,.12),0 1px 1px 0 rgba(0,0,0,.24)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button:hover{color:rgba(0,0,0,.8)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button .oxygen-sign-in-option-image{height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add{background:rgba(0,0,0,0);box-shadow:none;border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);-webkit-animation:pulsing-success 1500ms cubic-bezier(0, 0, 0.2, 1) infinite;animation:pulsing-success 1500ms cubic-bezier(0, 0, 0.2, 1) infinite}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add .pulsating-badge{margin-left:14px}.sign-in-box-node .remove-button{position:absolute;z-index:999;right:-12px;margin-top:-10px;background:#fff;border:1px solid var(--oxygen-palette-divider);width:25px;height:25px}.sign-in-box-node .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .additional-behaviors{margin-top:15px}.sign-in-box-node .step-id{margin-bottom:10px}@-webkit-keyframes pulsing-success{0%{box-shadow:0 0 0 0 rgba(76,175,80,.5)}70%{box-shadow:0 0 0 8px rgba(76,175,80,0)}100%{box-shadow:0 0 0 0 rgba(76,175,80,0)}}@keyframes pulsing-success{0%{box-shadow:0 0 0 0 rgba(76,175,80,.5)}70%{box-shadow:0 0 0 8px rgba(76,175,80,0)}100%{box-shadow:0 0 0 0 rgba(76,175,80,0)}}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls{display:flex;flex-direction:row;justify-content:flex-end;gap:10px;margin-right:-10px;margin-left:-10px;margin-bottom:10px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button{width:20px;height:20px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button svg{fill:var(--oxygen-palette-text-secondary)}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-control-fields{border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);padding:10px 10px 0 10px;margin-right:-10px;margin-left:-10px}.totp-fragment .pin-code-input-fields,.sms-otp-fragment .pin-code-input-fields{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:12px;text-align:center}.totp-fragment .pin-code-input-fields .MuiInputBase-input,.sms-otp-fragment .pin-code-input-fields .MuiInputBase-input{text-align:center}.email-otp-fragment .otp-input .MuiFormLabel-root{text-wrap:wrap}.sms-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child,.email-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child{margin-bottom:0px}.active-sessions-limit-fragment table,.active-sessions-limit-fragment th,.active-sessions-limit-fragment td{border:1px solid var(--oxygen-palette-divider);border-collapse:collapse;border-style:inset;text-align:center;font-size:1rem}.active-sessions-limit-fragment table{width:100%;margin-bottom:10px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24taW4tYm94LW5vZGUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLDRHQUE0RyxDQUFDLGtDQUFrQyxZQUFZLENBQUMsdUJBQXVCLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLHNEQUFzRCxZQUFZLENBQUMsV0FBVyxDQUFDLHVEQUF1RCxlQUFlLENBQUMsa0JBQWtCLENBQUMseURBQXlELGtCQUFrQixDQUFDLDZEQUE2RCxrQkFBa0IsQ0FBQywwRUFBMEUsa0JBQWtCLENBQUMsMkVBQTJFLGFBQWEsQ0FBQyxvRkFBb0YsY0FBYyxDQUFDLDJGQUEyRixlQUFlLENBQUMsMERBQTBELGVBQWUsQ0FBQyxnR0FBZ0csaUJBQWlCLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyw4Q0FBOEMsQ0FBQyxXQUFXLENBQUMsb0dBQW9HLHlDQUF5QyxDQUFDLHNHQUFzRyxrQ0FBa0MsQ0FBQyxrR0FBa0csa0JBQWtCLENBQUMseUVBQXlFLDZDQUE2QyxDQUFDLHdDQUF3QyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsa0JBQWtCLENBQUMsc0JBQXNCLENBQUMsZ0VBQWdFLENBQUMsK0VBQStFLG9CQUFvQixDQUFDLHNHQUFzRyxXQUFXLENBQUMsbUdBQW1HLHdCQUF3QixDQUFDLGVBQWUsQ0FBQyw4RUFBOEUsQ0FBQyw0RUFBbUUsQ0FBbkUsb0VBQW9FLENBQUMsb0hBQW9ILGdCQUFnQixDQUFDLGlDQUFpQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyw4Q0FBOEMsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLHFDQUFxQyx5Q0FBeUMsQ0FBQyx1Q0FBdUMsa0NBQWtDLENBQUMsd0NBQXdDLGVBQWUsQ0FBQywyQkFBMkIsa0JBQWtCLENBQUMsbUNBQTJCLEdBQUcscUNBQXFDLENBQUMsSUFBSSxzQ0FBc0MsQ0FBQyxLQUFLLG9DQUFvQyxDQUFDLENBQXpKLDJCQUEyQixHQUFHLHFDQUFxQyxDQUFDLElBQUksc0NBQXNDLENBQUMsS0FBSyxvQ0FBb0MsQ0FBQyxDQUFDLHNFQUFzRSxZQUFZLENBQUMsa0JBQWtCLENBQUMsd0JBQXdCLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLHFGQUFxRixVQUFVLENBQUMsV0FBVyxDQUFDLHlGQUF5Rix5Q0FBeUMsQ0FBQyw0RUFBNEUsOEVBQThFLENBQUMsd0JBQXdCLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsK0VBQStFLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQyxzQkFBc0IsQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLENBQUMsdUhBQXVILGlCQUFpQixDQUFDLGtEQUFrRCxjQUFjLENBQUMsZ0tBQWdLLGlCQUFpQixDQUFDLDRHQUE0Ryw4Q0FBOEMsQ0FBQyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsc0NBQXNDLFVBQVUsQ0FBQyxrQkFBa0IiLCJmaWxlIjoic2lnbi1pbi1ib3gtbm9kZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3R7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3MtYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMtYm9yZGVyOiAycHggZGFzaGVkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpfS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbntkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbiBub3dyYXA7YWxpZ24tY29udGVudDpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7dGV4dC1hbGlnbjpsZWZ0fS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tYm94e3BhZGRpbmc6MzJweDt3aWR0aDozNTBweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWxvZ297bWF4LWhlaWdodDo1MHB4O21hcmdpbi1ib3R0b206MzBweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWhlYWRlcnttYXJnaW4tYm90dG9tOjMycHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1zdWItaGVhZGVye21hcmdpbi1ib3R0b206MTZweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWZvcm0gLm94eWdlbi10ZXh0LWZpZWxke21hcmdpbi1ib3R0b206MjBweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLWZvcm0gLm94eWdlbi1zaWduLWluLWN0YXttYXJnaW46MTZweCAwfS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tZm9ybSAub3h5Z2VuLXNpZ24taW4tc2lnbi11cC1saW5re2ZvbnQtc2l6ZToxNHB4fS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tZm9ybSAub3h5Z2VuLXNpZ24taW4tc2lnbi11cC1saW5rLWFjdGlvbnttYXJnaW4tbGVmdDo1cHh9LnNpZ24taW4tYm94LW5vZGUgLm94eWdlbi1zaWduLWluIC5veHlnZW4tc2lnbi1pbi1vcHRpb25ze21hcmdpbi10b3A6MTZweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1zaWduLWluLW9wdGlvbiAucmVtb3ZlLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Ojk5OTtyaWdodDoyOXB4O21hcmdpbi10b3A6LThweDtiYWNrZ3JvdW5kOiNmZmY7d2lkdGg6MjBweDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpO2hlaWdodDoyMHB4fS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tb3B0aW9ucyAub3h5Z2VuLXNpZ24taW4tb3B0aW9uIC5yZW1vdmUtYnV0dG9uIHN2Z3tmaWxsOnZhcigtLW94eWdlbi1wYWxldHRlLXRleHQtc2Vjb25kYXJ5KX0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1zaWduLWluLW9wdGlvbiAucmVtb3ZlLWJ1dHRvbjpob3Zlcntib3gtc2hhZG93OnZhcigtLW94eWdlbi1zaGFkb3dzLTApfS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tb3B0aW9ucyAub3h5Z2VuLXNpZ24taW4tb3B0aW9uOm5vdCg6bGFzdC1jaGlsZCl7bWFyZ2luLWJvdHRvbToxNnB4fS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tb3B0aW9ucyAub3h5Z2VuLWJ1dHRvbntiYWNrZ3JvdW5kOnZhcigtLW94eWdlbi1wYWxldHRlLWNvbW1vbi13aGl0ZSk7Y29sb3I6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtY29tbW9uLWJsYWNrKTt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3gtc2hhZG93OjAgMCAxcHggMCByZ2JhKDAsMCwwLC4xMiksMCAxcHggMXB4IDAgcmdiYSgwLDAsMCwuMjQpfS5zaWduLWluLWJveC1ub2RlIC5veHlnZW4tc2lnbi1pbiAub3h5Z2VuLXNpZ24taW4tb3B0aW9ucyAub3h5Z2VuLWJ1dHRvbjpob3Zlcntjb2xvcjpyZ2JhKDAsMCwwLC44KX0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1idXR0b24gLm94eWdlbi1zaWduLWluLW9wdGlvbi1pbWFnZXtoZWlnaHQ6MjBweH0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1idXR0b24ub3h5Z2VuLXNpZ24taW4tb3B0aW9uLWFkZHtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMCk7Ym94LXNoYWRvdzpub25lO2JvcmRlcjp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3MtYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMtYm9yZGVyKTthbmltYXRpb246cHVsc2luZy1zdWNjZXNzIDE1MDBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKSBpbmZpbml0ZX0uc2lnbi1pbi1ib3gtbm9kZSAub3h5Z2VuLXNpZ24taW4gLm94eWdlbi1zaWduLWluLW9wdGlvbnMgLm94eWdlbi1idXR0b24ub3h5Z2VuLXNpZ24taW4tb3B0aW9uLWFkZCAucHVsc2F0aW5nLWJhZGdle21hcmdpbi1sZWZ0OjE0cHh9LnNpZ24taW4tYm94LW5vZGUgLnJlbW92ZS1idXR0b257cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo5OTk7cmlnaHQ6LTEycHg7bWFyZ2luLXRvcDotMTBweDtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTt3aWR0aDoyNXB4O2hlaWdodDoyNXB4fS5zaWduLWluLWJveC1ub2RlIC5yZW1vdmUtYnV0dG9uIHN2Z3tmaWxsOnZhcigtLW94eWdlbi1wYWxldHRlLXRleHQtc2Vjb25kYXJ5KX0uc2lnbi1pbi1ib3gtbm9kZSAucmVtb3ZlLWJ1dHRvbjpob3Zlcntib3gtc2hhZG93OnZhcigtLW94eWdlbi1zaGFkb3dzLTApfS5zaWduLWluLWJveC1ub2RlIC5hZGRpdGlvbmFsLWJlaGF2aW9yc3ttYXJnaW4tdG9wOjE1cHh9LnNpZ24taW4tYm94LW5vZGUgLnN0ZXAtaWR7bWFyZ2luLWJvdHRvbToxMHB4fUBrZXlmcmFtZXMgcHVsc2luZy1zdWNjZXNzezAle2JveC1zaGFkb3c6MCAwIDAgMCByZ2JhKDc2LDE3NSw4MCwuNSl9NzAle2JveC1zaGFkb3c6MCAwIDAgOHB4IHJnYmEoNzYsMTc1LDgwLDApfTEwMCV7Ym94LXNoYWRvdzowIDAgMCAwIHJnYmEoNzYsMTc1LDgwLDApfX0uYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMtd3JhcHBlciAuYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHN7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7Z2FwOjEwcHg7bWFyZ2luLXJpZ2h0Oi0xMHB4O21hcmdpbi1sZWZ0Oi0xMHB4O21hcmdpbi1ib3R0b206MTBweH0uYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMtd3JhcHBlciAuYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMgLmFjdGlvbi1idXR0b257d2lkdGg6MjBweDtoZWlnaHQ6MjBweH0uYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMtd3JhcHBlciAuYmFzaWMtc2lnbi1pbi1vcHRpb24tY29udHJvbHMgLmFjdGlvbi1idXR0b24gc3Zne2ZpbGw6dmFyKC0tb3h5Z2VuLXBhbGV0dGUtdGV4dC1zZWNvbmRhcnkpfS5iYXNpYy1zaWduLWluLW9wdGlvbi1jb250cm9scy13cmFwcGVyIC5iYXNpYy1zaWduLWluLW9wdGlvbi1jb250cm9sLWZpZWxkc3tib3JkZXI6dmFyKC0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLWZsb3dzLWJhc2ljLXNpZ24taW4tb3B0aW9uLWNvbnRyb2xzLWJvcmRlcik7cGFkZGluZzoxMHB4IDEwcHggMCAxMHB4O21hcmdpbi1yaWdodDotMTBweDttYXJnaW4tbGVmdDotMTBweH0udG90cC1mcmFnbWVudCAucGluLWNvZGUtaW5wdXQtZmllbGRzLC5zbXMtb3RwLWZyYWdtZW50IC5waW4tY29kZS1pbnB1dC1maWVsZHN7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMnB4O3RleHQtYWxpZ246Y2VudGVyfS50b3RwLWZyYWdtZW50IC5waW4tY29kZS1pbnB1dC1maWVsZHMgLk11aUlucHV0QmFzZS1pbnB1dCwuc21zLW90cC1mcmFnbWVudCAucGluLWNvZGUtaW5wdXQtZmllbGRzIC5NdWlJbnB1dEJhc2UtaW5wdXR7dGV4dC1hbGlnbjpjZW50ZXJ9LmVtYWlsLW90cC1mcmFnbWVudCAub3RwLWlucHV0IC5NdWlGb3JtTGFiZWwtcm9vdHt0ZXh0LXdyYXA6d3JhcH0uc21zLW90cC1mcmFnbWVudCAub3h5Z2VuLXNpZ24taW4tYWN0aW9uLWdyb3VwIC5veHlnZW4tc2lnbi1pbi1jdGE6Zmlyc3QtY2hpbGQsLmVtYWlsLW90cC1mcmFnbWVudCAub3h5Z2VuLXNpZ24taW4tYWN0aW9uLWdyb3VwIC5veHlnZW4tc2lnbi1pbi1jdGE6Zmlyc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowcHh9LmFjdGl2ZS1zZXNzaW9ucy1saW1pdC1mcmFnbWVudCB0YWJsZSwuYWN0aXZlLXNlc3Npb25zLWxpbWl0LWZyYWdtZW50IHRoLC5hY3RpdmUtc2Vzc2lvbnMtbGltaXQtZnJhZ21lbnQgdGR7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXN0eWxlOmluc2V0O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToxcmVtfS5hY3RpdmUtc2Vzc2lvbnMtbGltaXQtZnJhZ21lbnQgdGFibGV7d2lkdGg6MTAwJTttYXJnaW4tYm90dG9tOjEwcHh9Il19 */","",""]]},24959:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-flows-side-panel-toolbar-height: var(--asg-auth-flow-builder-side-panel-toolbar-height);--asg-auth-flow-builder-flows-side-panel-category-heading-height: 48px}.predefined-flows-side-panel{height:inherit}.predefined-flows-side-panel .predefined-flows-side-panel-content{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-toolbar-height));border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flows-side-panel-content.full-height{height:100%}.predefined-flows-side-panel .toolbar-container{border-bottom:1px solid var(--oxygen-palette-divider);border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .toolbar-container .oxygen-typography{font-weight:500}.predefined-flows-side-panel .toolbar-container .oxygen-toolbar{background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories{box-shadow:none;background-color:var(--asg-auth-flow-builder-flows-side-panel-drawer-content-background);overflow:hidden;transition:height .3s ease-in-out}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category-heading{background:linear-gradient(180deg, #ffffff 0%, #f7f7f9 100%);box-shadow:inset 0px -1px 0px 0px #dee0e7,0 1px 1px 0 rgba(0,0,0,.06)}.predefined-flows-side-panel .predefined-flow-categories:not(:first-child) .predefined-flow-category-heading{border-top:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flow-categories.expanded{height:50%}.predefined-flows-side-panel .predefined-flow-categories.expanded .MuiCollapse-root{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height)) !important;overflow:auto}.predefined-flows-side-panel .predefined-flow-categories.full-height{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height))}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category{margin-top:20px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items{display:flex;flex-wrap:wrap;margin-top:15px;flex-direction:row;gap:10px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;border:1px solid var(--oxygen-palette-divider);border-radius:var(--oxygen-shape-borderRadius);background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence.full-width{width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence:not(.no-hover):hover{cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.09) !important}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;padding:10px 15px;justify-content:flex-start;align-content:center;width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template{display:flex;justify-content:space-between}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .label{display:flex;flex-direction:row;align-content:center;align-items:center;gap:5px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions{display:flex;gap:5px;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:center}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions .add-button{padding:5px;min-width:40px;border-radius:var(--oxygen-shape-borderRadius);font-size:12px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step .predefined-flow-sequence-step-option{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:5px;padding:2px 8px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sK0dBQStHLENBQUMsc0VBQXNFLENBQUMsNkJBQTZCLGNBQWMsQ0FBQyxrRUFBa0UsZ0ZBQWdGLENBQUMsbURBQW1ELENBQUMsOEVBQThFLFdBQVcsQ0FBQyxnREFBZ0QscURBQXFELENBQUMsbURBQW1ELENBQUMsbUVBQW1FLGVBQWUsQ0FBQyxnRUFBZ0UsbURBQW1ELENBQUMseURBQXlELGVBQWUsQ0FBQyx3RkFBd0YsQ0FBQyxlQUFlLENBQUMsaUNBQWlDLENBQUMsMkZBQTJGLDREQUE0RCxDQUFDLHFFQUFxRSxDQUFDLDZHQUE2RyxrREFBa0QsQ0FBQyxrRUFBa0UsVUFBVSxDQUFDLG9GQUFvRixvR0FBb0csQ0FBQyxhQUFhLENBQUMscUVBQXFFLHlGQUF5RixDQUFDLG1GQUFtRixlQUFlLENBQUMsbUhBQW1ILFlBQVksQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyw2SUFBNkksWUFBWSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLDBCQUEwQixDQUFDLGtCQUFrQixDQUFDLDhDQUE4QyxDQUFDLDhDQUE4QyxDQUFDLG1EQUFtRCxDQUFDLHdKQUF3SixVQUFVLENBQUMsa0tBQWtLLGNBQWMsQ0FBQywrQ0FBK0MsQ0FBQyw0S0FBNEssa0JBQWtCLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsMEJBQTBCLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLG1NQUFtTSxZQUFZLENBQUMsNkJBQTZCLENBQUMsME1BQTBNLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsNE1BQTRNLFlBQVksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsa0JBQWtCLENBQUMsc0JBQXNCLENBQUMsd05BQXdOLFdBQVcsQ0FBQyxjQUFjLENBQUMsOENBQThDLENBQUMsY0FBYyxDQUFDLGtOQUFrTixZQUFZLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLGVBQWUiLCJmaWxlIjoicHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6cm9vdHstLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1zaWRlLXBhbmVsLXRvb2xiYXItaGVpZ2h0OiB2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC10b29sYmFyLWhlaWdodCk7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3Mtc2lkZS1wYW5lbC1jYXRlZ29yeS1oZWFkaW5nLWhlaWdodDogNDhweH0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVse2hlaWdodDppbmhlcml0fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbC1jb250ZW50e2hlaWdodDpjYWxjKDEwMCUgLSB2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3Mtc2lkZS1wYW5lbC10b29sYmFyLWhlaWdodCkpO2JvcmRlci1sZWZ0OjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKX0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwtY29udGVudC5mdWxsLWhlaWdodHtoZWlnaHQ6MTAwJX0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC50b29sYmFyLWNvbnRhaW5lcntib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTtib3JkZXItbGVmdDoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcil9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAudG9vbGJhci1jb250YWluZXIgLm94eWdlbi10eXBvZ3JhcGh5e2ZvbnQtd2VpZ2h0OjUwMH0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC50b29sYmFyLWNvbnRhaW5lciAub3h5Z2VuLXRvb2xiYXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1veHlnZW4tcGFsZXR0ZS1jb21tb24td2hpdGUpfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVze2JveC1zaGFkb3c6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1zaWRlLXBhbmVsLWRyYXdlci1jb250ZW50LWJhY2tncm91bmQpO292ZXJmbG93OmhpZGRlbjt0cmFuc2l0aW9uOmhlaWdodCAuM3MgZWFzZS1pbi1vdXR9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1oZWFkaW5ne2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDE4MGRlZywgI2ZmZmZmZiAwJSwgI2Y3ZjdmOSAxMDAlKTtib3gtc2hhZG93Omluc2V0IDBweCAtMXB4IDBweCAwcHggI2RlZTBlNywwIDFweCAxcHggMCByZ2JhKDAsMCwwLC4wNil9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXM6bm90KDpmaXJzdC1jaGlsZCkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1oZWFkaW5ne2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzLmV4cGFuZGVke2hlaWdodDo1MCV9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMuZXhwYW5kZWQgLk11aUNvbGxhcHNlLXJvb3R7aGVpZ2h0OmNhbGMoMTAwJSAtIHZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1mbG93cy1zaWRlLXBhbmVsLWNhdGVnb3J5LWhlYWRpbmctaGVpZ2h0KSkgIWltcG9ydGFudDtvdmVyZmxvdzphdXRvfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzLmZ1bGwtaGVpZ2h0e2hlaWdodDpjYWxjKDEwMCUgLSB2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItZmxvd3Mtc2lkZS1wYW5lbC1jYXRlZ29yeS1oZWFkaW5nLWhlaWdodCkpfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnl7bWFyZ2luLXRvcDoyMHB4fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtc3tkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7bWFyZ2luLXRvcDoxNXB4O2ZsZXgtZGlyZWN0aW9uOnJvdztnYXA6MTBweH0ucHJlZGVmaW5lZC1mbG93cy1zaWRlLXBhbmVsIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcmllcyAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5IC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnktaXRlbXMgLnByZWRlZmluZWQtZmxvdy1zZXF1ZW5jZXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXA7YWxpZ24tY29udGVudDpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7Ym9yZGVyLXJhZGl1czp2YXIoLS1veHlnZW4tc2hhcGUtYm9yZGVyUmFkaXVzKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW94eWdlbi1wYWxldHRlLWNvbW1vbi13aGl0ZSl9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeSAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5LWl0ZW1zIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2UuZnVsbC13aWR0aHt3aWR0aDoxMDAlfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlOm5vdCgubm8taG92ZXIpOmhvdmVye2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6MCAycHggOHB4IHJnYmEoMCwwLDAsLjA5KSAhaW1wb3J0YW50fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcHthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6d3JhcDtnYXA6OHB4O3BhZGRpbmc6MTBweCAxNXB4O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2FsaWduLWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeSAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5LWl0ZW1zIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2UgLnByZWRlZmluZWQtZmxvdy1zZXF1ZW5jZS1zdGVwLmFkYXB0aXZlLWF1dGgtdGVtcGxhdGV7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC5hZGFwdGl2ZS1hdXRoLXRlbXBsYXRlIC5sYWJlbHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6NXB4fS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC5hZGFwdGl2ZS1hdXRoLXRlbXBsYXRlIC5hY3Rpb25ze2Rpc3BsYXk6ZmxleDtnYXA6NXB4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5wcmVkZWZpbmVkLWZsb3dzLXNpZGUtcGFuZWwgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yaWVzIC5wcmVkZWZpbmVkLWZsb3ctY2F0ZWdvcnkgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeS1pdGVtcyAucHJlZGVmaW5lZC1mbG93LXNlcXVlbmNlIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC5hZGFwdGl2ZS1hdXRoLXRlbXBsYXRlIC5hY3Rpb25zIC5hZGQtYnV0dG9ue3BhZGRpbmc6NXB4O21pbi13aWR0aDo0MHB4O2JvcmRlci1yYWRpdXM6dmFyKC0tb3h5Z2VuLXNoYXBlLWJvcmRlclJhZGl1cyk7Zm9udC1zaXplOjEycHh9LnByZWRlZmluZWQtZmxvd3Mtc2lkZS1wYW5lbCAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3JpZXMgLnByZWRlZmluZWQtZmxvdy1jYXRlZ29yeSAucHJlZGVmaW5lZC1mbG93LWNhdGVnb3J5LWl0ZW1zIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2UgLnByZWRlZmluZWQtZmxvdy1zZXF1ZW5jZS1zdGVwIC5wcmVkZWZpbmVkLWZsb3ctc2VxdWVuY2Utc3RlcC1vcHRpb257ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo1cHg7cGFkZGluZzoycHggOHB4fSJdfQ== */","",""]]},90074:e=>{e.exports=[[e.id,".script-based-flow-switch .oxygen-accordion{border-bottom-right-radius:0;border-top-right-radius:0;border-top-left-radius:0;border-top:1px solid var(--oxygen-palette-divider)}.script-based-flow-switch .script-based-flow-switch-accordion-summary{display:flex;align-items:center}.script-based-flow-switch .script-based-flow-switch-accordion-summary .script-based-flow-switch-text{margin-left:10px}.script-based-flow-switch .script-based-flow-switch-accordion-details{border:1px solid var(--oxygen-palette-divider);padding-right:0;background:#f7f7f7;border-radius:8px;margin-right:10px;margin-left:10px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC1iYXNlZC1mbG93LXN3aXRjaC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRDQUE0Qyw0QkFBNEIsQ0FBQyx5QkFBeUIsQ0FBQyx3QkFBd0IsQ0FBQyxrREFBa0QsQ0FBQyxzRUFBc0UsWUFBWSxDQUFDLGtCQUFrQixDQUFDLHFHQUFxRyxnQkFBZ0IsQ0FBQyxzRUFBc0UsOENBQThDLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLGdCQUFnQiIsImZpbGUiOiJzY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2guc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2ggLm94eWdlbi1hY2NvcmRpb257Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKX0uc2NyaXB0LWJhc2VkLWZsb3ctc3dpdGNoIC5zY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2gtYWNjb3JkaW9uLXN1bW1hcnl7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2NyaXB0LWJhc2VkLWZsb3ctc3dpdGNoIC5zY3JpcHQtYmFzZWQtZmxvdy1zd2l0Y2gtYWNjb3JkaW9uLXN1bW1hcnkgLnNjcmlwdC1iYXNlZC1mbG93LXN3aXRjaC10ZXh0e21hcmdpbi1sZWZ0OjEwcHh9LnNjcmlwdC1iYXNlZC1mbG93LXN3aXRjaCAuc2NyaXB0LWJhc2VkLWZsb3ctc3dpdGNoLWFjY29yZGlvbi1kZXRhaWxze2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7cGFkZGluZy1yaWdodDowO2JhY2tncm91bmQ6I2Y3ZjdmNztib3JkZXItcmFkaXVzOjhweDttYXJnaW4tcmlnaHQ6MTBweDttYXJnaW4tbGVmdDoxMHB4fSJdfQ== */","",""]]},64606:e=>{e.exports=[[e.id,".script-editor-panel{height:100%;width:calc(100% - 16px)}.script-editor-panel .script-editor{border:1px solid var(--oxygen-palette-divider);height:500px}.script-editor-toolbar-container .oxygen-toolbar{display:flex;justify-content:space-between;align-items:center;align-content:center;flex-wrap:nowrap;flex-direction:row;padding-left:0;padding-right:0}.script-editor-toolbar-container .oxygen-toolbar .actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;gap:10px}.script-editor-toolbar-container .oxygen-toolbar .actions .editor-theme-select .MuiSelect-select{padding:6px 15px;min-width:150px}.full-screen-script-editor-container{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:95%;height:90%;padding:32px}.full-screen-script-editor-container .script-editor-toolbar-container{background-color:var(--oxygen-palette-common-white);padding-left:15px;padding-right:15px;border-top-right-radius:var(--oxygen-shape-borderRadius);border-top-left-radius:var(--oxygen-shape-borderRadius)}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC1lZGl0b3ItcGFuZWwuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsV0FBVyxDQUFDLHVCQUF1QixDQUFDLG9DQUFvQyw4Q0FBOEMsQ0FBQyxZQUFZLENBQUMsaURBQWlELFlBQVksQ0FBQyw2QkFBNkIsQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLDBEQUEwRCxZQUFZLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLGlHQUFpRyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMscUNBQXFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsdUNBQStCLENBQS9CLCtCQUErQixDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLHNFQUFzRSxtREFBbUQsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyx3REFBd0QsQ0FBQyx1REFBdUQiLCJmaWxlIjoic2NyaXB0LWVkaXRvci1wYW5lbC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNjcmlwdC1lZGl0b3ItcGFuZWx7aGVpZ2h0OjEwMCU7d2lkdGg6Y2FsYygxMDAlIC0gMTZweCl9LnNjcmlwdC1lZGl0b3ItcGFuZWwgLnNjcmlwdC1lZGl0b3J7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1veHlnZW4tcGFsZXR0ZS1kaXZpZGVyKTtoZWlnaHQ6NTAwcHh9LnNjcmlwdC1lZGl0b3ItdG9vbGJhci1jb250YWluZXIgLm94eWdlbi10b29sYmFye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7YWxpZ24tY29udGVudDpjZW50ZXI7ZmxleC13cmFwOm5vd3JhcDtmbGV4LWRpcmVjdGlvbjpyb3c7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowfS5zY3JpcHQtZWRpdG9yLXRvb2xiYXItY29udGFpbmVyIC5veHlnZW4tdG9vbGJhciAuYWN0aW9uc3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXA7YWxpZ24tY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMHB4fS5zY3JpcHQtZWRpdG9yLXRvb2xiYXItY29udGFpbmVyIC5veHlnZW4tdG9vbGJhciAuYWN0aW9ucyAuZWRpdG9yLXRoZW1lLXNlbGVjdCAuTXVpU2VsZWN0LXNlbGVjdHtwYWRkaW5nOjZweCAxNXB4O21pbi13aWR0aDoxNTBweH0uZnVsbC1zY3JlZW4tc2NyaXB0LWVkaXRvci1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO3dpZHRoOjk1JTtoZWlnaHQ6OTAlO3BhZGRpbmc6MzJweH0uZnVsbC1zY3JlZW4tc2NyaXB0LWVkaXRvci1jb250YWluZXIgLnNjcmlwdC1lZGl0b3ItdG9vbGJhci1jb250YWluZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1veHlnZW4tcGFsZXR0ZS1jb21tb24td2hpdGUpO3BhZGRpbmctbGVmdDoxNXB4O3BhZGRpbmctcmlnaHQ6MTVweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czp2YXIoLS1veHlnZW4tc2hhcGUtYm9yZGVyUmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLW94eWdlbi1zaGFwZS1ib3JkZXJSYWRpdXMpfSJdfQ== */","",""]]},444:e=>{e.exports=[[e.id,".secret-selection-menu-trigger{border-radius:var(--oxygen-shape-borderRadius);padding:3px 15px}.create-new-secret-dropdown{box-shadow:#cbcedb 0px 8px 24px;margin-top:8px}.create-new-secret-dropdown .oxygen-list{padding:0}.create-new-secret-dropdown .oxygen-list .oxygen-list-item{max-width:300px;gap:10px}.create-new-secret-dropdown .oxygen-list .oxygen-list-item .MuiListItemText-root{margin-right:20px}.create-new-secret-dropdown .oxygen-list .create-new-secret-button{border-radius:0;min-height:50px}.create-new-secret-dropdown .create-new-secret-dropdown-empty-placeholder .oxygen-divider{margin:10px 0}.create-new-secret-dropdown .create-new-secret-dropdown-item-loading{min-height:50px;justify-content:center}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY3JldC1zZWxlY3Rpb24tZHJvcGRvd24uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQkFBK0IsOENBQThDLENBQUMsZ0JBQWdCLENBQUMsNEJBQTRCLCtCQUErQixDQUFDLGNBQWMsQ0FBQyx5Q0FBeUMsU0FBUyxDQUFDLDJEQUEyRCxlQUFlLENBQUMsUUFBUSxDQUFDLGlGQUFpRixpQkFBaUIsQ0FBQyxtRUFBbUUsZUFBZSxDQUFDLGVBQWUsQ0FBQywwRkFBMEYsYUFBYSxDQUFDLHFFQUFxRSxlQUFlLENBQUMsc0JBQXNCIiwiZmlsZSI6InNlY3JldC1zZWxlY3Rpb24tZHJvcGRvd24uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWNyZXQtc2VsZWN0aW9uLW1lbnUtdHJpZ2dlcntib3JkZXItcmFkaXVzOnZhcigtLW94eWdlbi1zaGFwZS1ib3JkZXJSYWRpdXMpO3BhZGRpbmc6M3B4IDE1cHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3due2JveC1zaGFkb3c6I2NiY2VkYiAwcHggOHB4IDI0cHg7bWFyZ2luLXRvcDo4cHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdHtwYWRkaW5nOjB9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdCAub3h5Z2VuLWxpc3QtaXRlbXttYXgtd2lkdGg6MzAwcHg7Z2FwOjEwcHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdCAub3h5Z2VuLWxpc3QtaXRlbSAuTXVpTGlzdEl0ZW1UZXh0LXJvb3R7bWFyZ2luLXJpZ2h0OjIwcHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5veHlnZW4tbGlzdCAuY3JlYXRlLW5ldy1zZWNyZXQtYnV0dG9ue2JvcmRlci1yYWRpdXM6MDttaW4taGVpZ2h0OjUwcHh9LmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duIC5jcmVhdGUtbmV3LXNlY3JldC1kcm9wZG93bi1lbXB0eS1wbGFjZWhvbGRlciAub3h5Z2VuLWRpdmlkZXJ7bWFyZ2luOjEwcHggMH0uY3JlYXRlLW5ldy1zZWNyZXQtZHJvcGRvd24gLmNyZWF0ZS1uZXctc2VjcmV0LWRyb3Bkb3duLWl0ZW0tbG9hZGluZ3ttaW4taGVpZ2h0OjUwcHg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0iXX0= */","",""]]},63580:e=>{e.exports=[[e.id,":root{--asg-auth-flow-builder-side-panel-drawer-width: 450px;--asg-auth-flow-builder-side-panel-drawer-mini-width: 32px;--asg-auth-flow-builder-side-panel-drawer-content-background: #fcfcfc;--asg-auth-flow-builder-side-panel-toolbar-height: 48px}.side-panel-drawer{width:var(--asg-auth-flow-builder-side-panel-drawer-width);flex-shrink:0;white-space:nowrap;box-sizing:border-box;border-top:1px solid var(--oxygen-palette-divider);border-right:1px solid var(--oxygen-palette-divider);border-bottom:1px solid var(--oxygen-palette-divider)}.side-panel-drawer .MuiDrawer-paper{background:var(--oxygen-palette-customComponents-Navbar-background)}.side-panel-drawer:not(.open){width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .MuiDrawer-paper{width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron .MuiButtonBase-root svg{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.side-panel-drawer-collapsible-hamburger{display:flex;align-items:center;justify-content:flex-start;padding:0 8px;min-height:var(--oxygen-customComponents-Header-properties-min-height)}.side-panel-drawer-collapsible-hamburger .oxygen-icon-button{height:48px;width:48px}.side-panel-drawer.open{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .MuiDrawer-paper{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.side-panel-drawer-panel{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;height:100%}.side-panel-drawer-panel .side-panel-drawer-panel-controls{display:flex;background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);flex-direction:column}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron{height:calc(var(--asg-auth-flow-builder-side-panel-toolbar-height) + 4px);display:flex;padding:8px;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease, -webkit-transform .3s ease}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label .oxygen-typography{position:absolute;-webkit-transform:rotate(270deg);transform:rotate(270deg)}.side-panel-drawer-panel .side-panel-drawer-panel-controls:hover{cursor:pointer;background-color:rgba(var(--oxygen-palette-action-activeChannel)/var(--oxygen-palette-action-hoverOpacity))}.side-panel-drawer-panel .side-panel-drawer-panel-content{background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);height:100%}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZGUtcGFuZWwtZHJhd2VyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxzREFBc0QsQ0FBQywwREFBMEQsQ0FBQyxxRUFBcUUsQ0FBQyx1REFBdUQsQ0FBQyxtQkFBbUIsMERBQTBELENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixDQUFDLGtEQUFrRCxDQUFDLG9EQUFvRCxDQUFDLHFEQUFxRCxDQUFDLG9DQUFvQyxtRUFBbUUsQ0FBQyw4QkFBOEIsMkVBQTJFLENBQUMsdURBQXVELENBQUMsZUFBZSxDQUFDLCtDQUErQywyRUFBMkUsQ0FBQyx1REFBdUQsQ0FBQyxlQUFlLENBQUMsMkpBQTJKLDhCQUFxQixDQUFyQixzQkFBc0IsQ0FBQyx5Q0FBeUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLDBCQUEwQixDQUFDLGFBQWEsQ0FBQyxzRUFBc0UsQ0FBQyw2REFBNkQsV0FBVyxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsMERBQTBELENBQUMsdURBQXVELENBQUMsZUFBZSxDQUFDLHlDQUF5QywwREFBMEQsQ0FBQyx1REFBdUQsQ0FBQyxlQUFlLENBQUMsaUlBQWlJLGdDQUF1QixDQUF2Qix3QkFBd0IsQ0FBQyx5QkFBeUIsWUFBWSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLDBCQUEwQixDQUFDLFdBQVcsQ0FBQywyREFBMkQsWUFBWSxDQUFDLGtGQUFrRixDQUFDLHFCQUFxQixDQUFDLHFHQUFxRyx5RUFBeUUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLHlHQUF5RyxxQ0FBNEIsQ0FBNUIsNkJBQTRCLENBQTVCLHlEQUE2QixDQUFDLG1HQUFtRyxXQUFXLENBQUMsWUFBWSxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDLHNIQUFzSCxpQkFBaUIsQ0FBQyxnQ0FBdUIsQ0FBdkIsd0JBQXdCLENBQUMsaUVBQWlFLGNBQWMsQ0FBQywyR0FBMkcsQ0FBQywwREFBMEQsa0ZBQWtGLENBQUMsV0FBVyIsImZpbGUiOiJzaWRlLXBhbmVsLWRyYXdlci5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3R7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItd2lkdGg6IDQ1MHB4Oy0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtZHJhd2VyLW1pbmktd2lkdGg6IDMycHg7LS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItY29udGVudC1iYWNrZ3JvdW5kOiAjZmNmY2ZjOy0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtdG9vbGJhci1oZWlnaHQ6IDQ4cHh9LnNpZGUtcGFuZWwtZHJhd2Vye3dpZHRoOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci13aWR0aCk7ZmxleC1zaHJpbms6MDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLW94eWdlbi1wYWxldHRlLWRpdmlkZXIpO2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcil9LnNpZGUtcGFuZWwtZHJhd2VyIC5NdWlEcmF3ZXItcGFwZXJ7YmFja2dyb3VuZDp2YXIoLS1veHlnZW4tcGFsZXR0ZS1jdXN0b21Db21wb25lbnRzLU5hdmJhci1iYWNrZ3JvdW5kKX0uc2lkZS1wYW5lbC1kcmF3ZXI6bm90KC5vcGVuKXt3aWR0aDpjYWxjKHZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci1taW5pLXdpZHRoKSArIDJweCk7dHJhbnNpdGlvbjp3aWR0aCAxOTVtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtcztvdmVyZmxvdzpoaWRkZW59LnNpZGUtcGFuZWwtZHJhd2VyOm5vdCgub3BlbikgLk11aURyYXdlci1wYXBlcnt3aWR0aDpjYWxjKHZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci1taW5pLXdpZHRoKSArIDJweCk7dHJhbnNpdGlvbjp3aWR0aCAxOTVtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtcztvdmVyZmxvdzpoaWRkZW59LnNpZGUtcGFuZWwtZHJhd2VyOm5vdCgub3BlbikgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9scyAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMtY2hldnJvbiAuTXVpQnV0dG9uQmFzZS1yb290IHN2Z3t0cmFuc2Zvcm06cm90YXRlKDBkZWcpfS5zaWRlLXBhbmVsLWRyYXdlci1jb2xsYXBzaWJsZS1oYW1idXJnZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDtwYWRkaW5nOjAgOHB4O21pbi1oZWlnaHQ6dmFyKC0tb3h5Z2VuLWN1c3RvbUNvbXBvbmVudHMtSGVhZGVyLXByb3BlcnRpZXMtbWluLWhlaWdodCl9LnNpZGUtcGFuZWwtZHJhd2VyLWNvbGxhcHNpYmxlLWhhbWJ1cmdlciAub3h5Z2VuLWljb24tYnV0dG9ue2hlaWdodDo0OHB4O3dpZHRoOjQ4cHh9LnNpZGUtcGFuZWwtZHJhd2VyLm9wZW57d2lkdGg6dmFyKC0tYXNnLWF1dGgtZmxvdy1idWlsZGVyLXNpZGUtcGFuZWwtZHJhd2VyLXdpZHRoKTt0cmFuc2l0aW9uOndpZHRoIDIyNW1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSkgMG1zO292ZXJmbG93OmhpZGRlbn0uc2lkZS1wYW5lbC1kcmF3ZXIub3BlbiAuTXVpRHJhd2VyLXBhcGVye3dpZHRoOnZhcigtLWFzZy1hdXRoLWZsb3ctYnVpbGRlci1zaWRlLXBhbmVsLWRyYXdlci13aWR0aCk7dHJhbnNpdGlvbjp3aWR0aCAyMjVtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIDBtcztvdmVyZmxvdzpoaWRkZW59LnNpZGUtcGFuZWwtZHJhd2VyLm9wZW4gLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9scyAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMtY2hldnJvbiBzdmd7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXA7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7aGVpZ2h0OjEwMCV9LnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9sc3tkaXNwbGF5OmZsZXg7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItY29udGVudC1iYWNrZ3JvdW5kKTtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9scyAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMtY2hldnJvbntoZWlnaHQ6Y2FsYyh2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC10b29sYmFyLWhlaWdodCkgKyA0cHgpO2Rpc3BsYXk6ZmxleDtwYWRkaW5nOjhweDthbGlnbi1pdGVtczpjZW50ZXJ9LnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9scyAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMtY2hldnJvbiBzdmd7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzIGVhc2V9LnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9scyAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMtbGFiZWx7aGVpZ2h0OjEwMCU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LXdyYXA6bm93cmFwO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbCAuc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwtY29udHJvbHMgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRyb2xzLWxhYmVsIC5veHlnZW4tdHlwb2dyYXBoeXtwb3NpdGlvbjphYnNvbHV0ZTt0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyl9LnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsIC5zaWRlLXBhbmVsLWRyYXdlci1wYW5lbC1jb250cm9sczpob3ZlcntjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0tb3h5Z2VuLXBhbGV0dGUtYWN0aW9uLWFjdGl2ZUNoYW5uZWwpL3ZhcigtLW94eWdlbi1wYWxldHRlLWFjdGlvbi1ob3Zlck9wYWNpdHkpKX0uc2lkZS1wYW5lbC1kcmF3ZXItcGFuZWwgLnNpZGUtcGFuZWwtZHJhd2VyLXBhbmVsLWNvbnRlbnR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1hc2ctYXV0aC1mbG93LWJ1aWxkZXItc2lkZS1wYW5lbC1kcmF3ZXItY29udGVudC1iYWNrZ3JvdW5kKTtoZWlnaHQ6MTAwJX0iXX0= */","",""]]},49948:e=>{e.exports=[[e.id,".sign-in-method-split-view{border:1px solid var(--oxygen-palette-divider);border-radius:8px;display:flex}.sign-in-method-split-view .beta-feature-tab-item{display:flex;flex-direction:row;gap:8px;align-items:center}.sign-in-method-split-view .oxygen-tabs .oxygen-chip-beta{text-transform:uppercase}.sign-in-method-split-view .oxygen-tab-panel{padding:0}.sign-in-method-split-view .predefined-side-panel-drawer{border-top-right-radius:8px;border-bottom-right-radius:8px}.sign-in-method-split-view .predefined-side-panel-drawer.hidden{display:none}.sign-in-method-split-view .revert-to-default-button{right:0;box-shadow:0 0 2px 1px rgba(0,0,0,.08);position:absolute;z-index:5;margin:15px;border:none;background:#fefefe;display:flex;justify-content:center;align-items:center;height:30px;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:8px 15px;gap:10px;border-radius:var(--oxygen-shape-borderRadius);transition:margin-top .2s ease-in-out}.sign-in-method-split-view .visual-editor-update-button-container{display:flex;justify-content:flex-end;padding:16px;gap:16px}.non-interactive{pointer-events:none}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24taW4tbWV0aG9kcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDJCQUEyQiw4Q0FBOEMsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsa0RBQWtELFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsMERBQTBELHdCQUF3QixDQUFDLDZDQUE2QyxTQUFTLENBQUMseURBQXlELDJCQUEyQixDQUFDLDhCQUE4QixDQUFDLGdFQUFnRSxZQUFZLENBQUMscURBQXFELE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyx3QkFBZ0IsQ0FBaEIsb0JBQWdCLENBQWhCLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyw4Q0FBOEMsQ0FBQyxxQ0FBcUMsQ0FBQyxrRUFBa0UsWUFBWSxDQUFDLHdCQUF3QixDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLG1CQUFtQiIsImZpbGUiOiJzaWduLWluLW1ldGhvZHMuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3e2JvcmRlcjoxcHggc29saWQgdmFyKC0tb3h5Z2VuLXBhbGV0dGUtZGl2aWRlcik7Ym9yZGVyLXJhZGl1czo4cHg7ZGlzcGxheTpmbGV4fS5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3IC5iZXRhLWZlYXR1cmUtdGFiLWl0ZW17ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztnYXA6OHB4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2lnbi1pbi1tZXRob2Qtc3BsaXQtdmlldyAub3h5Z2VuLXRhYnMgLm94eWdlbi1jaGlwLWJldGF7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfS5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3IC5veHlnZW4tdGFiLXBhbmVse3BhZGRpbmc6MH0uc2lnbi1pbi1tZXRob2Qtc3BsaXQtdmlldyAucHJlZGVmaW5lZC1zaWRlLXBhbmVsLWRyYXdlcntib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo4cHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6OHB4fS5zaWduLWluLW1ldGhvZC1zcGxpdC12aWV3IC5wcmVkZWZpbmVkLXNpZGUtcGFuZWwtZHJhd2VyLmhpZGRlbntkaXNwbGF5Om5vbmV9LnNpZ24taW4tbWV0aG9kLXNwbGl0LXZpZXcgLnJldmVydC10by1kZWZhdWx0LWJ1dHRvbntyaWdodDowO2JveC1zaGFkb3c6MCAwIDJweCAxcHggcmdiYSgwLDAsMCwuMDgpO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTttYXJnaW46MTVweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOiNmZWZlZmU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2hlaWdodDozMHB4O2N1cnNvcjpwb2ludGVyO3VzZXItc2VsZWN0Om5vbmU7cGFkZGluZzo4cHggMTVweDtnYXA6MTBweDtib3JkZXItcmFkaXVzOnZhcigtLW94eWdlbi1zaGFwZS1ib3JkZXJSYWRpdXMpO3RyYW5zaXRpb246bWFyZ2luLXRvcCAuMnMgZWFzZS1pbi1vdXR9LnNpZ24taW4tbWV0aG9kLXNwbGl0LXZpZXcgLnZpc3VhbC1lZGl0b3ItdXBkYXRlLWJ1dHRvbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtwYWRkaW5nOjE2cHg7Z2FwOjE2cHh9Lm5vbi1pbnRlcmFjdGl2ZXtwb2ludGVyLWV2ZW50czpub25lfSJdfQ== */","",""]]}}]);