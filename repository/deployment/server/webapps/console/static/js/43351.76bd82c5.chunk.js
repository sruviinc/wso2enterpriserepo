"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[43351],{43351:(e,t,l)=>{l.r(t),l.d(t,{CreateRoleSummary:()=>b});var a=l(81816),r=l(42363),n=l(52983),o=l(9202),s=l(94635),i=l(73949),u=l(86407);function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var a,r,n,o,s=[],i=!0,u=!1;try{if(n=(l=l.call(e)).next,0===t){if(Object(l)!==l)return;i=!1}else for(;!(i=(a=n.call(l)).done)&&(s.push(a.value),s.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{if(!i&&null!=l.return&&(o=l.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,a=new Array(t);l<t;l++)a[l]=e[l];return a}var b=function(e){var t,l,d=e.summary,f=e.triggerSubmit,b=e.onSubmit,p=e.isAddGroup,y=e["data-testid"],v=(0,o.$)().t,E=m((0,n.useState)([]),2),g=E[0],h=E[1],A=m((0,n.useState)([]),2),w=A[0],N=A[1],Z=m((0,n.useState)([]),2),L=Z[0],S=Z[1];(0,n.useEffect)((function(){u.J.getAllPermissions().then((function(e){if(h(e),N([e[0].key.toString()]),d&&d.PermissionList){var t=d.PermissionList;S([].concat(c(L),c(t.map((function(e){return e.key})))))}}))}),[g.length>0]),(0,n.useEffect)((function(){f&&b(d)}),[f]);return n.createElement(s.Z,{className:"wizard-summary"},(null==d?void 0:d.BasicDetails)&&n.createElement(n.Fragment,null,n.createElement(s.Z.Row,{className:"summary-field",columns:2},n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},n.createElement("div",{"data-testid":"".concat(y,"-role-name-label"),className:"label"},v("console:manage.features.roles.addRoleWizard.summary.labels.roleName",p?{type:"Group"}:{type:"Role"}))),n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},n.createElement("div",{"data-testid":"".concat(y,"-role-name-value"),className:"value url"},d.BasicDetails.roleName)))),(null==d?void 0:d.PermissionList)&&d.PermissionList instanceof Array&&d.PermissionList.length>0&&n.createElement(s.Z.Row,{className:"summary-field",columns:2},n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},n.createElement("div",{"data-testid":"".concat(y,"-permissions-label"),className:"label"},v("console:manage.features.roles.addRoleWizard.summary.labels.permissions"))),n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},n.createElement(i.Z.Group,null,n.createElement(r.Z,{className:"customIcon","data-testid":"".concat(y,"-tree"),disabled:!0,checkedKeys:L,defaultExpandedKeys:w,showLine:!0,showIcon:!1,checkable:!0,selectable:!1,treeData:g,switcherIcon:function(e){return e.isLeaf?null:n.createElement("div",{className:"tree-arrow-wrap"},n.createElement("span",{className:"tree-arrow ".concat(e.expanded?"":"active")},n.createElement("span",null),n.createElement("span",null)))}})))),null!=d&&d.UserList&&(null==d?void 0:d.UserList)instanceof Array&&(null==d||null===(t=d.UserList)||void 0===t?void 0:t.length)>0?n.createElement(s.Z.Row,{className:"summary-field",columns:2},n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},n.createElement("div",{"data-testid":"".concat(y,"-users-label"),className:"label"},v("console:manage.features.roles.addRoleWizard.summary.labels.users"))),n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},n.createElement(i.Z.Group,null,null==d?void 0:d.UserList.map((function(e,t){return n.createElement("div",{key:t,className:"role-summary-user"},n.createElement(a.Yt,{name:e.userName,size:"mini",floated:"left",image:e.profileUrl}),e.userName)}))))):null,null!=d&&d.GroupList&&(null==d?void 0:d.GroupList)instanceof Array&&(null==d||null===(l=d.GroupList)||void 0===l?void 0:l.length)>0?n.createElement(s.Z.Row,{className:"summary-field",columns:2},n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},n.createElement("div",{"data-testid":"".concat(y,"-users-label"),className:"label"},v("console:manage.features.roles.addRoleWizard.summary.labels.groups"))),n.createElement(s.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},n.createElement(i.Z.Group,null,null==d?void 0:d.GroupList.map((function(e,t){return n.createElement(i.Z,{"data-testid":"".concat(y,"-permissions-").concat(t,"-label"),key:t,basic:!0,circular:!0},null==e?void 0:e.displayName)}))))):null)}}}]);