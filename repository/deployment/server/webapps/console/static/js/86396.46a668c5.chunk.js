"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[86396],{5139:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var o=n(57477),a=n(14603),i=n(90268),r=n(81816),s=n(52983),c=n(9202),l=n(54221),u=n(30640),d=n(14525),p=n(58782),f=n(42466);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var h=function(e){var t=e["data-componentid"],n=u.m8.location.pathname.split("/"),v=n[n.length-1],h=(0,c.$)().t,m=(0,l.I0)(),E=(0,l.v9)((function(e){return e.config.ui.features})),A=g((0,s.useState)(1),2),R=A[0],y=A[1],S=g((0,s.useState)(!1),2),P=S[0],b=S[1],I=g((0,s.useState)(!1),2),T=I[0],N=I[1],O=g((0,s.useState)(""),2),x=O[0],C=O[1],k=g((0,s.useState)([]),2),G=k[0],M=k[1],w=g((0,s.useState)(void 0),2),L=w[0],_=w[1],$=g((0,s.useState)(void 0),2),j=$[0],K=$[1],Q=g((0,s.useState)(void 0),2),U=Q[0],B=Q[1],F=g((0,s.useState)(void 0),2),V=F[0],q=F[1],z=g((0,s.useState)(v===f.$d.MANAGEMENT?"type eq ".concat(f.sM.TENANT):"type eq ".concat(f.sM.ORGANIZATION)),2),W=z[0],D=z[1],X=(0,d.cQ)(L,j,W),Z=X.data,J=X.isLoading,H=X.error,Y=X.mutate;(0,s.useEffect)((function(){if(Z instanceof o.u)m((0,i.V_)({description:h("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:a.QU.ERROR,message:h("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}));else if(Z){var e,t=Z.apiResources.map((function(e){return e}));if(B(void 0),q(void 0),Z.links&&0!==Z.links.length)null===(e=Z.links)||void 0===e||e.forEach((function(e){switch(e.rel){case f.KG.NEXT_REL:B(e.href.split("".concat(f.KG.AFTER,"="))[1]);break;case f.KG.PREVIOUS_REL:q(e.href.split("".concat(f.KG.BEFORE,"="))[1])}}));M(t)}}),[Z]),(0,s.useEffect)((function(){H&&m((0,i.V_)({description:h("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:a.QU.ERROR,message:h("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}))}),[H]),(0,s.useEffect)((function(){P&&(Y(),b(!1))}),[P]),(0,s.useEffect)((function(){var e=v===f.$d.MANAGEMENT?"type eq ".concat(f.sM.TENANT):"type eq ".concat(f.sM.ORGANIZATION);D(x?"".concat(x," and ").concat(e):e)}),[x]);var ee=function(e,t){_(e),K(t),b(!0)};return s.createElement(r.Xg,{pageTitle:v===f.$d.MANAGEMENT?h("extensions:develop.apiResource.managementAPI.header"):h("extensions:develop.apiResource.organizationAPI.header"),title:v===f.$d.MANAGEMENT?h("extensions:develop.apiResource.managementAPI.header"):h("extensions:develop.apiResource.organizationAPI.header"),"data-componentid":"".concat(t,"-page-layout"),"data-testid":"".concat(t,"-page-layout"),headingColumnWidth:"11",actionColumnWidth:"5",loadingStateOptions:{count:5,imageType:"circular"},backButton:{"data-testid":"".concat(t,"-back-button"),onClick:function(){u.m8.push(f.KG.getPaths().get("API_RESOURCES"))},text:h("console:manage.pages.rolesEdit.backButton",{type:"APIs"})}},s.createElement(r.PS,{advancedSearch:s.createElement(u.nC,{onFilter:function(e){C(e)},filterAttributeOptions:[{key:0,text:h("common:name"),value:"name"}],filterAttributePlaceholder:h("console:develop.features.applications.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:h("console:develop.features.applications.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:h("console:develop.features.applications.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:"Search APIs by name",style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:T,"data-componentid":"".concat(t,"-list-advanced-search")}),showTopActionPanel:!0,"data-componentid":"".concat(t,"-api-resources-list-layout"),"data-testid":"".concat(t,"-api-resources-list-layout"),onPageChange:function(e,t){var n=parseInt(null==t?void 0:t.activePage);n>R?ee(U,void 0):n<R&&ee(void 0,V),y(n)},showPagination:!0,totalPages:f.KG.DEFAULT_TOTAL_PAGES,totalListSize:null==G?void 0:G.length,showPaginationPageLimit:!1,isLoading:J,activePage:R,paginationOptions:{disableNextButton:!U,disablePreviousButton:!V}},H?s.createElement(r.$J,{subtitle:[h("extensions:develop.apiResource.apiResourceError.subtitles.0"),h("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:h("extensions:develop.apiResource.apiResourceError.title"),image:(0,u.jF)().genericError,imageSize:"tiny"}):s.createElement(p.v,{apiResourcesList:G,isAPIResourcesListLoading:J,featureConfig:E,onAPIResourceDelete:null,onSearchQueryClear:function(){C(""),N(!T)},searchQuery:x,categoryId:v})))};h.defaultProps={"data-componentid":"api-resources-internal-list"};const m=h}}]);