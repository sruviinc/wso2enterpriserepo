"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[87029],{87029:(e,t,n)=>{n.r(t),n.d(t,{TryoutSamples:()=>x});var a=n(14603),o=n(90268),l=n(83831),r=n(81816),i=n(53337),c=n(67127),s=n(52983),u=n(54221),d=n(88171),p=n(74691),m=n(16029),h=n(75917),f=n(84995),g=n(67785),y=n(58056),E=n(61133),v=n(87089),b=n(22806),w=n(85850),T=n(27696),S=n(45898),O=n(34035);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function D(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==C(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,l,r,i=[],c=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=l.call(n)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return i}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=function(e){var t=e.application,n=e.inboundProtocolConfig,C=e.technology,A=e.addedCallBackUrls,I=e.addedOrigins,U=e["data-testid"],R=(0,u.I0)(),x=(0,r.fQ)().getLink,L=N((0,s.useState)(void 0),2),j=L[0],_=L[1],M=N((0,s.useState)(!1),2),P=M[0],Z=M[1],F=N((0,s.useState)("http://localhost:8080"),2),K=F[0],V=F[1],q=N((0,s.useState)(!0),2),J=q[0],W=q[1],B=T.lD.getInstance();(0,s.useEffect)((function(){var e,t;if(!(0,c.Z)(n)){var a={clientID:null===(e=n.oidc)||void 0===e?void 0:e.clientId,clientSecret:null===(t=n.oidc)||void 0===t?void 0:t.clientSecret,serverOrigin:w.De.getDeploymentConfig().customServerHost};_(a)}}),[n]),(0,s.useEffect)((function(){K&&!Q(K+g.SDKMeta.tomcatOIDCAgent.sample.home)&&H([K+g.SDKMeta.tomcatOIDCAgent.sample.home],K,!0)}),[K]);var H=function(e,l){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==n.oidc.callbackURLs.length){var c=null!=n&&null!==(r=n.oidc)&&void 0!==r&&r.callbackURLs&&Array.isArray(n.oidc.callbackURLs)?b.y.buildCallBackURLWithSeparator(n.oidc.callbackURLs[0]).split(","):[];e&&!i&&e.forEach((function(e){A.includes(e)||A.push(e)}));var s=[];A&&A.forEach((function(e){c.includes(e)||s.push(e)}));var u=s.length>0,d=!n.oidc.allowedOrigins.includes(l);!d||I.includes(l)||i||I.push(l);var p=k(k({},n.oidc),{},{allowedOrigins:d?[].concat(D(n.oidc.allowedOrigins),D(I)):n.oidc.allowedOrigins,callbackURLs:u?[b.y.buildCallBackUrlWithRegExp([].concat(D(c),s).join(","))]:n.oidc.callbackURLs});(0,E.lp)(t.id,p,v.AI.OIDC).then((function(){i||(Z(!0),R((0,o.V_)(d&&u?{description:"Successfully updated the URLs in the application.",level:a.QU.SUCCESS,message:"Updated the URLs"}:u?{description:"Successfully updated the Allowed Origins.",level:a.QU.SUCCESS,message:"Updated the URLs"}:{description:"Successfully updated the Callback URLs in the application.",level:a.QU.SUCCESS,message:"Updated the URLs"})))})).catch((function(){R((0,o.V_)({description:"An error occurred while updating the application.",level:a.QU.ERROR,message:"Error occurred"}))}))}},Q=function(e){if(0===n.oidc.callbackURLs.length)return!1;var t=null!=n&&n.oidc?l.EncodeDecodeUtils.decodeURLRegex(n.oidc.callbackURLs[0]):[];return!(!t||!Array.isArray(t)||t.length<1)&&t.includes(e)},z=function(e){return j?e===y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE?(0,f.tomcatOIDCSamplePropertiesFileCode)(j,K):e===y.SupportedTraditionalOIDCAppTechnologyTypes.DOT_NET?(0,f.dotNetSDKInstallerConfigCode)(j):void 0:null},G=function(){return s.createElement(s.Fragment,null,s.createElement(r.xv,null,"Few of the configurations such as ",s.createElement("code",{className:"inline-code"},"callBackURL")," and ",s.createElement("code",{className:"inline-code"},"trustedAudience")," depends on the host that your ",s.createElement("strong",null,"Tomcat")," server is running on."),s.createElement(m.Z,null,s.createElement(m.Z.Group,{widths:"3"},s.createElement(m.Z.Input,{fluid:!0,placeholder:"https://localhost:8080",label:"Enter your Tomcat Host URL",value:K,onChange:function(e,t){!function(e,t){i.I.url(t.value)?(W(!0),V(t.value)):(V(null),W(!1))}(0,t)}}))),!J&&s.createElement(r.v0,{type:"error",content:"Please enter a valid URL"}))},Y=function(){return s.createElement("div",{className:"add-user-step"},s.createElement(r.v0,{info:!0,className:"add-user-info"},s.createElement(O.AddUserStepContent,null)))},$=[{stepContent:function(e){return e===y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE?s.createElement(s.Fragment,null,s.createElement(d.Z,{basic:!0,"data-testid":"".concat(U,"-download-oidc-tomcat-sample"),className:"sample-action-button download",onClick:function(){B.publish("application-quick-start-click-download-sample",{type:"java-ee"}),window.open(g.SDKMeta.tomcatOIDCAgent.sample.artifact,"")}},s.createElement(r.dn,{transparent:!0,icon:(0,w.r2)().java,size:"mini",spaced:"right",floated:"left"}),"Download ",e," Sample",s.createElement(p.Z,{name:"download",className:"ml-2"})),s.createElement(d.Z,{basic:!0,className:"sample-action-button github",onClick:function(){B.publish("application-quick-start-click-view-source-on-github",{type:"java-ee"}),window.open(g.SDKMeta.tomcatOIDCAgent.sample.repository,"")}},"View source on GitHub",s.createElement(p.Z,{name:"github",className:"ml-2"}))):e===y.SupportedTraditionalOIDCAppTechnologyTypes.DOT_NET?s.createElement(s.Fragment,null,s.createElement(d.Z,{basic:!0,"data-testid":"".concat(U,"-download-dotnet-sample"),className:"sample-action-button download",onClick:function(){B.publish("application-quick-start-click-download-sample",{type:"dot-net"}),window.open(g.SDKMeta.dotNet.sample.artifact,"")}},s.createElement(r.dn,{transparent:!0,icon:(0,w.r2)().dotNet,size:"mini",spaced:"right",floated:"left"}),"Download ",e," Sample",s.createElement(p.Z,{name:"download",className:"ml-2"})),s.createElement(d.Z,{basic:!0,className:"sample-action-button github",onClick:function(){B.publish("application-quick-start-click-view-source-on-github",{type:"dot-net"}),window.open(g.SDKMeta.dotNet.sample.repository,"")}},"View source on GitHub",s.createElement(p.Z,{name:"github",className:"ml-2"}))):void 0}(C),stepTitle:"Download"},{stepContent:function(e){return e===y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE?s.createElement(s.Fragment,null,s.createElement(r.xv,null,"Copy the ",s.createElement("code",{className:"inline-code"},"war")," file downloaded in the previous step to the deployment location in your ",s.createElement("strong",null,"Tomcat")," server. The default deployment location is the ",s.createElement("code",{className:"inline-code"},"webapps")," directory located at the root of your ",s.createElement("strong",null,"Tomcat")," server."),s.createElement(r.xv,null,"If your Tomcat Server is set to auto-deploy applications (and it is set to do this by default) then the ",s.createElement("code",{className:"inline-code"},"war")," file copied into the deployment location will be extracted automatically. If not, go ahead and restart the server to get the extracted sample."),s.createElement(r.xv,null,"Update the ",s.createElement("code",{className:"inline-code"},"oidc-sample-app.properties")," file located in ",s.createElement("code",{className:"inline-code"},"<TOMCAT_HOME>/webapps/oidc-sample-app/WEB-INF/classes")," with the following."),G(),P||(0,c.Z)(K)||Q(K+g.SDKMeta.tomcatOIDCAgent.sample.sigInRedirectURL)?null:s.createElement(r.v0,{warning:!0},s.createElement("p",null,"In order to try out the sample, you need to add ",s.createElement("strong",null,K+g.SDKMeta.tomcatOIDCAgent.sample.sigInRedirectURL),"  and ",s.createElement("strong",null,K+g.SDKMeta.tomcatOIDCAgent.sample.home),"  to ",s.createElement("strong",null,"Authorized redirect URLs"),s.createElement(d.Z,{className:"warning",floated:"right",onClick:function(){return H([K+g.SDKMeta.tomcatOIDCAgent.sample.sigInRedirectURL,K+g.SDKMeta.tomcatOIDCAgent.sample.home],K)}},"Add Now"))),s.createElement("div",{className:"code-segment","data-hj-suppress":""},s.createElement(r.pq,{readOnly:!0,withClipboardCopy:!0,showLineNumbers:!0,language:"htmlmixed",sourceCode:z(y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE),options:{lineWrapping:!0},height:"100%",theme:"dark"})),s.createElement(h.Z,{hidden:!0})):e===y.SupportedTraditionalOIDCAppTechnologyTypes.DOT_NET?s.createElement(s.Fragment,null,s.createElement(r.xv,null,"Double click the ",s.createElement("code",{className:"inline-code"},"PickupManagerOIDC-v0.1.1.msi")," and follow the on-screen guidance until you get to the app configuration window."),s.createElement(r.xv,null,"Fill the corresponding fields with the following information."),s.createElement("div",{className:"code-segment"},s.createElement(r.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,showLineNumbers:!0,className:"application-sample-config-editor",language:"htmlmixed",sourceCode:z(e),beautify:!0,options:{lineWrapping:!0},height:"100%",theme:"dark"})),s.createElement(h.Z,{hidden:!0}),s.createElement(r.xv,null,"Continue the on-screen guidance and complete the installation.")):null}(C),stepTitle:"Configure"},{stepContent:function(e){return e===y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE?s.createElement(s.Fragment,null,s.createElement(r.xv,null,"Now that you have added the relevant configurations, restart the ",s.createElement("strong",null,"Tomcat")," server, for the newly added changes to be applied to the application."),!(0,c.Z)(K)&&s.createElement(r.xv,null,"Try out the application by accessing the URL ",s.createElement("a",{href:K+g.SDKMeta.tomcatOIDCAgent.sample.home,target:"_blank",rel:"noopener noreferrer",className:"link external"},K+g.SDKMeta.tomcatOIDCAgent.sample.home)),Y()):e===y.SupportedTraditionalOIDCAppTechnologyTypes.DOT_NET?s.createElement(s.Fragment,null,s.createElement(r.xv,null,"Once the installation is complete the ",s.createElement("code",{className:"inline-code"},"Pickup Manager - OIDC v0.1.1")," application will be launched automatically. You can always re-launch the application by double clicking on the",s.createElement("code",{className:"inline-code"},"Pickup Manager - OIDC v0.1.1")," application available on your Desktop."),Y()):null}(C),stepTitle:"Run"}];return s.createElement(s.Fragment,null,function(e){if(e!==y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE&&e!==y.SupportedTraditionalOIDCAppTechnologyTypes.DOT_NET)return null;return s.createElement("div",{className:"mt-3 mb-6"},s.createElement(r.v0,{type:"info",header:"Prerequisite",content:e===y.SupportedTraditionalOIDCAppTechnologyTypes.JAVA_EE?s.createElement(s.Fragment,null,s.createElement(r.xv,null,"You will  need to have ",s.createElement("strong",null,"Apache Tomcat 8.x or 9.x")," installed on your environment to try out the sample."),s.createElement(r.xv,{className:"message-info-text"},"To download ",s.createElement("strong",null,"Apache Tomcat"),", navigate to the official ",s.createElement(r.eb,{link:x("develop.applications.editApplication.oidcApplication.quickStart.mavenDownload"),showEmptyLinkText:!0},"downloads")," page.")):e===y.SupportedTraditionalOIDCAppTechnologyTypes.DOT_NET?s.createElement(s.Fragment,null,s.createElement(r.xv,null,"You will need to have ",s.createElement("strong",null,"Microsoft Windows 8")," (Or server equivalent) or greater and ",s.createElement("strong",null,".NET Framework 4.6.1")," (or greater) set up on your environment to try out the integration."),s.createElement(r.xv,{className:"message-info-text"},"To download ",s.createElement("strong",null,".NET Framework"),", navigate to the official ",s.createElement("a",{href:"https://dotnet.microsoft.com/download/dotnet-framework/net461",target:"_blank",rel:"noopener noreferrer",className:"link external"},"downloads")," page.")):void 0}))}(C),s.createElement(S.VerticalStepper,{alwaysOpen:!0,isSidePanelOpen:!0,stepContent:$,isNextEnabled:void 0!==C}))}}}]);