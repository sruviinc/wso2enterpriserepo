"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8473,78304,27573,2652,66984,42562,65930,19092],{78304:(e,t,n)=>{n.r(t),n.d(t,{deleteInvite:()=>r.deleteInvite,deleteUser:()=>r.deleteUser,getInvitedUserList:()=>r.getInvitedUserList,resendInvite:()=>r.resendInvite,sendInvite:()=>r.sendInvite,updateInvite:()=>r.updateInvite});var r=n(27573)},27573:(e,t,n)=>{n.r(t),n.d(t,{deleteInvite:()=>u,deleteUser:()=>m,getInvitedUserList:()=>l,resendInvite:()=>f,sendInvite:()=>c,updateInvite:()=>d});var r=n(93967),i=n(14603),o=n(30640),a=n(2652),s=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),l=function(){var e={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.GET,url:(0,a.getInviteResourceEndpoints)().inviteEndpoint};return s(e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},c=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:(0,a.getInviteResourceEndpoints)().inviteEndpoint};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},u=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:(0,a.getInviteResourceEndpoints)().inviteEndpoint+"/"+e};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.PATCH,url:(0,a.getInviteResourceEndpoints)().inviteEndpoint+"/"+e};return s(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:(0,a.getInviteResourceEndpoints)().userEndpoint+"/"+e};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},f=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:(0,a.getInviteResourceEndpoints)().resendEndpoint.replace("{}",e)};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},66984:(e,t,n)=>{n.r(t),n.d(t,{getInviteResourceEndpoints:()=>i});var r=n(30640),i=function(){return{inviteEndpoint:r.De.getDeploymentConfig().serverOrigin+"/api/asgardeo-guest/v1/users/invite",resendEndpoint:r.De.getDeploymentConfig().serverOrigin+"/api/asgardeo-guest/v1/invite/{}/resend",userEndpoint:r.De.getDeploymentConfig().serverOrigin+"/api/asgardeo-guest/v1/users"}}},2652:(e,t,n)=>{n.r(t),n.d(t,{getInviteResourceEndpoints:()=>r.getInviteResourceEndpoints});var r=n(66984)},65930:(e,t,n)=>{n.r(t),n.d(t,{AddAdminDeveloperWizard:()=>g});var r=n(14603),i=n(90268),o=n(13318),a=n(81816),s=n(52983),l=n(9202),c=n(54221),u=n(21921),d=n(94635),m=n(19092),f=n(78304);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.closeWizard,n=e.updateInviteListWizard,v=e.setUserListRequestLoading,g=e["data-testid"],h=(0,l.$)().t,y=(0,c.I0)(),E=p((0,o.cC)(),2),b=E[0],I=E[1],A=p((0,a.IK)(),3),S=A[0],C=(A[1],A[2]),w=p((0,s.useState)(!1),2),R=w[0],j=w[1];return s.createElement(u.Z,{"data-testid":g,open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(u.Z.Header,null,h("console:manage.features.invite.form.sendmail.title"),s.createElement(a.X6,{as:"h6",subHeading:!0},h("console:manage.features.invite.form.sendmail.subTitle"))),s.createElement(u.Z.Content,{className:"content-container",scrolling:!0},S&&C,s.createElement(m.AddUser,{triggerSubmit:b,onSubmit:function(e){return o=e,v(!0),void(null!=o&&(j(!0),(0,f.sendInvite)(o).then((function(){y((0,i.V_)({description:h("console:manage.features.invite.notifications.sendInvite.success.description"),level:r.QU.SUCCESS,message:h("console:manage.features.invite.notifications.sendInvite.success.message")})),n(),t()})).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data&&e.response.data.detail?(t(),y((0,i.V_)({description:h("console:manage.features.invite.notifications.sendInvite.error.description",{description:e.response.data.detail}),level:r.QU.ERROR,message:h("console:manage.features.invite.notifications.sendInvite.error.message")}))):(t(),y((0,i.V_)({description:h("console:manage.features.invite.notifications.sendInvite.genericError.description"),level:r.QU.ERROR,message:h("console:manage.features.invite.notifications.sendInvite.genericError.message")}))):(t(),y((0,i.V_)({description:h("console:manage.features.invite.notifications.sendInvite.error.description"),level:r.QU.ERROR,message:h("console:manage.features.invite.notifications.sendInvite.error.message")})))})).finally((function(){j(!1)}))));var o}})),s.createElement(u.Z.Actions,null,s.createElement(d.Z,null,s.createElement(d.Z.Row,{column:1},s.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.Qj,{"data-testid":"".concat(g,"-cancel-button"),floated:"left",onClick:function(){return t()}},h("common:cancel"))),s.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.KM,{"data-testid":"".concat(g,"-finish-button"),floated:"right",loading:R,disabled:R,onClick:function(){I()}},"Invite"))))))}},19092:(e,t,n)=>{n.r(t),n.d(t,{AddUser:()=>f});var r=n(13318),i=n(81816),o=n(53337),a=n(52983),s=n(9202),l=n(94635),c=n(75917),u=n(49238);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.triggerSubmit,n=e.onSubmit,m=d((0,a.useState)([]),2),f=m[0],p=m[1],v=d((0,a.useState)(!1),2),g=v[0],h=v[1],y=(0,s.$)().t;(0,a.useEffect)((function(){var e=[],t={key:null,text:"",value:""};0===f.length&&(h(!0),(0,u.Sd)(null).then((function(n){n.data.Resources.map((function(n,r){"system"!==n.displayName&&"everyone"!==n.displayName&&(t={key:r,text:n.displayName,value:n.displayName},e.push(t))})),p(e)})).finally((function(){h(!1)}))),p(e)}),[]);var E;return a.createElement(a.Fragment,null,!g&&a.createElement(r.Es,{"data-testid":"user-mgt-add-user-form",onSubmit:function(e){n(function(e){var r={roles:[e.get("role").toString()],email:e.get("email").toString()};t&&n(r)}(e))},submitState:t},a.createElement(l.Z,null,a.createElement(l.Z.Row,{columns:1},a.createElement(l.Z.Column,{mobile:16,tablet:16,computer:12},a.createElement(r.gN,{"data-testid":"user-mgt-add-user-form-email-input",label:y("console:manage.features.user.forms.addUserForm.inputs.email.label"),name:"email",placeholder:y("console:manage.features.user.forms.addUserForm.inputs.email.placeholder"),required:!0,requiredErrorMessage:y("console:manage.features.user.forms.addUserForm.inputs.email.validations.empty"),validation:function(e,t){o.I.email(e)||(t.isValid=!1,t.errorMessages.push(y("console:manage.features.user.forms.addUserForm.inputs.email.validations.invalid").toString()))},type:"email",tabIndex:5,maxLength:50}))),a.createElement(l.Z.Row,{columns:1},a.createElement(l.Z.Column,{mobile:16,tablet:16,computer:12},a.createElement(r.gN,{"data-testid":"user-mgt-add-user-form-domain-dropdown",type:"dropdown",label:"Role",name:"role",children:f,requiredErrorMessage:y("console:manage.features.user.forms.addUserForm.inputs.domain.validations.empty"),required:!0,value:null===(E=f[0])||void 0===E?void 0:E.value,tabIndex:1}),a.createElement(i.kW,null,"Select a role to assign to the user. The access level depends on role permissions."))),a.createElement(c.Z,{hidden:!0}))))}},8473:(e,t,n)=>{n.r(t),n.d(t,{AddAdminDeveloperWizard:()=>r.AddAdminDeveloperWizard,AddUser:()=>i.AddUser});var r=n(65930),i=n(19092)}}]);