"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4310],{4310:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var o=n(81816),i=n(46440),r=n(67127),a=n(23587),l=n(50350),c=n(52983),u=n(9202),s=n(54221),p=n(75917),f=n(94635),d=(n(14969),n(74691),n(5873),n(30640)),m=n(32566),g=n(37340),y=n(18606),v=n(16782),b=n(61375),h=n(92402),S=n(22806),w=n(52037);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],c=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var k=[{key:"all",text:"All Types",value:"all"}],R=function(e){var t,n=e["data-testid"],E=(0,u.$)().t,O=(0,s.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.groupedTemplates})),P=(0,s.v9)((function(e){return e.config})),C=(0,s.v9)((function(e){return e.application.meta.customInboundProtocols})),L=I((0,c.useState)([]),2),R=L[0],Z=L[1],_=I((0,c.useState)(!1),2),D=_[0],N=_[1],z=I((0,c.useState)(null),2),G=z[0],M=z[1],x=I((0,c.useState)(!1),2),B=x[0],F=x[1],$=I((0,c.useState)(void 0),2),H=$[0],U=($[1],I((0,c.useState)(!1),2)),W=U[0],q=U[1],K=I((0,c.useState)(!1),2),J=K[0],X=K[1],Y=I((0,c.useState)(k),2),Q=(Y[0],Y[1]),V=d.lD.getInstance();(0,c.useEffect)((function(){S.y.getCustomInboundProtocols(m.oK,!0)}),[]),(0,c.useEffect)((function(){X(C.length>0)}),[C]),(0,c.useEffect)((function(){void 0===O&&(F(!0),w.e.getApplicationTemplates().finally((function(){F(!1)})))}),[O]),(0,c.useEffect)((function(){null!=H&&((0,a.Z)(H,O)?q(!1):q(!0))}),[H]),(0,c.useEffect)((function(){if(O&&O instanceof Array&&O.length>0){var e=k;j(O).forEach((function(t){v.jo.FILTERABLE_TEMPLATE_CATEGORIES.includes(t.category)&&t.types.forEach((function(t){e.some((function(e){return e.value===t}))||e.push({key:t,text:t,value:t})}))})),Q(e)}}),[O]),(0,c.useEffect)((function(){O&&Array.isArray(O)&&O.length>0&&w.e.categorizeTemplates(O).then((function(e){Z(e)})).catch((function(){Z([])}))}),[O]);var ee=function(e,t){var n=t.id;if(O){var o=O.find((function(e){return e.id===n}));o&&(n===b.id&&(o=(0,i.Z)(b)),V.publish("application-click-create-new",{source:"application-listing-page",type:o.templateId}),M(o),N(!0))}},te=function(e,t,n,i,a){if(!a&&(0,r.Z)(i)&&(0,r.Z)(e))return null;var u=i||e;return J||(u=u.filter((function(e){return e.id!==h.id}))),u=(0,l.Z)(u,["comingSoon"],["desc"]),c.createElement(o.Gn,T({type:"application",templates:u,templateIcons:A(A({},(0,y.ZP)()),(0,d.r2)()),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",onTemplateSelect:ee,paginate:!0,paginationLimit:6,paginationOptions:{showLessButtonLabel:E("common:showLess"),showMoreButtonLabel:E("common:showMore")},comingSoonRibbonLabel:E("common:comingSoon"),renderDisabledItemsAsGrayscale:!0,emptyPlaceholder:n},t))},ne=function(e){return"CATEGORIZED"===e?c.createElement(c.Fragment,null,R.map((function(e,t){var i,r,a,l,u,s,f,m,g,y,v,b;return c.createElement("div",{key:t,className:"templates quick-start-templates"},te(e.templates,{"data-testid":"".concat(e.id,"-template-grid"),heading:e.displayName,showTagIcon:null===(i=e.viewConfigs)||void 0===i||null===(r=i.tags)||void 0===r?void 0:r.showTagIcon,showTags:null===(a=e.viewConfigs)||void 0===a||null===(l=a.tags)||void 0===l?void 0:l.showTags,subHeading:e.description,tagSize:null===(u=e.viewConfigs)||void 0===u||null===(s=u.tags)||void 0===s?void 0:s.tagSize,tagsAs:null===(f=e.viewConfigs)||void 0===f||null===(m=f.tags)||void 0===m?void 0:m.as,tagsKey:null===(g=e.viewConfigs)||void 0===g||null===(y=g.tags)||void 0===y?void 0:y.tagsKey,tagsSectionTitle:null===(v=e.viewConfigs)||void 0===v||null===(b=v.tags)||void 0===b?void 0:b.sectionTitle},c.createElement(o.$J,{image:(0,d.jF)().newList,imageSize:"tiny",title:E("console:develop.features.templates.emptyPlaceholder.title"),subtitle:[E("console:develop.features.templates.emptyPlaceholder.subtitles")],"data-testid":"".concat(n,"-quick-start-template-grid-empty-placeholder")})),c.createElement(p.Z,{hidden:!0}))}))):"SEARCH_RESULTS"===e?c.createElement("div",{className:"templates search-results"},te([],{"data-testid":"".concat(n,"-search-template-grid")},c.createElement(f.Z,{centered:!0},c.createElement(f.Z.Row,null,c.createElement(f.Z.Column,null,c.createElement(o.$J,{image:(0,d.jF)().emptySearch,imageSize:"tiny",title:"No results found",subtitle:["We weren't able to find the type you were looking for.","Please try a different term or use one of the following application types to create a new application."],"data-testid":"".concat(n,"-quick-start-template-grid-empty-\n                                                    placeholder")})))),H,!0)):null};return c.createElement(o.Xg,{pageTitle:"Register New Application",title:E("console:develop.pages.applicationTemplate.title"),contentTopMargin:!0,description:E("console:develop.pages.applicationTemplate.subTitle"),backButton:{"data-testid":"".concat(n,"-page-back-button"),onClick:function(){d.m8.push(d.$x.getPaths().get("APPLICATIONS"))},text:E("console:develop.pages.applicationTemplate.backButton")},titleTextAlign:"left",bottomMargin:!1,showBottomDivider:!0,"data-testid":"".concat(n,"-page-layout"),headingColumnWidth:13,actionColumnWidth:3},false,W&&H?ne("SEARCH_RESULTS"):O&&!B?ne("CATEGORIZED"):c.createElement(o.pO,{dimmer:!0}),D&&c.createElement(g.y,{title:null==G?void 0:G.name,subTitle:null==G?void 0:G.description,closeWizard:function(){return N(!1)},template:G,showHelpPanel:!0,subTemplates:null==G?void 0:G.subTemplates,subTemplatesSectionTitle:null==G?void 0:G.subTemplatesSectionTitle,addProtocol:!1,templateLoadingStrategy:null!==(t=P.ui.applicationTemplateLoadingStrategy)&&void 0!==t?t:v.jo.DEFAULT_APP_TEMPLATE_LOADING_STRATEGY}))};R.defaultProps={"data-testid":"application-templates"};const Z=R}}]);