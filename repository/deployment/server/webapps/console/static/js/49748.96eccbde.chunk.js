"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[49748],{49748:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(14603),o=n(90268),a=n(81816),s=n(52983),i=n(9202),l=n(54221),u=n(30640),c=n(58900),f=n(62868),d=n(99778),m=n(2540);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e["data-testid"],n=(0,i.$)().t,g=(0,a.fQ)().getLink,v=[{key:0,text:n("common:name"),value:"name"},{key:1,text:n("common:description"),value:"description"}],E=(0,l.v9)((function(e){return e.config.ui.features})),p=S((0,s.useState)([]),2),y=p[0],h=p[1],R=S((0,s.useState)(0),2),_=R[0],b=R[1],O=S((0,s.useState)(u.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),1)[0],U=S((0,s.useState)(void 0),2),T=U[0],C=U[1],A=S((0,s.useState)(v[0]),1)[0],L=S((0,s.useState)(!0),1)[0],w=S((0,s.useState)(""),2),I=w[0],P=w[1],k=S((0,s.useState)(!1),2),M=k[0],x=k[1],j=(0,l.I0)(),Q=(0,c.zU)({filter:null,limit:null,offset:null,sort:null}),z=Q.data,D=Q.isLoading,F=Q.error,N=Q.mutate;(0,s.useEffect)((function(){if(z){var e=z.filter((function(e){return e.id!==m.RemoteUserStoreConstants.CUSTOMER_USERSTORE_ID}));h(e),C(e)}}),[z]),(0,s.useEffect)((function(){var e,t,a,s,i,l;F&&(null==F||null===(e=F.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)!==d.u4.RESOURCE_NOT_FOUND_ERROR_MESSAGE&&j((0,o.V_)({description:(null==F||null===(a=F.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.description)||n("console:manage.features.userstores.notifications.fetchUserstores.genericError.description"),level:r.QU.ERROR,message:(null==F||null===(i=F.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||n("console:manage.features.userstores.notifications.fetchUserstores.genericError.message")}))}),[F]),(0,s.useEffect)((function(){C((0,u.fS)(T,A.value,L))}),[A,L]);return s.createElement(a.Xg,{pageTitle:"User Stores",title:n("extensions:manage.features.userStores.list.title"),description:s.createElement(s.Fragment,null,n("extensions:manage.features.userStores.list.subTitle"),s.createElement(a.eb,{link:g("manage.userStores.userStoresList.learnMore")},n("extensions:common.learnMore"))),"data-testid":"".concat(t,"-page-layout")},s.createElement(a.PS,{currentListSize:O,listItemLimit:O,onPageChange:function(e,t){b((t.activePage-1)*O)},leftActionPanel:null,showPagination:!1,showTopActionPanel:!1,totalPages:1,totalListSize:null==T?void 0:T.length,isLoading:D||void 0===T,"data-testid":"".concat(t,"-list-layout")},s.createElement(f.rO,{list:function(e,t,n){return null==e?void 0:e.slice(n,n+t)}(T,O,_),onEmptyListPlaceholderActionClick:function(){return u.m8.push(m.RemoteUserStoreConstants.getPaths().get("REMOTE_USER_STORE_CREATE"))},onSearchQueryClear:function(){x(!M),P(""),C(y)},searchQuery:I,update:function(){return N()},featureConfig:E,"data-testid":"".concat(t,"-list")})))};v.defaultProps={"data-testid":"userstores"};const E=v}}]);