"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[89099],{89099:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(14603),o=n(90268),a=n(81816),i=n(52983),s=n(9202),u=n(54221),l=n(30640),c=n(14525),p=n(58782),f=n(42466),d=n(77965);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e["data-componentid"],n=(0,s.$)().t,m=(0,u.I0)(),b=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),A=g((0,i.useState)(!1),2),v=A[0],y=A[1],E=g((0,i.useState)(null),2),R=E[0],h=E[1],I=(0,u.v9)((function(e){return e.config.ui.features})),O=l.m8.location.pathname.split("/"),S=O[O.length-2],P=(0,c.Eb)(R),k=P.data,w=P.isLoading,x=P.error,T=P.mutate;(0,i.useEffect)((function(){C()}),[]),(0,i.useEffect)((function(){if(k){var e=!d.H.isAPIResourceUpdateAllowed(I,b),t=d.H.isSystemAPI(null==k?void 0:k.type);(e||t)&&y(!0)}}),[k]),(0,i.useEffect)((function(){x&&m((0,o.V_)({description:n("extensions:develop.apiResource.notifications.getAPIResource.genericError.description"),level:r.QU.ERROR,message:n("extensions:develop.apiResource.notifications.getAPIResource.genericError.message")}))}),[x]);var C=function(){var e=l.m8.location.pathname.split("/"),t=e[e.length-1];h(t)};return!w&&!k||x?i.createElement(a.$J,{subtitle:[n("extensions:develop.apiResource.tabs.apiResourceError.subtitles.0"),n("extensions:develop.apiResource.tabs.apiResourceError.subtitles.1")],title:n("extensions:develop.apiResource.tabs.apiResourceError.title"),image:(0,l.jF)().emptySearch,imageSize:"tiny"}):i.createElement(a.O9,{isLoading:w,title:null==k?void 0:k.name,pageTitle:n("extensions:develop.apiResource.tabs.title"),loadingStateOptions:{count:5,imageType:"circular"},backButton:{"data-testid":"".concat(t,"-back-button"),onClick:function(){S===f.$d.MANAGEMENT||S===f.$d.ORGANIZATION?l.m8.push(f.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",S)):l.m8.push(f.KG.getPaths().get("API_RESOURCES"))},text:S===f.$d.MANAGEMENT?n("console:manage.pages.rolesEdit.backButton",{type:"Management APIs"}):S===f.$d.ORGANIZATION?n("console:manage.pages.rolesEdit.backButton",{type:"Organization APIs"}):n("console:manage.pages.rolesEdit.backButton",{type:"APIs"})},titleTextAlign:"left",bottomMargin:!1,pageHeaderMaxWidth:!0},i.createElement(p.Z,{apiResourceData:k,isAPIResourceDataLoading:w,featureConfig:I,isReadOnly:v,mutateAPIResource:T}))};b.defaultProps={"data-componentid":"api-resource-edit"};const A=b}}]);