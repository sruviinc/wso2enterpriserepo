"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[85024,72630,26909,76653,43240],{26909:(e,r,t)=>{t.r(r),t.d(r,{RolePermissionDetails:()=>u});var n=t(14603),o=t(90268),s=t(52983),a=t(9202),i=t(54221),l=t(49238),c=t(43240),u=function(e){var r=(0,a.$)().t,t=(0,i.I0)(),u=e.isReadOnly,f=e.roleObject,m=e.onRoleUpdate,d=e.isGroup;return s.createElement("div",{className:"permissions-edit-container"},s.createElement(c.PermissionList,{isReadOnly:u,isEdit:!u,isRole:!0,onSubmit:function(e){var s={Operations:[{op:"replace",path:"permissions",value:e.map((function(e){return e.key}))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.ul)(f.id,s).then((function(){t((0,o.V_)({description:r(d?"console:manage.features.groups.notifications.updateGroup.success.description":"console:manage.features.roles.notifications.updateRole.success.description"),level:n.QU.SUCCESS,message:r(d?"console:manage.features.groups.notifications.updateGroup.success.message":"console:manage.features.roles.notifications.updateRole.success.message")})),m()})).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data.detail?t((0,o.V_)({description:r(d?"console:manage.features.groups.notifications.createPermission.error.description":"console:manage.features.roles.notifications.createPermission.error.description",{description:e.response.data.detail}),level:n.QU.ERROR,message:r(d?"console:manage.features.groups.notifications.createPermission.error.message":"console:manage.features.roles.notifications.createPermission.error.message")})):t((0,o.V_)({description:r(d?"console:manage.features.groups.notifications.createPermission.genericError.description":"console:manage.features.roles.notifications.createPermission.genericError.description"),level:n.QU.ERROR,message:r(d?"console:manage.features.groups.notifications.createPermission.genericError.message":"console:manage.features.roles.notifications.createPermission.genericError.message")})):t((0,o.V_)({description:r(d?"console:manage.features.groups.notifications.createPermission.error.description":"console:manage.features.roles.notifications.createPermission.error.description"),level:n.QU.ERROR,message:r(d?"console:manage.features.groups.notifications.createPermission.error.message":"console:manage.features.roles.notifications.createPermission.error.message")}))}))},roleObject:f}))}},76653:(e,r,t)=>{t.r(r),t.d(r,{RoleUserDetails:()=>p});var n=t(14603),o=t(90268),s=t(52983),a=t(9202),i=t(54221),l=t(49238),c=t(85814),u=t(43240);function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,s,a,i=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(i.push(n.value),i.length!==r);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,r)||m(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var p=function(e){var r=(0,a.$)().t,t=(0,i.I0)(),d=e.roleObject,p=e.onRoleUpdate,g=e.isReadOnly,y=f((0,s.useState)(void 0),2),R=y[0],v=y[1];(0,s.useEffect)((function(){if(null!=d&&d.displayName){var e=d.displayName;-1!==e.indexOf("/")?v(e.split("/")[0]):v(c.$R)}}),[R,d]);var h=function(e){t((0,o.V_)(e))};return s.createElement(u.AddRoleUsers,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,isEdit:!0,isReadOnly:g,userStore:R,assignedUsers:null==d?void 0:d.users,onSubmit:function(e){var t,o=[],s=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=m(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw s}}}}(e);try{for(s.s();!(t=s.n()).done;){var a=t.value;o.push({value:a.id})}}catch(c){s.e(c)}finally{s.f()}var i={Operations:[{op:"replace",path:"users",value:o}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.dB)(d.id,i).then((function(){h({description:r("console:manage.features.roles.notifications.updateRole.success.description"),level:n.QU.SUCCESS,message:r("console:manage.features.roles.notifications.updateRole.success.message")}),p()})).catch((function(){h({description:r("console:manage.features.roles.notifications.updateRole.error.description"),level:n.QU.ERROR,message:r("console:manage.features.roles.notifications.updateRole.error.message")})}))}})}},72630:(e,r,t)=>{t.r(r),t.d(r,{EditRole:()=>d});var n=t(96433),o=t(81816),s=t(52983),a=t(9202),i=t(95642),l=t(26909),c=t(76653),u=t(30640);function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,s,a,i=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(i.push(n.value),i.length!==r);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var d=function(e){var r=e.roleObject,t=e.onRoleUpdate,m=(0,a.$)().t,d=f((0,s.useState)(!1),2),p=d[0],g=d[1],y=f((0,s.useState)(!1),2),R=y[0],v=y[1];(0,s.useEffect)((function(){r&&g(u.m8.location.pathname.includes("/groups/"))}),[r]),(0,s.useEffect)((function(){r&&v(r.displayName===n.nL.ADMIN_ROLE||r.displayName===n.nL.ADMIN_GROUP)}),[r]);return s.createElement(o.M$,{panes:[{menuItem:"General",render:function(){return s.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(i.BasicRoleDetails,{isReadOnly:R,"data-testid":"role-mgt-edit-role-basic",isGroup:p,roleObject:r,onRoleUpdate:t}))}},{menuItem:m("console:manage.features.roles.edit.menuItems.permissions"),render:function(){return s.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(l.RolePermissionDetails,{isReadOnly:R,"data-testid":"role-mgt-edit-role-permissions",isGroup:!1,roleObject:r,onRoleUpdate:t}))}},{menuItem:m("console:manage.features.roles.edit.menuItems.users"),render:function(){return s.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(c.RoleUserDetails,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,roleObject:r,onRoleUpdate:t}))}}]})}},85024:(e,r,t)=>{t.r(r),t.d(r,{BasicRoleDetails:()=>o.BasicRoleDetails,EditRole:()=>n.EditRole,RoleGroupsList:()=>i.RoleGroupsList,RolePermissionDetails:()=>s.RolePermissionDetails,RoleUserDetails:()=>a.RoleUserDetails});var n=t(72630),o=t(95642),s=t(26909),a=t(76653),i=t(77030)},43240:(e,r,t)=>{t.r(r),t.d(r,{AddRoleUsers:()=>i.AddRoleUsers,CreateRoleSummary:()=>s.CreateRoleSummary,CreateRoleWizard:()=>n.CreateRoleWizard,PermissionList:()=>o.PermissionList,RoleBasics:()=>a.RoleBasics});var n=t(24001),o=t(19011),s=t(43351),a=t(79960),i=t(53214)}}]);