"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[22969,85024,72630,26909,76653,23020,43240],{26909:(e,t,n)=>{n.r(t),n.d(t,{RolePermissionDetails:()=>u});var r=n(14603),o=n(90268),a=n(52983),s=n(9202),i=n(54221),l=n(49238),c=n(43240),u=function(e){var t=(0,s.$)().t,n=(0,i.I0)(),u=e.isReadOnly,m=e.roleObject,d=e.onRoleUpdate,f=e.isGroup;return a.createElement("div",{className:"permissions-edit-container"},a.createElement(c.PermissionList,{isReadOnly:u,isEdit:!u,isRole:!0,onSubmit:function(e){var a={Operations:[{op:"replace",path:"permissions",value:e.map((function(e){return e.key}))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.ul)(m.id,a).then((function(){n((0,o.V_)({description:t(f?"console:manage.features.groups.notifications.updateGroup.success.description":"console:manage.features.roles.notifications.updateRole.success.description"),level:r.QU.SUCCESS,message:t(f?"console:manage.features.groups.notifications.updateGroup.success.message":"console:manage.features.roles.notifications.updateRole.success.message")})),d()})).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data.detail?n((0,o.V_)({description:t(f?"console:manage.features.groups.notifications.createPermission.error.description":"console:manage.features.roles.notifications.createPermission.error.description",{description:e.response.data.detail}),level:r.QU.ERROR,message:t(f?"console:manage.features.groups.notifications.createPermission.error.message":"console:manage.features.roles.notifications.createPermission.error.message")})):n((0,o.V_)({description:t(f?"console:manage.features.groups.notifications.createPermission.genericError.description":"console:manage.features.roles.notifications.createPermission.genericError.description"),level:r.QU.ERROR,message:t(f?"console:manage.features.groups.notifications.createPermission.genericError.message":"console:manage.features.roles.notifications.createPermission.genericError.message")})):n((0,o.V_)({description:t(f?"console:manage.features.groups.notifications.createPermission.error.description":"console:manage.features.roles.notifications.createPermission.error.description"),level:r.QU.ERROR,message:t(f?"console:manage.features.groups.notifications.createPermission.error.message":"console:manage.features.roles.notifications.createPermission.error.message")}))}))},roleObject:m}))}},76653:(e,t,n)=>{n.r(t),n.d(t,{RoleUserDetails:()=>p});var r=n(14603),o=n(90268),a=n(52983),s=n(9202),i=n(54221),l=n(49238),c=n(85814),u=n(43240);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=(0,s.$)().t,n=(0,i.I0)(),f=e.roleObject,p=e.onRoleUpdate,y=e.isReadOnly,g=m((0,a.useState)(void 0),2),h=g[0],R=g[1];(0,a.useEffect)((function(){if(null!=f&&f.displayName){var e=f.displayName;-1!==e.indexOf("/")?R(e.split("/")[0]):R(c.$R)}}),[h,f]);var v=function(e){n((0,o.V_)(e))};return a.createElement(u.AddRoleUsers,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,isEdit:!0,isReadOnly:y,userStore:h,assignedUsers:null==f?void 0:f.users,onSubmit:function(e){var n,o=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw a}}}}(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;o.push({value:s.id})}}catch(c){a.e(c)}finally{a.f()}var i={Operations:[{op:"replace",path:"users",value:o}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,l.dB)(f.id,i).then((function(){v({description:t("console:manage.features.roles.notifications.updateRole.success.description"),level:r.QU.SUCCESS,message:t("console:manage.features.roles.notifications.updateRole.success.message")}),p()})).catch((function(){v({description:t("console:manage.features.roles.notifications.updateRole.error.description"),level:r.QU.ERROR,message:t("console:manage.features.roles.notifications.updateRole.error.message")})}))}})}},72630:(e,t,n)=>{n.r(t),n.d(t,{EditRole:()=>f});var r=n(96433),o=n(81816),a=n(52983),s=n(9202),i=n(95642),l=n(26909),c=n(76653),u=n(30640);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.roleObject,n=e.onRoleUpdate,d=(0,s.$)().t,f=m((0,a.useState)(!1),2),p=f[0],y=f[1],g=m((0,a.useState)(!1),2),h=g[0],R=g[1];(0,a.useEffect)((function(){t&&y(u.m8.location.pathname.includes("/groups/"))}),[t]),(0,a.useEffect)((function(){t&&R(t.displayName===r.nL.ADMIN_ROLE||t.displayName===r.nL.ADMIN_GROUP)}),[t]);return a.createElement(o.M$,{panes:[{menuItem:"General",render:function(){return a.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},a.createElement(i.BasicRoleDetails,{isReadOnly:h,"data-testid":"role-mgt-edit-role-basic",isGroup:p,roleObject:t,onRoleUpdate:n}))}},{menuItem:d("console:manage.features.roles.edit.menuItems.permissions"),render:function(){return a.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},a.createElement(l.RolePermissionDetails,{isReadOnly:h,"data-testid":"role-mgt-edit-role-permissions",isGroup:!1,roleObject:t,onRoleUpdate:n}))}},{menuItem:d("console:manage.features.roles.edit.menuItems.users"),render:function(){return a.createElement(o.M$.Pane,{controlledSegmentation:!0,attached:!1},a.createElement(c.RoleUserDetails,{"data-testid":"role-mgt-edit-role-users",isGroup:!1,roleObject:t,onRoleUpdate:n}))}}]})}},85024:(e,t,n)=>{n.r(t),n.d(t,{BasicRoleDetails:()=>o.BasicRoleDetails,EditRole:()=>r.EditRole,RoleGroupsList:()=>i.RoleGroupsList,RolePermissionDetails:()=>a.RolePermissionDetails,RoleUserDetails:()=>s.RoleUserDetails});var r=n(72630),o=n(95642),a=n(26909),s=n(76653),i=n(77030)},22969:(e,t,n)=>{n.r(t),n.d(t,{AddRoleUsers:()=>o.AddRoleUsers,BasicRoleDetails:()=>r.BasicRoleDetails,CreateRoleSummary:()=>o.CreateRoleSummary,CreateRoleWizard:()=>o.CreateRoleWizard,EditRole:()=>r.EditRole,PermissionList:()=>o.PermissionList,RoleBasics:()=>o.RoleBasics,RoleGroupsList:()=>r.RoleGroupsList,RoleList:()=>a.RoleList,RolePermissionDetails:()=>r.RolePermissionDetails,RoleUserDetails:()=>r.RoleUserDetails});var r=n(85024),o=n(43240),a=n(23020)},23020:(e,t,n)=>{n.r(t),n.d(t,{RoleList:()=>p});var r=n(96433),o=n(81816),a=n(52983),s=n(9202),i=n(73949),l=n(74691),c=n(97860),u=n(30640),m=n(85814);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,f=e.handleRoleDelete,p=e.isLoading,y=e.onEmptyListPlaceholderActionClick,g=e.onListItemClick,h=e.onSearchQueryClear,R=e.roleList,v=e.selection,b=e.searchQuery,E=e.showListItemActions,S=e.showHeader,P=e.showRoleType,O=e["data-testid"],A=(0,s.$)().t,I=d((0,a.useState)(!1),2),L=I[0],w=I[1],C=d((0,a.useState)(),2),U=C[0],j=C[1],D=function(e){u.m8.push(u.$x.getPaths().get("ROLE_EDIT").replace(":id",e))},k=function(){return b?a.createElement(o.$J,{"data-testid":"".concat(O,"-search-empty-placeholder"),action:a.createElement(o.Qj,{"data-testid":"".concat(O,"-search-empty-placeholder-clear-button"),onClick:h},A("console:manage.features.roles.list.emptyPlaceholders.search.action")),image:(0,u.jF)().emptySearch,imageSize:"tiny",title:A("console:manage.features.roles.list.emptyPlaceholders.search.title"),subtitle:[A("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.0",{searchQuery:b}),A("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.1")]}):0===(null==R?void 0:R.totalResults)?a.createElement(o.$J,{"data-testid":"".concat(O,"-empty-list-empty-placeholder"),action:a.createElement(o.KM,{"data-testid":"".concat(O,"-empty-list-empty-placeholder-add-button"),onClick:y},a.createElement(l.Z,{name:"add"}),A("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.action",{type:"Role"})),image:(0,u.jF)().newList,imageSize:"tiny",title:A("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.title",{type:"role"}),subtitle:[A("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"roles"}),A("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.1",{type:"role"}),A("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.2",{type:"role"})]}):null};return a.createElement(a.Fragment,null,a.createElement(o.wQ,{className:"roles-list",externalSearch:t,isLoading:p,loadingStateOptions:{count:null!=n?n:u.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(E)return[{icon:function(){return"pencil alternate"},onClick:function(e,t){return D(null==t?void 0:t.id)},popupText:function(){return A("console:manage.features.roles.list.popups.edit",{type:"Role"})},renderer:"semantic-icon"},{hidden:function(e){return(null==e?void 0:e.displayName)===r.nL.ADMIN_ROLE||(null==e?void 0:e.displayName)===r.nL.ADMIN_GROUP},icon:function(){return"trash alternate"},onClick:function(e,t){j(t),w(!L)},popupText:function(){return A("console:manage.features.roles.list.popups.delete",{type:"Role"})},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return a.createElement(c.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(O,"-item-heading")},a.createElement(o.JT,{image:a.createElement(o.Xo,{name:null==e?void 0:e.displayName[0],size:"mini","data-testid":"".concat(O,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(O,"-item-image")}),a.createElement(c.Z.Content,null,a.createElement("div",{className:"mt-2"}," ",(t=null==e?void 0:e.displayName).includes(m.Fn)?P?a.createElement(a.Fragment,null,a.createElement(i.Z,{"data-testid":"".concat(O,"-role-").concat(t.split("/")[1],"-label"),content:"Application",size:"mini",className:"application-label"}),"/ "+t.split("/")[1]):t.split("/")[1]:P?a.createElement(a.Fragment,null,a.createElement(i.Z,{"data-testid":"".concat(O,"-role-").concat(t,"-label"),content:"Internal",size:"mini",className:"internal-label"}),"/ "+t):t," ")));var t},title:A("console:manage.features.roles.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:null==R?void 0:R.Resources,onRowClick:function(e,t){D(null==t?void 0:t.id),g(e,t)},placeholders:k(),selectable:v,showHeader:S,transparent:!p&&null!==k(),"data-testid":O}),L&&a.createElement(o.cV,{"data-testid":"".concat(O,"-delete-item-confirmation-modal"),onClose:function(){return w(!1)},type:"warning",open:L,assertionHint:A("console:manage.features.roles.list.confirmations.deleteItem.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return w(!1)},onPrimaryActionClick:function(){f(U),w(!1)},closeOnDimmerClick:!1},a.createElement(o.cV.Header,null,A("console:manage.features.roles.list.confirmations.deleteItem.header")),a.createElement(o.cV.Message,{attached:!0,warning:!0},A("console:manage.features.roles.list.confirmations.deleteItem.message",{type:"role"})),a.createElement(o.cV.Content,null,A("console:manage.features.roles.list.confirmations.deleteItem.content",{type:"role"}))))};p.defaultProps={selection:!0,showHeader:!1,showListItemActions:!0,showMetaContent:!0,showRoleType:!1}},43240:(e,t,n)=>{n.r(t),n.d(t,{AddRoleUsers:()=>i.AddRoleUsers,CreateRoleSummary:()=>a.CreateRoleSummary,CreateRoleWizard:()=>r.CreateRoleWizard,PermissionList:()=>o.PermissionList,RoleBasics:()=>s.RoleBasics});var r=n(24001),o=n(19011),a=n(43351),s=n(79960),i=n(53214)}}]);