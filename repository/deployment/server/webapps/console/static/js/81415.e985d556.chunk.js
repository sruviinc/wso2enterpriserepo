"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[81415,4196,58081,52224,79505],{4196:(e,n,t)=>{t.r(n),t.d(n,{addNewTenant:()=>a.addNewTenant,checkDuplicateTenants:()=>a.checkDuplicateTenants,getAssociatedTenants:()=>a.getAssociatedTenants,getDomainQueryParam:()=>a.getDomainQueryParam,makeTenantDefault:()=>a.makeTenantDefault});var a=t(26419)},58081:(e,n,t)=>{t.r(n),t.d(n,{AddTenantWizardForm:()=>g});var a=t(59206),r=t(81816),i=t(68079),o=t(36382),l=t(67127),s=t(52983),c=t(9202),u=t(39990),m=t(54221),T=t(75917),N=t(48684),d=t(4196),E=t(52224);function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i,o,l=[],s=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(a=i.call(t)).done)&&(l.push(a.value),l.length!==n);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var g=function(e){var n=e.setSubmissionValue,t=e.triggerSubmission,_=e.tenantDuplicate,g=e.setTenantDuplicate,A=e.isCheckingTenantExistence,p=e.setCheckingTenantExistence,h=e["data-testid"],M=f((0,s.useState)(E.TenantManagementConstants.TENANT_URI_PLACEHOLDER),2),L=M[0],v=M[1],y=f((0,s.useState)(!1),2),b=y[0],S=y[1],C=(0,m.v9)((function(e){var n,t,a;return null===(n=e.config)||void 0===n||null===(t=n.deployment)||void 0===t||null===(a=t.extensions)||void 0===a?void 0:a.regionQualifiedConsoleUrl})),R=(0,m.v9)((function(e){var n,t;return null===(n=e.config)||void 0===n||null===(t=n.deployment)||void 0===t?void 0:t.tenantPrefix})),I=(0,c.$)().t,O=function(e){var n=!!e&&!!e.match(E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_PATTERN);return n||(p(!1),w.cancel()),n},w=(0,s.useCallback)((0,o.Z)((function(e){(0,d.checkDuplicateTenants)(e).then((function(e){200==e.status&&g(!0),p(!1)})).catch((function(e){404==e.response.status&&g(!1),p(!1)}))}),1e3),[]);return s.createElement(s.Fragment,null,s.createElement(a.l0,{id:"add-tenant-wizard-form",onSubmit:function(e){n(e)},triggerSubmit:function(e){return t(e)},uncontrolledForm:!1,validate:(_||L===E.TenantManagementConstants.TENANT_URI_PLACEHOLDER)&&function(e){var n={tenantName:void 0};return _?n.tenantName=I("extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.validations.duplicate",{tenantName:e.toString()}):e.tenantName||(n.tenantName=I("extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.validations.empty")),n}},s.createElement(a.gN.Input,{ariaLabel:"Tenant Name",inputType:"resource_name",name:"tenantName",label:I("extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.label"),placeholder:I("extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.placeholder"),required:!0,listen:function(e){return n=e,g(!1),void((0,l.Z)(n)?(v(E.TenantManagementConstants.TENANT_URI_PLACEHOLDER),S(!1)):(v(n),S(O(n))));var n},maxLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MAX_LENGTH,minLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH,validation:function(e){return O(e.toString())?_?I("extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.validations.duplicate",{tenantName:e.toString()}):(p(!0),void w(e.toString())):e.length<E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH?s.createElement(r.v0,{error:!0},s.createElement(u.c,{i18nKey:"extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.validations.invalidLength",minLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH,maxLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MAX_LENGTH},"The name you entered is less than ",{minLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH}," characters. It must",s.createElement("ul",null,s.createElement("li",null,"be unique"),s.createElement("li",null,s.createElement(s.Fragment,null,"contain more than"," ",{minLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH},"and less than"," ",{maxLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MAX_LENGTH},"characters")),s.createElement("li",null,"consist of only lowercase alphanumeric characters"),s.createElement("li",null,"begin with an alphabetic character")))):s.createElement(r.v0,{error:!0},s.createElement(u.c,{i18nKey:"extensions:manage.features.tenant.wizards.addTenant.forms.fields.tenantName.validations.invalid",minLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH,maxLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MAX_LENGTH},"Please enter a valid format for organization name. It must",s.createElement("ul",null,s.createElement("li",null,"be unique"),s.createElement("li",null,s.createElement(s.Fragment,null,"contain more than"," ",{minLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MIN_LENGTH},"and less than"," ",{maxLength:E.TenantManagementConstants.FORM_FIELD_CONSTRAINTS.TENANT_NAME_MAX_LENGTH},"characters")),s.createElement("li",null,"consist of only lowercase alphanumeric characters"),s.createElement("li",null,"begin with an alphabetic character"))))},width:16,"data-testid":"".concat(h,"-type-input")})),s.createElement(T.Z,{className:"mt-1",hidden:!0}),A?s.createElement("span",{className:"display-flex"},"".concat(null!=C?C:"https://console.asgardeo.io","/").concat(null!=R?R:"t","/"),s.createElement(N.Z,{basic:!0,size:"mini"},s.createElement(i.p,{className:"p-0",size:"mini",active:!0,inline:!0,"data-testid":"".concat(h,"-name-loader")}))):s.createElement("span",null,"".concat(null!=C?C:"https://console.asgardeo.io","/").concat(null!=R?R:"t","/"),s.createElement("span",{className:"".concat(L!==E.TenantManagementConstants.TENANT_URI_PLACEHOLDER?b&&!_?"valid-tenant placeholder-uri-bold":"invalid-tenant placeholder-uri-bold":L==E.TenantManagementConstants.TENANT_URI_PLACEHOLDER?b&&!_?"valid-tenant placeholder-uri-bold":"placeholder-uri":void 0)},L,s.createElement(r.kW,{icon:"info circle",popup:!0},I("extensions:manage.features.tenant.wizards.addTenant.tooltips.message")))),s.createElement(T.Z,{className:"mt-1",hidden:!0}),s.createElement(r.v0,{type:"info",content:s.createElement(u.c,{i18nKey:"extensions:manage.features.tenant.wizards.addTenant.forms.messages.info"},"Think of a good, unique organization name for your new Asgardeo workspace because you\xa0won\u2019t be able to change it later!")}))};g.defaultProps={"data-testid":"add-tenant-wizard-form"}},81415:(e,n,t)=>{t.r(n),t.d(n,{AddTenantWizardForm:()=>a.AddTenantWizardForm});var a=t(58081)},52224:(e,n,t)=>{t.r(n),t.d(n,{TenantManagementConstants:()=>a.TenantManagementConstants});var a=t(79505)},79505:(e,n,t)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l(a.key),a)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,n,t){return(n=l(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){var n=function(e,n){if("object"!==a(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===a(n)?n:String(n)}t.r(n),t.d(n,{TenantManagementConstants:()=>s});var s=i((function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}));o(s,"TENANT_URI_PLACEHOLDER","myorg"),o(s,"EU_PROD_CONSOLE_FALLBACK_URL","https://console.eu.asgardeo.io"),o(s,"US_PROD_CONSOLE_FALLBACK_URL","https://console.asgardeo.io"),o(s,"FORM_FIELD_CONSTRAINTS",{TENANT_NAME_ALPHANUMERIC:new RegExp("^[a-z0-9]+$"),TENANT_NAME_FIRST_ALPHABET:new RegExp("^[a-z]"),TENANT_NAME_MAX_LENGTH:30,TENANT_NAME_MIN_LENGTH:4,TENANT_NAME_PATTERN:new RegExp("^[a-z][a-z0-9]{3,29}$")})}}]);