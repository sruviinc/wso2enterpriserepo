"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[96964],{96964:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(40904),r=n(89101),i=n(57477),o=n(14603),c=n(90268),l=n(81816),s=n(52983),u=n(9202),d=n(54221),p=n(74691),m=n(71325),f=n(75917),g=n(30640),E=n(14525),v=n(58782),h=n(20193),R=n(42466),A=n(77965);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var P=function(e){var t=e["data-componentid"],n=(0,u.$)().t,y=(0,d.I0)(),P=(0,l.fQ)().getLink,I=S((0,s.useState)(1),2),b=I[0],x=I[1],C=S((0,s.useState)(!1),2),O=C[0],k=C[1],w=S((0,s.useState)(!1),2),Z=w[0],G=w[1],_=S((0,s.useState)(!1),2),L=_[0],N=_[1],T=S((0,s.useState)(""),2),K=T[0],z=T[1],U=S((0,s.useState)([]),2),Q=U[0],j=U[1],B=S((0,s.useState)(void 0),2),F=B[0],H=B[1],M=S((0,s.useState)(void 0),2),V=M[0],W=M[1],$=S((0,s.useState)(void 0),2),D=$[0],X=$[1],q=S((0,s.useState)(void 0),2),J=q[0],Y=q[1],ee=S((0,s.useState)("type eq ".concat(R.KG.BUSINESS)),2),te=ee[0],ne=ee[1],ae=(0,d.v9)((function(e){return e.config.ui.features})),re=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),ie=(0,E.cQ)(F,V,te),oe=ie.data,ce=ie.isLoading,le=ie.error,se=ie.mutate;(0,s.useEffect)((function(){if(oe instanceof i.u)y((0,c.V_)({description:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:o.QU.ERROR,message:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}));else if(oe){var e,t=oe.apiResources.map((function(e){return e}));if(X(void 0),Y(void 0),oe.links&&0!==oe.links.length)null===(e=oe.links)||void 0===e||e.forEach((function(e){switch(e.rel){case R.KG.NEXT_REL:X(e.href.split("".concat(R.KG.AFTER,"="))[1]);break;case R.KG.PREVIOUS_REL:Y(e.href.split("".concat(R.KG.BEFORE,"="))[1])}}));j(t)}}),[oe]),(0,s.useEffect)((function(){le&&y((0,c.V_)({description:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:o.QU.ERROR,message:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}))}),[le]),(0,s.useEffect)((function(){Z&&(se(),G(!1))}),[Z]),(0,s.useEffect)((function(){var e="type eq ".concat(R.KG.BUSINESS);ne(K?"".concat(K," and ").concat(e):e)}),[K]);var ue=function(e,t){H(e),W(t),G(!0)};return s.createElement(l.Xg,{action:A.H.isAPIResourceCreateAllowed(ae,re)&&(null==Q?void 0:Q.length)>0&&s.createElement(l.KM,{"data-testid":"".concat(t,"-add-api-resources-button"),onClick:function(){return k(!0)}},s.createElement(p.Z,{name:"add"}),n("extensions:develop.apiResource.addApiResourceButton")),pageTitle:n("extensions:develop.apiResource.pageHeader.title"),title:n("extensions:develop.apiResource.pageHeader.title"),description:s.createElement(s.Fragment,null,n("extensions:develop.apiResource.pageHeader.description"),s.createElement(l.eb,{link:P("develop.apiResources.learnMore")},n("extensions:common.learnMore"))),"data-componentid":"".concat(t,"-page-layout"),"data-testid":"".concat(t,"-page-layout"),headingColumnWidth:"11",actionColumnWidth:"5"},s.createElement(l.pJ,{onClick:function(){g.m8.push(R.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",R.$d.MANAGEMENT))},className:"clickable","data-componentid":"".concat(t,"-management-api-container")},s.createElement(m.Z,null,s.createElement(m.Z.Item,null,s.createElement(r.Z,{container:!0,direction:"row",xs:12,alignItems:"center"},s.createElement(r.Z,{xs:10,alignContent:"center"},s.createElement(l.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:s.createElement(a.At,{size:"medium"}),spaced:"right",floated:"left",className:"mt-1"}),s.createElement(m.Z.Header,null,n("extensions:develop.apiResource.managementAPI.header")),s.createElement(m.Z.Description,null,n("extensions:develop.apiResource.managementAPI.description"))),s.createElement(r.Z,{xs:2},s.createElement(l.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:s.createElement(a.XC,null),spaced:"right",floated:"right"})))))),s.createElement(l.pJ,{onClick:function(){g.m8.push(R.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",R.$d.ORGANIZATION))},className:"clickable","data-componentid":"".concat(t,"-organization-api-container")},s.createElement(m.Z,null,s.createElement(m.Z.Item,null,s.createElement(r.Z,{container:!0,direction:"row",xs:12,alignItems:"center"},s.createElement(r.Z,{xs:10,alignContent:"center"},s.createElement(l.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:s.createElement(a.qW,{size:"medium"}),spaced:"right",floated:"left",className:"mt-1"}),s.createElement(m.Z.Header,null,n("extensions:develop.apiResource.organizationAPI.header")),s.createElement(m.Z.Description,null,n("extensions:develop.apiResource.organizationAPI.description"))),s.createElement(r.Z,{xs:2},s.createElement(l.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:s.createElement(a.XC,null),spaced:"right",floated:"right"})))))),s.createElement(f.Z,{hidden:!0}),s.createElement(l.PS,{advancedSearch:s.createElement(g.nC,{onFilter:function(e){z(e)},filterAttributeOptions:[{key:0,text:n("common:name"),value:"name"}],filterAttributePlaceholder:n("console:develop.features.applications.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:n("console:develop.features.applications.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:n("console:develop.features.applications.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:"Search APIs by name",style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:L,"data-componentid":"".concat(t,"-list-advanced-search")}),showTopActionPanel:!!K||(null==Q?void 0:Q.length)>0,"data-componentid":"".concat(t,"-api-resources-list-layout"),"data-testid":"".concat(t,"-api-resources-list-layout"),onPageChange:function(e,t){var n=parseInt(null==t?void 0:t.activePage);n>b?ue(D,void 0):n<b&&ue(void 0,J),x(n)},showPagination:!0,totalPages:R.KG.DEFAULT_TOTAL_PAGES,totalListSize:null==Q?void 0:Q.length,showPaginationPageLimit:!1,isLoading:ce,activePage:b,paginationOptions:{disableNextButton:!D,disablePreviousButton:!J}},le?s.createElement(l.$J,{subtitle:[n("extensions:develop.apiResource.apiResourceError.subtitles.0"),n("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:n("extensions:develop.apiResource.apiResourceError.title"),image:(0,g.jF)().genericError,imageSize:"tiny"}):s.createElement(v.v,{apiResourcesList:Q,isAPIResourcesListLoading:ce,featureConfig:ae,onAPIResourceDelete:function(){ue()},onSearchQueryClear:function(){z(""),N(!L)},searchQuery:K,categoryId:"custom",onEmptyListPlaceholderActionClicked:function(){return k(!0)}})),O&&s.createElement(h.d,{"data-testid":"".concat(t,"-add-api-resource-wizard-modal"),closeWizard:function(){return k(!1)}}))};P.defaultProps={"data-componentid":"api-resources"};const I=P}}]);