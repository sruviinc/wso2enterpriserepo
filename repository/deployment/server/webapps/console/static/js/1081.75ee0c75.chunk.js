"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1081,64322,1818,63381,94721,3497],{64322:(e,n,t)=>{t.r(n),t.d(n,{deleteGuestUser:()=>r.deleteGuestUser,deleteInvite:()=>r.deleteInvite,generateInviteLink:()=>r.generateInviteLink,getInvitedUserList:()=>r.getInvitedUserList,getUserStores:()=>a.getUserStores,resendInvite:()=>r.resendInvite,sendInvite:()=>r.sendInvite,updateInvite:()=>r.updateInvite,useInvitedUsersList:()=>r.useInvitedUsersList});var r=t(1818),a=t(63381)},1818:(e,n,t)=>{t.r(n),t.d(n,{deleteGuestUser:()=>v,deleteInvite:()=>p,generateInviteLink:()=>E,getInvitedUserList:()=>m,resendInvite:()=>y,sendInvite:()=>f,updateInvite:()=>g,useInvitedUsersList:()=>d});var r=t(93967),a=t(57477),s=t(14603),i=t(85850),o=t(43991),l=t(26187),u=t(99839),c=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),m=function(){var e={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.GET,url:l.h.getState().config.endpoints.inviteEndpoint};return c(e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n={headers:{"Content-Type":"application/json"},method:s.f2.GET,url:l.h.getState().config.endpoints.inviteEndpoint},t=(0,o.Z)(e?n:null),r=t.data,a=t.error;return{data:r,error:a,isLoading:!a&&!r,isValidating:t.isValidating,mutate:t.mutate}},f=function(e){var n={data:e,headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.POST,url:l.h.getState().config.endpoints.inviteEndpoint};return c(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var n={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.DELETE,url:l.h.getState().config.endpoints.inviteEndpoint+"/"+e};return c(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},g=function(e,n){var t={data:n,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.PATCH,url:l.h.getState().config.endpoints.inviteEndpoint+"/"+e};return c(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},v=function(e){var n={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.DELETE,url:l.h.getState().config.endpoints.userEndpoint+"/"+e};return c(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},y=function(e){var n={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.POST,url:l.h.getState().config.endpoints.resendEndpoint.replace("{}",e)};return c(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},E=function(e,n){var t={data:{username:e,userstore:n},headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.POST,url:i.De.resolveServerHost()+l.h.getState().config.endpoints.inviteLinkEndpoint};return c(t).then((function(e){if(201!==e.status)throw new a.u(u.UsersConstants.INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var n,t,r,s,i;throw new a.u(null!==(n=null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)&&void 0!==n?n:u.UsersConstants.RESOURCE_NOT_FOUND_ERROR_MESSAGE,e.stack,null===(s=e.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.code,e.request,e.response,e.config)}))}},63381:(e,n,t)=>{t.r(n),t.d(n,{getUserStores:()=>u});var r=t(93967),a=t(57477),s=t(14603),i=t(30640),o=t(99839),l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),u=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.GET,params:{requiredAttributes:o.UsersConstants.USER_STORE_PROPERTY_READ_ONLY},url:i.h.getState().config.endpoints.userStores};return l(e).then((function(e){if(200!==e.status)throw new a.u(o.UsersConstants.INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var n,t,r,s,i;throw new a.u(null!==(n=null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)&&void 0!==n?n:o.UsersConstants.RESOURCE_NOT_FOUND_ERROR_MESSAGE,e.stack,null===(s=e.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.code,e.request,e.response,e.config)}))}},1081:(e,n,t)=>{t.r(n),t.d(n,{AddUserWizardSummary:()=>C});var r,a=t(14603),s=t(90268),i=t(83831),o=t(81816),l=t(52983),u=t(9202),c=t(39990),m=t(54221),d=t(94635),f=t(74691),p=t(75917),g=t(88171),v=t(5163),y=t(64322);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function h(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==E(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===E(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,s,i,o=[],l=!0,u=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==n);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return U(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var C=function(e){var n=e.selectedUserStore,t=e.username,r=e.password,E=e.isPasswordBased,h=e["data-componentid"],U=(0,u.$)().t,C=(0,m.I0)(),S=(0,m.v9)((function(e){return e.auth.tenantDomain})),w=(0,m.v9)((function(e){var n;return null==e||null===(n=e.organization)||void 0===n?void 0:n.currentOrganization})),A=(0,m.v9)((function(e){var n;return null==e||null===(n=e.organization)||void 0===n?void 0:n.organizationType})),O=b((0,l.useState)(""),2),x=O[0],I=O[1],R=b((0,l.useState)(!0),2),T=R[0],P=R[1],k=(0,l.useMemo)((function(){return A===v.$B.SUBORGANIZATION?w:S}),[S,w]);(0,l.useEffect)((function(){!E&&L()}),[]);var L=function(){(0,y.generateInviteLink)(t,n).then((function(e){I(e)})).catch((function(e){var n,t;e.response&&401!==e.response.status?null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.detail?C((0,s.V_)({description:U("extensions:manage.features.user.addUser.inviteLink.error.description",{description:e.response.data.detail}),level:a.QU.ERROR,message:U("extensions:manage.features.user.addUser.inviteLink.error.message")})):C((0,s.V_)({description:U("extensions:manage.features.user.addUser.inviteLink.genericError.description"),level:a.QU.ERROR,message:U("extensions:manage.features.user.addUser.inviteLink.genericError.message")})):C((0,s.V_)({description:U("extensions:manage.features.user.addUser.inviteLink.error.description"),level:a.QU.ERROR,message:U("extensions:manage.features.user.addUser.inviteLink.error.message")}))})).finally((function(){P(!1)}))},j=function(){if(E){var e=U("extensions:manage.features.user.addUser.summary.invitationBody.hi")+"\n\n"+U("extensions:manage.features.user.addUser.summary.invitationPasswordBodyCopy.accountHasBeenCreated").replace("$tenantname",k)+"\n\n"+U("extensions:manage.features.user.addUser.summary.username")+": ".concat(t,"\n")+U("extensions:manage.features.user.addUser.summary.password")+": ".concat(r,"\n\n")+U("extensions:manage.features.user.addUser.summary.invitationBody.thanks")+",\n"+U("extensions:manage.features.user.addUser.summary.invitationBodyCopy.team").replace("$tenantname",k);i.CommonUtils.copyTextToClipboard(e)}else{var n=U("extensions:manage.features.user.addUser.summary.invitationBody.hi")+"\n\n"+U("extensions:manage.features.user.addUser.summary.invitationBodyCopy.accountHasBeenCreated").replace("$username",t).replace("$tenantname",k)+"\n\n"+U("extensions:manage.features.user.addUser.summary.invitationBody.pleaseFollowTheLink")+"\n\n"+U("extensions:manage.features.user.addUser.summary.invitationLink")+":\n"+"".concat(x,"\n\n")+U("extensions:manage.features.user.addUser.summary.invitationBody.thanks")+",\n"+U("extensions:manage.features.user.addUser.summary.invitationBodyCopy.team").replace("$tenantname",k);i.CommonUtils.copyTextToClipboard(n)}};return E?l.createElement(d.Z,{className:"wizard-summary"},l.createElement(d.Z.Row,null,l.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},l.createElement(o.v0,{className:"mb-5",warning:!0},l.createElement(d.Z,null,l.createElement(d.Z.Column,{width:1,className:"pt-0 pb-0"},l.createElement(f.Z,{name:"info circle",size:"large"})),l.createElement(d.Z.Column,{width:15,className:"pt-0 pb-0"},U("extensions:manage.features.user.addUser.summary.passwordWarningMessage")))),l.createElement("label",null,U("extensions:manage.features.user.addUser.summary.password")),l.createElement(o.OR,{className:"mt-2",value:r,"data-componentid":"".concat(h,"-user-password-field"),secret:!0}),l.createElement(p.Z,{horizontal:!0,section:!0},"Or"),l.createElement("label",null,U("extensions:manage.features.user.addUser.summary.invitation")),l.createElement(d.Z,{className:"segment mt-2"},l.createElement(d.Z.Column,{width:14},U("extensions:manage.features.user.addUser.summary.invitationBody.hi"),l.createElement("br",null),l.createElement("br",null),l.createElement(c.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationPasswordBody.accountHasBeenCreated",tOptions:{tenantname:k}},"An account has been created for you in the ",k," organization. Your credentials are as follows."),l.createElement("br",null),l.createElement("br",null),U("extensions:manage.features.user.addUser.summary.username"),": ",t,l.createElement("br",null),U("extensions:manage.features.user.addUser.summary.password"),": ",r,l.createElement("br",null),l.createElement("br",null),U("extensions:manage.features.user.addUser.summary.invitationBody.thanks"),",",l.createElement("br",null),l.createElement(c.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationBody.team",tOptions:{tenantname:k}},k," team")),l.createElement(d.Z.Column,{width:2},l.createElement(o.GI,{content:"Copy to clipboard",position:"top center",trigger:l.createElement(g.Z,{icon:"copy",floated:"right",onClick:function(){return j()}}),inverted:!0,popper:l.createElement("div",{style:{filter:"none"}})})))))):T?l.createElement(o.pO,null):l.createElement(d.Z,{className:"wizard-summary"},l.createElement(d.Z.Row,null,l.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},l.createElement(o.v0,{className:"mb-5",warning:!0},l.createElement(d.Z,null,l.createElement(d.Z.Column,{width:1,className:"pt-0 pb-0"},l.createElement(f.Z,{name:"info circle",size:"large"})),l.createElement(d.Z.Column,{width:15,className:"pt-0 pb-0"},U("extensions:manage.features.user.addUser.summary.inviteWarningMessage")))),l.createElement("label",null,U("extensions:manage.features.user.addUser.summary.invitationLink")),l.createElement(o.OR,{className:"mt-2",value:x,"data-componentid":"".concat(h,"-invitation-link")}),l.createElement(p.Z,{horizontal:!0,section:!0},"Or"),l.createElement("label",null,U("extensions:manage.features.user.addUser.summary.invitation")),l.createElement(d.Z,{className:"segment mt-2"},l.createElement(d.Z.Column,{width:14},U("extensions:manage.features.user.addUser.summary.invitationBody.hi"),l.createElement("br",null),l.createElement("br",null),l.createElement(c.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationBody.accountHasBeenCreated",tOptions:{tenantname:k,username:t}},"An account has been created for the username,",t," in the ",k," organization."),l.createElement("br",null),l.createElement("br",null),U("extensions:manage.features.user.addUser.summary.invitationBody.pleaseFollowTheLink"),l.createElement("br",null),l.createElement("br",null),U("extensions:manage.features.user.addUser.summary.invitationLink"),":",l.createElement("br",null),l.createElement("p",{className:"line-break-anywhere"},x),l.createElement("br",null),l.createElement("br",null),U("extensions:manage.features.user.addUser.summary.invitationBody.thanks"),",",l.createElement("br",null),l.createElement(c.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationBody.team",tOptions:{tenantname:k}},k," team")),l.createElement(d.Z.Column,{width:2},l.createElement(o.GI,{content:"Copy to clipboard",position:"top center",trigger:l.createElement(g.Z,{icon:"copy",floated:"right",onClick:function(){return j()}}),inverted:!0,popper:l.createElement("div",{style:{filter:"none"}})}))))))};C.defaultProps=(h(r={},"data-componentid","add-user-wizard-summary"),h(r,"isPasswordBased",!1),r)}}]);