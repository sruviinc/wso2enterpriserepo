"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8763],{8763:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var a=r(14603),n=r(90268),s=r(81816),l=r(52983),o=r(9202),u=r(54221),i=r(59957),c=r(30640),f=r(26021),d=r(99839);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,l,o=[],u=!0,i=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(e){i=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(i)throw n}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var h=function(e){var t=e.isConsumersListRequestLoading,r=e.getUsersList,S=e.consumersUsersList,h=e.onEmptyListPlaceholderActionClick,g=e.isNextPage,p=e.isDescriptionShown,E=e.setDescriptionShown,v=(0,o.$)().t,C=(0,u.I0)(),y=(0,s.fQ)().getLink,O=(0,u.v9)((function(e){return e.config.ui.features})),U=m((0,l.useState)(""),2),b=U[0],R=U[1],A=m((0,l.useState)(0),2),N=A[0],P=A[1],_=m((0,l.useState)(c.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),T=_[0],w=_[1],L=m((0,l.useState)({}),2),I=L[0],M=L[1],k=m((0,l.useState)(void 0),1)[0],x=m((0,l.useState)([]),1)[0],D=m((0,l.useState)(!1),2),F=D[0],j=D[1],Q=m((0,l.useState)(void 0),1)[0],V=m((0,l.useState)(!1),1)[0],z=m((0,l.useState)(!1),2),H=z[0],$=z[1];(0,l.useEffect)((function(){S&&M(S)}),[S]),(0,l.useEffect)((function(){p(d.UsersConstants.CONSUMER_DESCRIPTION_SHOWN_STATUS_KEY)&&$(!0)}),[]),(0,l.useEffect)((function(){r(T,N,null==b||""==b?null:b,null,d.CONSUMER_USERSTORE)}),[N,T]);var K=function(e){"userName sw "!==e?(R(e),r(T,1,e,null,d.CONSUMER_USERSTORE)):r(T,1,null,null,d.CONSUMER_USERSTORE)},W=function(){$(!1),E(d.UsersConstants.CONSUMER_DESCRIPTION_SHOWN_STATUS_KEY)};return l.createElement(l.Fragment,null,H&&l.createElement("div",{className:"mt-3 mb-6"},l.createElement(s.v0,{onDismiss:W,content:l.createElement(l.Fragment,null,l.createElement(s.xv,{className:"message-info-text"},l.createElement(l.Fragment,null,v("extensions:manage.users.descriptions.consumerUser"),l.createElement(s.eb,{link:y("manage.users.customerAccounts.learnMore")},v("extensions:common.learnMore")))))})),l.createElement(s.PS,{advancedSearch:l.createElement(c.nC,{onFilter:K,filterAttributeOptions:[{key:0,text:v("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:v("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:v("console:manage.features.users.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:v("console:manage.features.users.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:v("console:manage.features.users.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:v("console:manage.features.users.advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:F}),currentListSize:I.itemsPerPage,listItemLimit:T,onItemsPerPageDropdownChange:function(e,t){w(t.value)},"data-testid":"user-mgt-user-list-layout",onPageChange:function(e,t){P((t.activePage-1)*T+1)},showPagination:!0,showTopActionPanel:t||!(!b&&!V&&x.length<3&&(null==I?void 0:I.totalResults)<=0),totalPages:Math.ceil(I.totalResults/T),totalListSize:I.totalResults,paginationOptions:{disableNextButton:!g}},V?l.createElement(s.$J,{subtitle:[v("console:manage.features.users.placeholders.userstoreError.subtitles.0"),v("console:manage.features.users.placeholders.userstoreError.subtitles.1")],title:v("console:manage.features.users.placeholders.userstoreError.title"),image:(0,c.jF)().genericError,imageSize:"tiny"}):l.createElement(i.UsersList,{advancedSearch:l.createElement(c.nC,{onFilter:K,filterAttributeOptions:[{key:0,text:v("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:v("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"},{key:2,text:"First Name",value:"name.givenName"},{key:3,text:"Last Name",value:"name.familyName"}],filterAttributePlaceholder:v("console:manage.features.users.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:v("console:manage.features.users.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:v("console:manage.features.users.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:v("console:manage.features.users.advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:F}),usersList:I,handleUserDelete:function(e){return(0,f.h8)(e).then((function(){var e;e={description:v("console:manage.features.users.notifications.deleteUser.success.description"),level:a.QU.SUCCESS,message:v("console:manage.features.users.notifications.deleteUser.success.message")},C((0,n.V_)(e)),r(T,N,null,null,d.CONSUMER_USERSTORE),r(T,N,null,null,null)}))},userMetaListContent:k,isLoading:t,onEmptyListPlaceholderActionClick:function(){return h()},onSearchQueryClear:function(){j(!F),R(""),r(T,1,null,null,d.CONSUMER_USERSTORE)},searchQuery:b,"data-testid":"user-mgt-user-list",readOnlyUserStores:Q,featureConfig:O,userEditPath:d.UsersConstants.getPaths().get("CONSUMER_USERS_EDIT_PATH")})))};h.defaultProps={"data-testid":"users"};const g=h}}]);