"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[95616],{95616:(e,t,n)=>{n.r(t),n.d(t,{AddConsumerUserGroups:()=>p});var r=n(13318),l=n(81816),i=n(39345),a=n(67127),o=n(52983),u=n(9202);function s(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,i,a,o=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(e){s=!0,l=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw l}}return o}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t,n,c=e.initialValues,m=e.triggerSubmit,p=e.onSubmit,f=e.handleGroupListChange,h=e.handleTempListChange,y=e.handleInitialTempListChange,v=e.handleSetGroupId,g=(0,u.$)().t,b=d((0,o.useState)([]),2),L=b[0],S=b[1],I=d((0,o.useState)(!1),2)[1];(0,o.useEffect)((function(){S(null==c?void 0:c.tempGroupList)}),[null==c?void 0:c.tempGroupList]);return o.createElement(r.Es,{onSubmit:function(){p({groups:null==c?void 0:c.tempGroupList})},submitState:m},o.createElement(l.IX,{selectionComponent:!0,searchPlaceholder:g("console:manage.features.transferList.searchPlaceholder",{type:"Groups"}),handleUnelectedListSearch:function(e){var t=e.value,n=[];if((0,a.Z)(t))f(null==c?void 0:c.initialGroupList);else{var r=new RegExp((0,i.Z)(t),"i");c.initialGroupList&&c.initialGroupList.map((function(e){r.test(e.displayName)&&(n.push(e),f(n))}))}},"data-testid":"user-mgt-add-user-wizard-modal"},o.createElement(l.Jv,{isListEmpty:!((null==c||null===(t=c.groupList)||void 0===t?void 0:t.length)>0),listType:"unselected",emptyPlaceholderContent:g("console:manage.features.transferList.list.emptyPlaceholders.users.roles.unselected",{type:"groups"}),"data-testid":"user-mgt-add-user-wizard-modal-unselected-transfer-list",emptyPlaceholderDefaultContent:g("console:manage.features.transferList.list.emptyPlaceholders.default")},null==c||null===(n=c.groupList)||void 0===n?void 0:n.map((function(e,t){var n,r=null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/");return o.createElement(l.qT,{handleItemChange:function(){return function(e){var t,n=s(L);null!=n&&n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),h(n),y(n),I((null==c||null===(t=c.groupList)||void 0===t?void 0:t.length)===n.length)}(e)},key:t,listItem:(null==r?void 0:r.length)>1?r[1]:null==e?void 0:e.displayName,listItemId:e.id,listItemIndex:t,listItemTypeLabel:null,isItemChecked:L.includes(e),showSecondaryActions:!1,handleOpenPermissionModal:function(){return v(e.id)},"data-testid":"user-mgt-add-user-wizard-modal-unselected-groups"})})))))}}}]);