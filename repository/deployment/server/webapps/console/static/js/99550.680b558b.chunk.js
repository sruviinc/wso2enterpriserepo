"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[99550],{99550:(e,t,n)=>{n.r(t),n.d(t,{AddUserStepContent:()=>g});var a=n(7955),r=n(81816),i=n(52983),l=n(9202),s=n(39990),o=n(74691),c=n(71325),u=n(60611),d=n(27696),m=n(26021),p=n(14412),f=n(99839);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,s=[],o=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=function(e){var t=e["data-testid"],n=(0,l.$)().t,y=h((0,i.useState)(!1),2),g=y[0],E=y[1],v=h((0,i.useState)([]),2),b=v[0],S=v[1],w=h((0,i.useState)(!1),2),k=w[0],A=w[1],U=d.lD.getInstance();return i.createElement("div",{"data-testid":t,className:"add-user-step"},i.createElement(r.xv,null,i.createElement(s.c,{i18nKey:"extensions:console.application.quickStart.addUserOption.description"},"You need a ",i.createElement("strong",null,"user account")," to log in to the application.")),i.createElement(a.di,{when:a.TA.USER_WRITE},i.createElement(r.xv,null,i.createElement(s.c,{i18nKey:"extensions:console.application.quickStart.addUserOption.hint"},"If you don\u2019t already have a user account, click the below button to create one. Alternatively, go to",i.createElement("a",{onClick:function(){U.publish("application-quick-start-click-navigate-to-user-management"),window.open(u.$x.getClientOrigin()+f.UsersConstants.getPaths().get("USERS_PATH"),"","noopener")},className:"external-link link pointing primary"}," Manage > Users ",i.createElement(o.Z,{name:"external"}))," and create users.")),i.createElement(r.zx,{basic:!0,primary:!0,className:"info add-user-step-button",onClick:function(){U.publish("application-quick-start-click-add-user"),E(!0)}},n("extensions:manage.users.buttons.addUserBtn")),i.createElement(c.Z,{className:"add-user-step-list"},k?i.createElement(r.pO,null):null==b?void 0:b.map((function(e,t){return i.createElement(c.Z.Item,{key:t,className:"list-item"},i.createElement("div",null,i.createElement(o.Z,{className:"list-icon",name:"check",color:"green"}),"User ",i.createElement("strong",null,e)," added successfully."))})))),i.createElement(a.di,{when:[],notWhen:a.TA.USER_WRITE},i.createElement(r.xv,{compact:!0},n("extensions:console.application.quickStart.addUserOption.message"))),g&&i.createElement(p.t,{"data-testid":"user-mgt-add-user-wizard-modal",closeWizard:function(){return E(!1)},onSuccessfulUserAddition:function(e){U.publish("application-finish-adding-user"),function(e){A(!0),(0,m.M_)(e,null).then((function(e){if(e.emails&&Array.isArray(e.emails)&&e.emails.length>0){var t,n=b;n.push((null==e||null===(t=e.userName.split("/"))||void 0===t?void 0:t.length)>1?null==e?void 0:e.userName.split("/")[1]:null==e?void 0:e.userName.split("/")[0]),S(n)}})).catch((function(){})).finally((function(){A(!1)}))}(e)},emailVerificationEnabled:!1,requiredSteps:["BasicDetails"],submitStep:"BasicDetails",hiddenFields:["firstName","lastName"],showStepper:!1,requestedPasswordOption:"create-password",title:"Add User",description:"Follow the steps to add a new user"}))};g.defaultProps={"data-testid":"add-user-step-content"}}}]);