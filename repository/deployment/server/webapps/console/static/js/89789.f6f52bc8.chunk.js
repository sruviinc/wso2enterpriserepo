"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[89789],{51607:(e,t,n)=>{n.d(t,{QW:()=>d,Sd:()=>y,dB:()=>u,fA:()=>f,iy:()=>m,pZ:()=>p,ul:()=>h,xQ:()=>c});var r=n(93967),a=n(96433),l=n(57477),o=n(14603),i=n(30640),s=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),c=function(e){var t={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,url:i.h.getState().config.endpoints.roles+"/"+e};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},u=function(e,t){var n={data:t,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:i.h.getState().config.endpoints.roles+"/"+e};return s(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:i.h.getState().config.endpoints.rolesWithoutOrgPath+"/.search"};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var t={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.DELETE,url:i.h.getState().config.endpoints.roles+"/"+e};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},f=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:i.h.getState().config.endpoints.roles};return s(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(){var e={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,url:i.h.getState().config.endpoints.permission};return s(e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},h=function(e,t){var n={data:t,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:i.h.getState().config.endpoints.roles+"/"+e};return s(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},y=function(e){var t={headers:{"Content-Type":"application/json"},method:o.f2.GET,params:{domain:e},url:i.h.getState().config.endpoints.roles};return s(t).then((function(e){if(200!==e.status)throw new l.u(a.nL.ROLES_FETCH_REQUEST_INVALID_RESPONSE_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e)})).catch((function(e){throw new l.u(a.nL.ROLES_FETCH_REQUEST_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}},23751:(e,t,n)=>{n.d(t,{w:()=>E});var r=n(13318),a=n(81816),l=n(42363),o=n(52983),i=n(9202),s=n(75917),c=n(94635),u=n(88171),d=n(30640),m=n(80617),f=n(65147),p=n(17216);function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,i=[],s=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.isReadOnly,n=e.emphasize,v=e.triggerSubmit,g=e.onSubmit,E=e.roleObject,b=e.isEdit,S=e.initialValues,C=e.isRole,I=e.isSubmitting,w=e.permissionsToHide,P=e["data-testid"],A=(0,i.$)().t,R=y((0,o.useState)([]),2),O=R[0],k=R[1],T=y((0,o.useState)([]),2),Z=T[0],N=T[1],j=y((0,o.useState)([]),2),x=j[0],L=j[1],H=y((0,o.useState)([]),2),U=H[0],_=H[1],z=y((0,o.useState)(!0),2),M=z[0],D=z[1],W=y((0,o.useState)(!1),2),F=W[0],J=W[1];(0,o.useEffect)((function(){var e=[];if(p.J.getAllPermissions(w).then((function(e){q(F,e),k(e),_([e[0].key.toString()]),D(!1)})),$(),S&&S.length>0){var t=[];S.forEach((function(e){t.push(e.key.toString())})),L(t),null==x||x.forEach((function(t){e.push(G(t,O))})),N(e)}C&&E&&(L(E.permissions),null==x||x.forEach((function(t){e.push(G(t,O))})),N(e))}),[O.length>0]);var $=function(){(0,m.Un)().then((function(e){d.h.getState().profile.profileInfo.userName===(null==e?void 0:e.realmConfig.adminUser)&&J(!0)}))},q=function(e,t){t[0].children.forEach((function(t){t.key!==f.nL.SUPER_ADMIN_PERMISSION_KEY||e||(t.disableCheckbox=!0,t.children&&K(t.children,!0))}))},K=function e(t,n){t.forEach((function(t){t.disableCheckbox=n,t.children&&e(t.children,n)}))},Q=function(e,t){if(t.checked){if(!Z.find((function(e){return e.key===t.node.key}))){var n,r,a=G(t.node.key,O,!0),l=1;if(null==a||null===(n=a.children)||void 0===n||n.forEach((function(e){Z.filter((function(t){return t.key===e.key})).length>0&&++l})),(null==a||null===(r=a.children)||void 0===r?void 0:r.length)===l){var o=Z.filter((function(e){e.key.toString().replace(/^\/|\/$/g,"").split("/"),a.key.toString().replace(/^\/|\/$/g,"").split("/")}));N([].concat(h(o),[a]))}else N([].concat(h(Z),[t.node]))}}else N(t.checkedNodes)},G=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[t[0]];r.length;){var a=r.shift();if(n){if(a.key===e.slice(0,e.lastIndexOf("/")))return a}else if(a.key===e)return a;a.children&&r.push.apply(r,h(a.children))}return null},Y=function(e){return e.isLeaf?null:o.createElement("div",{className:"tree-arrow-wrap"},o.createElement("span",{className:"tree-arrow ".concat(e.expanded?"":"active")},o.createElement("span",null),o.createElement("span",null)))},V=function(){return o.createElement(o.Fragment,null,o.createElement(r.Es,{submitState:v,onSubmit:function(){g(Z)}},M?o.createElement(a.pO,{className:"p-3",active:!0}):o.createElement("div",{className:"treeview-container"},o.createElement(l.Z,{className:"customIcon","data-testid":"".concat(P,"-tree"),disabled:t,checkedKeys:Z.map((function(e){return e.key})),defaultExpandedKeys:U,showLine:!0,showIcon:!1,checkable:!0,selectable:!1,onCheck:Q,treeData:O,switcherIcon:Y})),b&&!M&&o.createElement(o.Fragment,null,o.createElement(s.Z,{hidden:!0}),o.createElement(c.Z.Row,{columns:1},o.createElement(c.Z.Column,{mobile:16,tablet:16,computer:8},o.createElement(u.Z,{"data-testid":"".concat(P,"-update-button"),primary:!0,type:"submit",loading:I,disabled:I,size:"small",className:"form-button"},A("console:manage.features.roles.addRoleWizard.permissions.buttons.update")))))))};return n?o.createElement(a.pJ,{"data-testid":P,padded:"very"},V()):o.createElement("div",{"data-testid":P},V())};E.defaultProps={emphasize:!0,isReadOnly:!1}},83783:(e,t,n)=>{n.d(t,{F:()=>I});var r=n(13318),a=n(81816),l=n(12735),o=n(39345),i=n(67127),s=n(52983),c=n(9202),u=n(54221),d=n(21921),m=n(94635),f=n(14969),p=n(74691),h=n(10594),y=n(30640),v=n(5163),g=n(18319);function E(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,i=[],s=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t=e.triggerSubmit,n=e.onSubmit,C=e.assignedUsers,I=e.isEdit,w=e.initialValues,P=e.isGroup,A=e.userStore,R=e.isReadOnly,O=e.handleTempUsersListChange,k=e.isSubmitting,T=e["data-testid"],Z=(0,c.$)().t,N=(0,u.v9)((function(e){return e.config.ui.productName})),j=b((0,s.useState)([]),2),x=j[0],L=j[1],H=b((0,s.useState)([]),2),U=H[0],_=H[1],z=b((0,s.useState)([]),2),M=z[0],D=z[1],W=b((0,s.useState)([]),2),F=W[0],J=W[1],$=b((0,s.useState)([]),2)[1],q=b((0,s.useState)(0),1)[0],K=b((0,s.useState)(0),2),Q=K[0],G=K[1],Y=b((0,s.useState)(void 0),2),V=Y[0],X=Y[1],B=b((0,s.useState)(!1),2),ee=B[0],te=B[1],ne=b((0,s.useState)(!1),2),re=ne[0],ae=ne[1],le=b((0,s.useState)([]),2),oe=le[0],ie=le[1],se=b((0,s.useState)([]),2),ce=se[0],ue=se[1],de=b((0,s.useState)(!1),2),me=de[0],fe=de[1],pe=b((0,s.useState)(!0),2),he=pe[0],ye=pe[1],ve=(0,s.useRef)(!0);(0,s.useEffect)((function(){ve.current?ve.current=!1:O&&O(x)}),[x]),(0,s.useEffect)((function(){ie(ee?U:[])}),[ee]),(0,s.useEffect)((function(){ue(re?x:[])}),[re]);var ge=function(){te(!ee)},Ee=function(){ae(!re)},be=function(e,t,n,r,a){(0,g.Fp)(e,t,n,r,a).then((function(e){if(!e.Resources)return _([]),D([]),void ye(!1);var t=e.Resources.map((function(e){var t=e.userName.split("/");return 1===t.length||(e.userName=t[1]),e}));if(t.sort((function(e,t){var n,r,a;return null===(n=e.name)||void 0===n||null===(r=n.givenName)||void 0===r?void 0:r.localeCompare(null===(a=t.name)||void 0===a?void 0:a.givenName)})),_(E(t)),D(E(t)),C&&0!==C.length){var n=[];if(t&&t instanceof Array){t.slice().reverse().forEach((function(e){C.forEach((function(r){e.id===r.value&&(n.push(e),t.splice(t.indexOf(e),1))}))})),n.sort((function(e,t){var n,r,a;return null===(n=e.name)||void 0===n||null===(r=n.givenName)||void 0===r?void 0:r.localeCompare(null===(a=t.name)||void 0===a?void 0:a.givenName)})),J(n),$(n),L(n);var r=(0,l.Z)(E(t),n);_(E(r)),D(E(r))}}if(ye(!1),w&&w instanceof Array){var a=[];if(t&&t instanceof Array){t.forEach((function(e){w.forEach((function(t){e.id===t.id&&a.push(e)}))})),a.sort((function(e,t){var n,r,a;return null===(n=e.name)||void 0===n||null===(r=n.givenName)||void 0===r?void 0:r.localeCompare(null===(a=t.name)||void 0===a?void 0:a.givenName)})),_(t.filter((function(e){return-1==a.indexOf(e)}))),J(a),$(a),L(a);var o=(0,l.Z)(E(t),a);_(E(o)),D(E(o))}}}))};(0,s.useEffect)((function(){G(y.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),X(new Map([["name","name"],["emails","emails"],["name","name"],["userName","userName"],["id",""],["profileUrl","profileUrl"],["meta.lastModified","meta.lastModified"],["meta.created",""]]))}),[]);var Se=function(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw l}}}}(e[Symbol.iterator]());try{for(r.s();!(t=r.n()).done;){var a=t.value;""!==a&&n.push(a)}}catch(l){r.e(l)}finally{r.f()}return n.toString()};(0,s.useEffect)((function(){if(V){var e=Se(V.values());be(Q,q,null,e,P?A:null)}}),[q,Q]);var Ce=function(e){var t=E(oe);t.includes(e)?(t.splice(t.indexOf(e),1),ie(t)):(t.push(e),ie(t))},Ie=function(e,t){var n=t.value,r=[];if((0,i.Z)(n))_(M);else{var a=new RegExp((0,o.Z)(n),"i");U&&U.map((function(e){a.test(e.userName)&&(r.push(e),_(r))}))}},we=function(e){var t=E(ce);t.includes(e)?(t.splice(t.indexOf(e),1),ue(t)):(t.push(e),ue(t))},Pe=function(){var e=E(x);(null==oe?void 0:oe.length)>0&&oe.map((function(t){x.includes(t)||e.push(t)})),_(U.filter((function(e){return-1===oe.indexOf(e)}))),L(e),ue([]),te(!1)},Ae=function(){var e=E(x);(null==ce?void 0:ce.length)>0&&(ce.map((function(t){e.splice(e.indexOf(t),1),U.push(t)})),_(U),L(e),ie([]))},Re=function(){fe(!0)},Oe=function(){L(E(F)),_(E(M)),fe(!1)},ke=function(){var e={addedUsers:x,removedUsers:(0,l.Z)(U,x)};n(e.addedUsers,e.removedUsers),J(x),fe(!1)},Te=function(e){return e.emails?"string"==typeof e.emails[0]?e.emails[0]:e.emails[0].value:e.userName};return s.createElement(s.Fragment,null,I?s.createElement(a.pJ,{padded:"very"},s.createElement(m.Z,null,s.createElement(m.Z.Row,null,s.createElement(m.Z.Column,{computer:16},(null==C?void 0:C.length)>0?s.createElement(a.pJ,{className:"user-role-edit-header-segment"},s.createElement(m.Z.Row,null,s.createElement(m.Z.Column,null,s.createElement(f.Z,{"data-testid":"".concat(T,"-users-list-search-input"),icon:s.createElement(p.Z,{name:"search"}),onChange:function(e,t){var n=t.value,r=[];if((0,i.Z)(n))J(x);else{var a=new RegExp((0,o.Z)(n),"i");F&&F.map((function(e){a.test(e.userName)&&(r.push(e),J(r))}))}},placeholder:Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),floated:"left",size:"small"}),!R&&s.createElement(a.zx,{"data-testid":"".concat(T,"-users-list-edit-button"),size:"medium",icon:"pencil",floated:"right",onClick:Re}))),s.createElement(m.Z.Row,null,s.createElement(h.Z,{singleLine:!0,compact:!0},s.createElement(h.Z.Header,null,s.createElement(h.Z.Row,null,s.createElement(h.Z.HeaderCell,null),s.createElement(h.Z.HeaderCell,null,Z("console:manage.features.roles.edit.users.list.user")),s.createElement(h.Z.HeaderCell,null,Z("console:manage.features.roles.edit.users.list.organization")))),s.createElement(h.Z.Body,null,null==C?void 0:C.map((function(e){var t;if(e.orgId)return s.createElement(h.Z.Row,{key:e.value},s.createElement(h.Z.Cell,{collapsing:!0},s.createElement(a.Yt,{"data-testid":"".concat(T,"-users\n                                                                                    -list-").concat(e.display,"-avatar"),name:e.display,size:"mini",floated:"left"})),s.createElement(h.Z.Cell,null,e.display),s.createElement(h.Z.Cell,null,e.orgId===(null===(t=v.a5.ROOT_ORGANIZATION)||void 0===t?void 0:t.id)?N:e.orgName));var n=null==F?void 0:F.find((function(t){return t.id===e.value}));return n?s.createElement(h.Z.Row,{key:n.id},s.createElement(h.Z.Cell,{collapsing:!0},s.createElement(a.Yt,{"data-testid":"".concat(T,"-users\n                                                                                        -list-").concat(n.userName,"\n                                                                                        -avatar"),name:Te(n),size:"mini",floated:"left"})),s.createElement(h.Z.Cell,null,n.userName),s.createElement(h.Z.Cell,null)):void 0})))))):he?s.createElement(a.pO,{className:"p-3",active:!0}):s.createElement(a.pJ,null,s.createElement(a.$J,{title:Z("console:manage.features.roles.edit.users.list.emptyPlaceholder.title"),subtitle:[Z("console:manage.features.roles.edit.users.list.emptyPlaceholder.subtitles",{type:"role"})],action:!R&&s.createElement(a.KM,{"data-testid":"".concat(T,"-users-list-empty-assign-\n                                                                users-button"),onClick:Re,icon:"plus"},Z("console:manage.features.roles.edit.users.list.emptyPlaceholder.action")),image:(0,y.jF)().emptyList,imageSize:"tiny"})))),s.createElement(d.Z,{"data-testid":"".concat(T,"-assign-user-wizard-modal"),dimmer:"blurring",open:me,size:"small",className:"user-roles"},s.createElement(d.Z.Header,null,Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.heading",{type:"Role"}),s.createElement(a.X6,{subHeading:!0,ellipsis:!0,as:"h6"},Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.subHeading",{type:"role"}))),s.createElement(d.Z.Content,{image:!0},s.createElement(a.IX,{"data-testid":"".concat(T,"-user-list-transfer"),searchPlaceholder:Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),addItems:Pe,removeItems:Ae,handleUnelectedListSearch:Ie,handleSelectedListSearch:Ie},s.createElement(a.Jv,{isListEmpty:!((null==U?void 0:U.length)>0),listType:"unselected",listHeaders:[Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:ge,isHeaderCheckboxChecked:ee,"data-testid":"".concat(T,"-unselected-users-select-all-checkbox"),emptyPlaceholderContent:Z("console:manage.features.transferList.list.emptyPlaceholders.roles.selected",{type:"users"}),emptyPlaceholderDefaultContent:Z("console:manage.features.transferList.list.emptyPlaceholders.default")},null==U?void 0:U.map((function(e,t){return s.createElement(a.qT,{handleItemChange:function(){return Ce(e)},key:t,listItem:Te(e),listItemId:e.id,listItemIndex:t,isItemChecked:null==oe?void 0:oe.includes(e),showSecondaryActions:!1,"data-testid":"".concat(T,"-unselected-users")})}))),s.createElement(a.Jv,{isListEmpty:!((null==x?void 0:x.length)>0),listType:"selected",listHeaders:[Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:Ee,isHeaderCheckboxChecked:re,"data-testid":"".concat(T,"-selected-users-select-all-checkbox"),emptyPlaceholderContent:Z("console:manage.features.transferList.list.emptyPlaceholders.roles.selected",{type:"users"}),emptyPlaceholderDefaultContent:Z("console:manage.features.transferList.list.emptyPlaceholders.default")},null==x?void 0:x.map((function(e,t){return s.createElement(a.qT,{handleItemChange:function(){return we(e)},key:t,listItem:Te(e),listItemId:e.id,listItemIndex:t,isItemChecked:null==ce?void 0:ce.includes(e),showSecondaryActions:!1,"data-testid":"".concat(T,"-selected-users")})}))))),s.createElement(d.Z.Actions,null,s.createElement(m.Z,null,s.createElement(m.Z.Row,{columns:2},s.createElement(m.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.Qj,{"data-testid":"".concat(T,"-assign-user-wizard-modal-cancel-button"),onClick:Oe,floated:"left"},Z("common:cancel"))),s.createElement(m.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(a.KM,{"data-testid":"".concat(T,"-assign-user-wizard-modal-save-button"),onClick:function(){ke()},floated:"right",loading:k,disabled:k},Z("common:save"))))))))):s.createElement(r.Es,{submitState:t},s.createElement(m.Z,null,s.createElement(m.Z.Row,{columns:2},s.createElement(a.IX,{"data-testid":"".concat(T,"-update-user-list-transfer"),searchPlaceholder:Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),addItems:Pe,removeItems:Ae,handleUnelectedListSearch:Ie,handleSelectedListSearch:Ie},s.createElement(a.Jv,{isListEmpty:!((null==U?void 0:U.length)>0),listType:"unselected",listHeaders:[Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:ge,isHeaderCheckboxChecked:ee,"data-testid":"".concat(T,"-update-unselected-users-select-all-checkbox"),emptyPlaceholderContent:Z("console:manage.features.transferList.list.emptyPlaceholders.roles.unselected",{type:"users"}),emptyPlaceholderDefaultContent:Z("console:manage.features.transferList.list.emptyPlaceholders.default")},null==U?void 0:U.map((function(e,t){return s.createElement(a.qT,{handleItemChange:function(){return Ce(e)},key:t,listItem:e.userName,listItemId:e.id,listItemIndex:t,isItemChecked:null==oe?void 0:oe.includes(e),showSecondaryActions:!1,"data-testid":"".concat(T,"-update-unselected-users")})}))),s.createElement(a.Jv,{isListEmpty:!((null==x?void 0:x.length)>0),listType:"selected",listHeaders:[Z("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:Ee,isHeaderCheckboxChecked:re,"data-testid":"".concat(T,"-update-selected-users-select-all-checkbox"),emptyPlaceholderContent:Z("console:manage.features.transferList.list.emptyPlaceholders.roles.unselected",{type:"users"}),emptyPlaceholderDefaultContent:Z("console:manage.features.transferList.list.emptyPlaceholders.default")},null==x?void 0:x.map((function(e,t){return s.createElement(a.qT,{handleItemChange:function(){return we(e)},key:t,listItem:e.userName,listItemId:e.id,listItemIndex:t,isItemChecked:null==ce?void 0:ce.includes(e),showSecondaryActions:!1,"data-testid":"".concat(T,"-update-selected-users")})}))))),I&&s.createElement(m.Z.Row,{columns:1},s.createElement(m.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(a.zx,{"data-testid":"".concat(T,"-update-user-list-button"),primary:!0,type:"submit",size:"small",loading:k,disabled:k,className:"form-button"},Z("common.update")))))))}},65147:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{$R:()=>u,Fn:()=>s,eT:()=>c,nL:()=>d});var s="Application/",c="Internal",u="Primary",d=l((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));o(d,"FEATURE_DICTIONARY",(new Map).set("ROLE_CREATE","roles.create").set("ROLE_UPDATE","roles.update").set("ROLE_DELETE","roles.delete").set("ROLE_READ","roles.read")),o(d,"SUPER_ADMIN_PERMISSION_KEY","/permission/protected")},17216:(e,t,n)=>{n.d(t,{J:()=>m});var r=n(67127),a=n(30640),l=n(51607),o=function e(t,n,r){var a=n.shift(),l=r.find((function(e){return e.name===a}));return l||(l={key:t.resourcePath,name:a,title:t.displayName},r.push(l)),n.length&&e(t,n,l.children||(l.children=[])),r};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var m=c((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));u(m,"validateRoleName",(function(e){var t={filter:"displayName eq "+e,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:1};return(0,l.QW)(t).then((function(e){var t;return 0===(null==e||null===(t=e.data)||void 0===t?void 0:t.totalResults)}))})),u(m,"getAllPermissions",(function(e){return(0,l.pZ)().then((function(t){if(200===t.status&&t.data&&t.data instanceof Array){var n,l,i;return(null===(n=(l=((0,r.Z)(e)?t.data:t.data.filter((function(t){return!e.includes(t.resourcePath)}))).reduce((function(e,t){return o(t,t.resourcePath.replace(/^\/|\/$/g,"").split("/"),e)}),[]))[0])||void 0===n?void 0:n.title)!==a.$x.PERMISSIONS_ROOT_NODE?null===(i=l[0])||void 0===i?void 0:i.children:l}}))}))}}]);