"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[42325,62117],{42325:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(14603),o=n(90268),a=n(81816),l=n(46440),i=n(38314),s=n(67127),u=n(52983),c=n(9202),d=n(54221),f=n(74691),p=n(30640),m=n(49238),v=n(85814),y=n(58900),g=n(22969),h=n(62117);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=[{key:1,text:"Name",value:"name"},{key:3,text:"Created date",value:"createdDate"},{key:4,text:"Last updated",value:"lastUpdated"}];const A=function(){var e,t,n,b,S,w,E=(0,d.I0)(),A=(0,c.$)().t,j=(0,d.v9)((function(e){return e.config})),C=O((0,u.useState)(!1),2),k=C[0],T=C[1],I=O((0,u.useState)(0),1)[0],L=O((0,u.useState)(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),N=L[0],x=L[1],U=O((0,u.useState)(0),2),D=U[0],M=U[1],_=O((0,u.useState)(!1),2),z=_[0],W=_[1],Z=O((0,u.useState)(!1),2),H=Z[0],Q=Z[1],q=O((0,u.useState)([]),2)[1],V=O((0,u.useState)(void 0),1)[0],B=O((0,u.useState)("all"),1)[0],F=O((0,u.useState)(""),2),G=F[0],K=F[1],J=O((0,u.useState)(!1),1)[0],$=O((0,u.useState)(!1),2),X=$[0],Y=$[1],ee=O((0,u.useState)(!1),2),te=ee[0],ne=ee[1],re=O((0,u.useState)(),2),oe=re[0],ae=re[1],le=O((0,u.useState)(),2),ie=le[0],se=le[1],ue=O((0,u.useState)(R[0]),2),ce=ue[0],de=ue[1],fe="isRoleHelpShown";(0,u.useEffect)((function(){""==G&&pe(),me()&&(E((0,p.rq)(!0)),T(!k),ve())}),[0!=(null==oe||null===(e=oe.Resources)||void 0===e?void 0:e.length)]),(0,u.useEffect)((function(){pe(),Q(!1)}),[H]),(0,u.useEffect)((function(){ye()}),[]),(0,u.useEffect)((function(){pe()}),[B]),(0,u.useEffect)((function(){pe()}),[V]);var pe=function(){Y(!0),(0,m.Sd)(V).then((function(e){if(200===e.status){var t=e.data.Resources;t&&t instanceof Array&&(e.data.Resources=t.filter((function(e){var t,n;return(null===(t=e.displayName)||void 0===t||!t.includes(v.Fn))&&((null===(n=e.displayName)||void 0===n||!n.includes(v.eT))&&("system"!==e.displayName&&("everyone"!==e.displayName&&e)))})),ae(e.data),ge(0,N,e.data))}})).finally((function(){Y(!1)}))},me=function(){var e,t,n=p.Wj.getUserPreferences();return!((0,s.Z)(n)||null!==(e=n.identityAppsSettings)&&void 0!==e&&null!==(t=e.devPortal)&&void 0!==t&&t[fe])},ve=function(){var e,t=p.Wj.getUserPreferences();if(!(0,s.Z)(t)&&null!=t&&null!==(e=t.identityAppsSettings)&&void 0!==e&&e.devPortal){var n=(0,l.Z)(t);n.identityAppsSettings.devPortal[fe]=!0,p.Wj.setUserPreferences(n)}},ye=function(){var e=[{key:-2,text:"All user stores",value:null},{key:-1,text:"Primary",value:"primary"}],t={key:null,text:"",value:""};(0,y.ow)().then((function(n){0===e.length&&e.push(t),n.data.map((function(n,r){t={key:r,text:n.name,value:n.name},e.push(t)})),q(e)})),q(e)},ge=function(e,t,n){var r,o=P(P(P({},n),n.Resources),{},{Resources:null==n||null===(r=n.Resources)||void 0===r?void 0:r.slice(e,t+e)});se(o)},he=function(e){null!==e&&"displayName sw "!==e?function(e){var t={filter:e,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:1};K(e),(0,m.QW)(t).then((function(e){if(200===e.status){var t=null==e?void 0:e.data,n=P(P(P({},t),null==t?void 0:t.Resources),{},{Resources:null==t?void 0:t.Resources});ae(n),se(n)}}))}(e):pe()},be=function(){return u.createElement(p.nC,{"data-testid":"role-mgt-roles-list-advanced-search",onFilter:he,filterAttributeOptions:[{key:0,text:"Name",value:"displayName"}],filterAttributePlaceholder:A("console:manage.features.roles.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:A("console:manage.features.roles.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:A("console:manage.features.roles.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:A("console:manage.features.roles.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co",triggerClearQuery:te})},Se=[{content:u.createElement(a.UG,{source:h.default,"data-testid":"role-help-panel-configs-tab-markdown-renderer"}),heading:"Help",hidden:!1,icon:{icon:u.createElement(f.Z,{disabled:!0,size:"large",name:"question circle outline",className:"ml-0"})}}];return u.createElement(a.ix,{activeIndex:I,sidebarDirection:"right",sidebarMiniEnabled:!0,tabs:Se,onHelpPanelPinToggle:function(){return p.JK.togglePanelPin()},isPinned:p.JK.isPanelPinned(),icons:{close:(0,p.km)().close,pin:(0,p.km)().pin,unpin:(0,p.km)().unpin},sidebarToggleTooltip:A("console:develop.features.helpPanel.actions.open"),pinButtonTooltip:A("console:develop.features.helpPanel.actions.pin"),unpinButtonTooltip:A("console:develop.features.helpPanel.actions.unPin"),onHelpPanelVisibilityChange:function(e){E((0,p.rq)(e)),T(!k)},visible:k},u.createElement(a.Xg,{action:(X||!(!G&&(null==ie||null===(t=ie.Resources)||void 0===t?void 0:t.length)<=0))&&u.createElement(a.KM,{"data-testid":"role-mgt-roles-list-add-button",onClick:function(){return W(!0)}},u.createElement(f.Z,{"data-testid":"role-mgt-roles-list-add-button-icon",name:"add"}),A("console:manage.features.roles.list.buttons.addButton",{type:"Role"})),title:A("console:manage.pages.roles.title"),description:"Create roles and assign permissions to collectively manage access to the ".concat(j.ui.productName," console.")},!J&&u.createElement(a.PS,{advancedSearch:be(),currentListSize:N,listItemLimit:N,onItemsPerPageDropdownChange:function(e,t){x(t.value),ge(D,t.value,oe)},onPageChange:function(e,t){var n=(t.activePage-1)*N;M(n),ge(n,N,oe)},onSortStrategyChange:function(e,t){de((0,i.Z)(R,(function(e){return t.value===e.value})))},sortStrategy:ce,showPagination:(null==ie||null===(n=ie.Resources)||void 0===n?void 0:n.length)>0,showTopActionPanel:X||!(!G&&(null==ie||null===(b=ie.Resources)||void 0===b?void 0:b.length)<=0),totalPages:Math.ceil((null==oe||null===(S=oe.Resources)||void 0===S?void 0:S.length)/N),totalListSize:null==oe||null===(w=oe.Resources)||void 0===w?void 0:w.length},u.createElement(g.RoleList,{advancedSearch:be(),"data-testid":"role-mgt-roles-list",handleRoleDelete:function(e){(0,m.iy)(e.id).then((function(){var e;e={description:A("console:manage.features.roles.notifications.deleteRole.success.description"),level:r.QU.SUCCESS,message:A("console:manage.features.roles.notifications.deleteRole.success.message")},E((0,o.V_)(e)),Q(!0)}))},showHeader:!0,showRoleType:!1,isGroup:!1,isLoading:X,onEmptyListPlaceholderActionClick:function(){return W(!0)},onSearchQueryClear:function(){ne(!te),K(null),pe()},roleList:ie,searchQuery:G})),z&&u.createElement(g.CreateRoleWizard,{"data-testid":"role-mgt-create-role-wizard",isAddGroup:!1,closeWizard:function(){return W(!1)},updateList:function(){return Q(!0)},submitStep:"UserList"})))}},62117:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r="## Roles\nA collection of scopes related to accessing different resources in the system. These will be used to control the access levels in the console app or accessing system APIs. There will be a predefined set of roles. Also, organization admins can create more roles by selecting multiple scopes to Manage Applications, Manage Users, Manage Organization, etc.\n\n**Note:** Only collaborator users can be assigned with a role.\n\n### Scope\nCollection of system permissions.\n\n### Permission\nPermission is an access level for a system.\n"}}]);