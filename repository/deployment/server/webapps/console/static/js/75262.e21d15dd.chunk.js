"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[75262,8069,7941,42330,15449],{8069:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(81816),l=n(52983),a=n(9202),o=n(88171),c=n(74691);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const m=function(e){var t=e.value,n=i((0,l.useState)("copy"),2),u=n[0],m=n[1],s=(0,l.useRef)(null),d=(0,a.$)().t;return(0,l.useEffect)((function(){return function(){return clearTimeout(s.current)}}),[]),l.createElement(r.GI,{trigger:l.createElement(o.Z,{size:"mini",basic:!0,icon:!0,compact:!0,onClick:function(){m("check"),navigator.clipboard.writeText(t),s.current=setTimeout((function(){return m("copy")}),3e3)}},"copy"===u?l.createElement(c.Z,{name:"copy outline"}):l.createElement(c.Z,{name:"check"})),inverted:!0,content:l.createElement("small",null,d("extensions:develop.monitor.tooltips.copy"))})}},75262:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(81816),l=n(12887),a=n(52983),o=n(9202),c=n(74691),i=n(6299),u=n(8069),m=n(7941),s=n(8802),d=n(15449);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const v=function(e){var t=e["data-componentid"],n=e.handleScroll,y=e.scrollRef,g=e.logs,v=e.loading,S=e.rowHeight,b=e.logCount,h=e.logType,I=e.setSearchQuery,N=(0,o.$)().t,A=E((0,a.useState)([-1]),2),T=A[0],w=A[1];(0,a.useEffect)((function(){g.length>0&&g.length<=b&&(y.current.scrollTop=S*(b-(b-1))),w([-1])}),[g]);var C=function(e,t){var n,r=t.index;n=T.indexOf(r)>-1?T.filter((function(e){return e!==r})):[].concat(p(T),[r]),w(n)},Z=function(e){var n=[],o=function(o){if("id"===o||"componentId"===o)return"continue";if(e[o])if("string"==typeof e[o])"recordedAt"===o?n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},o,":"),a.createElement("td",null,(0,d.formatTimestampToDateTime)(e[o])))):"resultStatus"===o?n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},o,":"),a.createElement("td",null,e[o]))):"requestId"===o?n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},"traceId:"),a.createElement("td",null,a.createElement(r.GI,{trigger:a.createElement("span",null,e[o].slice(0,32)),content:a.createElement("small",null,e[o])}),"...\xa0\xa0",a.createElement(c.Z.Group,{className:"icon-button",onClick:function(){I({property:"traceId",value:e[o]})}},a.createElement(c.Z,{name:"filter",color:"green"}),a.createElement(c.Z,{corner:!0,name:"add",color:"green"})),a.createElement(u.default,{value:e[o]})))):n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},o,":"),a.createElement("td",null,e[o],"\xa0\xa0",a.createElement(c.Z.Group,{className:"icon-button",onClick:function(){I({property:o,value:e[o]})}},a.createElement(c.Z,{name:"filter",color:"green"}),a.createElement(c.Z,{corner:!0,name:"add",color:"green"})))));else if("object"===f(e[o]))if("data"===o)n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},o,":"),a.createElement("td",{className:"download-data-button"},a.createElement("span",{"data-testid":"".concat(t,"-").concat(e.id,"-download-data-button"),onClick:function(){return function(e){var t=new Blob([JSON.stringify(e.data,null,2)],{type:"application/json"});(0,l.saveAs)(t,"log_data_"+e.id+".json")}(e)}},a.createElement(c.Z,{name:"download"}),N("extensions:develop.monitor.filter.downloadButton.label")))));else{var i=function(t){"string"==typeof e[o][t]?n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},t,":"),a.createElement("td",null,e[o][t],"\xa0\xa0",a.createElement(c.Z.Group,{className:"icon-button",onClick:function(){I({property:t,value:e[o][t]})}},a.createElement(c.Z,{name:"filter",color:"green"}),a.createElement(c.Z,{corner:!0,name:"add",color:"green"}))))):n.push(a.createElement("tr",null,a.createElement("td",{className:"log-property"},t,":"),a.createElement("td",null,JSON.stringify(e[o][t],null,10))))};for(var m in e[o])i(m)}};for(var i in e)o(i);return n};return a.createElement("div",{className:"main-container","data-componentid":"".concat(t,"-main-container")},a.createElement("div",{className:"ui fluid container scroll-container",onScroll:n,ref:y},a.createElement("div",{className:"edge-container"}),v&&a.createElement(m.default,null),a.createElement(i.Z,{"data-componentid":"".concat(t,"-log-entries-wrapper"),exclusive:!1,fluid:!0},g.map((function(e,t){return a.createElement("div",{key:t},a.createElement(i.Z.Title,{active:T.includes(t),index:t,onClick:C,style:{padding:"0px"}},a.createElement("div",{className:"log-row"},a.createElement(c.Z,{name:"dropdown"}),a.createElement("div",{className:"log-time-container"},(0,d.getDateFromTimestamp)(e.recordedAt),a.createElement("span",{className:"log-time"},"\xa0|\xa0",(0,d.getTimeFromTimestamp)(e.recordedAt))),a.createElement("div",{className:"log-description-container"},h===s.TabIndex.DIAGNOSTIC_LOGS&&a.createElement("div",{className:"log-message-container"},function(e){switch(e){case s.ResultStatus.SUCCESS:return a.createElement(c.Z,{name:"check circle",color:"green"});case s.ResultStatus.FAILED:return a.createElement(c.Z,{name:"close",color:"red"});default:return a.createElement(a.Fragment,null)}}(function(e){switch(e){case"SUCCESS":default:return s.ResultStatus.SUCCESS;case"FAILED":return s.ResultStatus.FAILED}}(e.resultStatus)),"auth-script-logging"===e.actionId&&a.createElement(c.Z,{name:"code"}),e.resultMessage.length>60?a.createElement(r.GI,{inverted:!0,trigger:a.createElement("span",null,"".concat(e.resultMessage.slice(0,60),"...")),content:a.createElement("small",null,N("extensions:develop.monitor.logView.toolTips.seeMore")),position:"bottom right",size:"mini"}):e.resultMessage),h===s.TabIndex.AUDIT_LOGS&&a.createElement("div",null,e.initiatorId),e.actionId&&a.createElement("div",{className:"log-actionid-container"},e.actionId),e.action&&a.createElement("div",{className:"log-actionid-container"},e.action)))),a.createElement(i.Z.Content,{active:T.includes(t)},Z(e).map((function(e,t){return a.createElement("table",{className:"log-expanded-view",key:t},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null),a.createElement("th",null))),a.createElement("tbody",null,e))}))))}))),v&&a.createElement(m.default,null),a.createElement("div",{className:"edge-container"})))}},7941:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(52983),l=n(28141),a=function(){return r.createElement("div",{className:"log-row"},r.createElement("div",{className:"log-time-container"},r.createElement(l.Z,{fluid:!0},r.createElement(l.Z.Line,null))),r.createElement("div",{className:"log-description-container"},r.createElement("div",{className:"log-desc-loader"},r.createElement(l.Z,{fluid:!0},r.createElement(l.Z.Line,null)))))};const o=function(){return r.createElement(r.Fragment,null,r.createElement(a,null),r.createElement(a,null))}},8802:(e,t,n)=>{var r,l;n.r(t),n.d(t,{ResultStatus:()=>l,TabIndex:()=>r}),function(e){e[e.DIAGNOSTIC_LOGS=0]="DIAGNOSTIC_LOGS",e[e.AUDIT_LOGS=1]="AUDIT_LOGS"}(r||(r={})),function(e){e.SUCCESS="SUCCESS",e.FAILED="FAILED"}(l||(l={}))},15449:(e,t,n)=>{n.r(t),n.d(t,{formatTimestampToDateTime:()=>a,getDateFromTimestamp:()=>o,getDateTimeWithOffset:()=>i,getTimeFromTimestamp:()=>c});var r=n(6901),l=n.n(r),a=function(e){return e?l()(e).format("DD MMM, YYYY | kk:mm:ss"):"N/A"},o=function(e){return e?l()(e).format("DD MMM, YYYY"):"N/A"},c=function(e){return e?l()(e).format("kk:mm:ss"):"N/A"},i=function(e){var t=new Date,n="".concat(t.toLocaleString("en-US",{timeZone:e.split(" ")[1]}))+" ".concat(e.split(" ")[0]);return Date.parse(n)}}}]);