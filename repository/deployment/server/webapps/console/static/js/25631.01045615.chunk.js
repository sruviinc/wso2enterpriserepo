/*! For license information please see 25631.01045615.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[25631],{34830:(e,t,n)=>{var r={"./apple/quick-start":[612,12520],"./facebook/quick-start":[25061,53218],"./github/quick-start":[67598,67608],"./google/quick-start":[34423,83580],"./hypr/quick-start":[95335,87885],"./microsoft/quick-start":[1137,97677],"./swe/quick-start":[97540,78896]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=34830,e.exports=i},25631:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Wa});var r=n(90009),i=n(83374),o=n(14603),a=n(90268),l=n(81816),c=n(17),u=n(50350),s=n(52983),d=n(9202),m=n(54221),f=n(73949),p=n(63793),v=n(30640),h=n(46910),y=n(94635),g=n(27316),b=n(91478),E=n(1751),S=n(24576),I=n(69466);function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.authenticator,n=e.isLoading,r=e.defaultActiveIndex,i=e.onUpdate,u=e.type,f=e.isReadOnly,p=e["data-testid"],v=(0,m.I0)(),A=(0,d.$)().t,T=P((0,s.useState)(void 0),2),C=T[0],_=T[1],w=P((0,s.useState)(!1),2),L=w[0],N=w[1];(0,s.useEffect)((function(){var e;if(!C&&t){var n=(0,c.Z)(b.identityProviderConfig.authenticators,t.id);if(null!=n&&null!==(e=n.content)&&void 0!==e&&e.quickStart){var r=b.identityProviderConfig.editIdentityProvider.getTabExtensions({content:n.content.quickStart});_(r)}}}),[t,C]);var R,k,D=function(e){N(!0);var n=M(t);(0,E.Z1)(t.id,e).then((function(){v((0,a.V_)({description:A("console:develop.features.authenticationProvider.notifications."+n+".success.description"),level:o.QU.SUCCESS,message:A("console:develop.features.authenticationProvider.notifications."+n+".success.message")})),i(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,a.V_)({description:A("console:develop.features.authenticationProvider.notifications."+n+".error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:A("console:develop.features.authenticationProvider.notifications."+n+".error.message")})):v((0,a.V_)({description:A("console:develop.features.authenticationProvider.notifications."+n+".genericError.description"),level:o.QU.ERROR,message:A("console:develop.features.authenticationProvider.notifications."+n+".genericError.message")}))})).finally((function(){N(!1)}))},M=function(e){return e.id===S.bQ.SMS_OTP_AUTHENTICATOR_ID?"updateSMSOTPAuthenticator":e.id===S.bQ.EMAIL_OTP_AUTHENTICATOR_ID?"updateEmailOTPAuthenticator":"updateGenericAuthenticator"},j=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},n?s.createElement(l.pO,null):s.createElement("div",{className:"authentication-section"},s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:16},s.createElement(l.pJ,{padded:"very"},s.createElement(g.p,{mode:I.Pk.EDIT,metadata:null,showCustomProperties:!1,initialValues:t,onSubmit:D,type:u,"data-testid":"".concat(p,"-").concat(t.name,"-content"),isReadOnly:f,isSubmitting:L})),t.id===S.bQ.SMS_OTP_AUTHENTICATOR_ID&&h.authenticatorConfig.externalResourceButton)))))};return t?s.createElement(l.M$,{"data-testid":"".concat(p,"-resource-tabs"),panes:(k=[],C&&C.length>0&&k.push.apply(k,O(C)),[S.bQ.TOTP_AUTHENTICATOR_ID,S.bQ.MAGIC_LINK_AUTHENTICATOR_ID].includes(t.id)||k.push({menuItem:A("console:develop.features.authenticationProvider.edit.common.settings.tabName"),render:j}),k),defaultActiveIndex:(R=r,[S.bQ.TOTP_AUTHENTICATOR_ID,S.bQ.MAGIC_LINK_AUTHENTICATOR_ID].includes(t.id)?0:R)}):null};C.defaultProps={"data-testid":"multi-factor-authenticator-edit",defaultActiveIndex:1};var _=n(42262),w=n(68979),L=n(31092),N=n(89101),R=n(7955),k=n(83831),D=n(59206),M=n(53337),j=n(48684),x=n(74691),U=n(21921);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Z(){Z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new L(r||[]);return i(a,"_invoke",{value:T(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,a)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==G(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=m;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(G(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function F(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){var t,n=e["data-componentid"],r=e.isOpen,i=e.onClose,c=e.currentlyEditingIdP,u=e.refreshIdP,f=(0,d.$)().t,p=(0,m.I0)(),h=H((0,l.IK)(),3),g=h[0],b=h[1],E=h[2],S=H((0,s.useState)(""),2),I=S[0],O=S[1],P=H((0,s.useState)(!0),2),A=P[0],T=P[1],C=H((0,s.useState)(!1),2),_=C[0],L=C[1],N=function(){var e,t=(e=Z().mark((function e(){var t,n,r,l,s,d,m,v,h;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),null==c||null===(t=c.certificate)||void 0===t||null===(n=t.certificates)||void 0===n||!n.includes(I)){e.next=6;break}return p((0,a.V_)({description:f("console:develop.features.authenticationProvider.notifications.duplicateCertificateUpload.error.description",{idp:c.name}),level:o.QU.ERROR,message:f("console:develop.features.authenticationProvider.notifications.duplicateCertificateUpload.error.message")})),L(!1),i(),e.abrupt("return");case 6:return d=null!=c&&null!==(r=c.certificate)&&void 0!==r&&r.certificates?null==c||null===(l=c.certificate)||void 0===l||null===(s=l.certificates)||void 0===s?void 0:s.length:0,m=[{operation:"ADD",path:"/certificate/certificates/"+d,value:I}],v=function(){p((0,a.V_)({description:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.description"),level:o.QU.SUCCESS,message:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.message")})),L(!1),i(),u(c.id)},h=function(e){if(e.response&&e.response.data&&e.response.data.description)return b({description:e.response.data.description,level:o.QU.ERROR,message:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.error.message")}),void L(!1);b({description:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.description"),level:o.QU.ERROR,message:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.message")}),L(!1)},e.next=12,(0,w.DM)(c.id,m).then(v).catch(h);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){F(o,r,i,a,l,"next",e)}function l(e){F(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return s.createElement(U.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:r,onClose:i,"data-testid":"".concat(n,"-view-certificate-modal")},s.createElement(U.Z.Header,{className:"wizard-header"},f("console:develop.features.authenticationProvider.modals.addCertificate.title"),s.createElement(l.X6,{as:"h6"},f("console:develop.features.authenticationProvider.modals.addCertificate.subTitle",{idpName:null!==(t=null==c?void 0:c.name)&&void 0!==t?t:""}))),s.createElement(U.Z.Content,{className:"content-container"},g&&E,s.createElement(D.l0,{id:"idp-certificate-add-modal-form",onSubmit:function(){return{}},uncontrolledForm:!0},s.createElement(l.GB,{key:1,fileStrategy:new l.tN,normalizeStateOnRemoveOperations:!0,onChange:function(e){try{var t,n;O(btoa(null!==(t=null===(n=e.serialized)||void 0===n?void 0:n.pem)&&void 0!==t?t:"")),T(!(e.pastedContent&&e.file||e.serialized||e.valid))}catch(r){b({description:r&&(null==r?void 0:r.message),level:o.QU.ERROR,message:"An unknown error occurred."})}},uploadButtonText:"Upload Certificate File",dropzoneText:"Drag and drop a certificate file here.",pasteAreaPlaceholderText:"Paste IdP certificate in PEM format.",icon:(0,v._5)().uploadPlaceholder,placeholderIcon:s.createElement(x.Z,{name:"file alternate",size:"huge"}),"data-testid":"".concat(n,"-form-wizard--pem-certificate")})),_&&s.createElement(l.pO,null)),s.createElement(U.Z.Actions,null,s.createElement(y.Z,null,s.createElement(y.Z.Row,{column:1},s.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:i,"data-testid":"".concat(n,"-cancel-button")},f("common:cancel"))),s.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.KM,{disabled:A||_,floated:"right",loading:_,onClick:N,"data-testid":"".concat(n,"-finish-button")},f("common:finish")))))))};q.defaultProps={"data-componentid":"add-certificate-modal"};var K="console:develop.features.authenticationProvider.placeHolders.emptyCertificateList",B=function(e){var t=e["data-componentid"],n=e.onAddCertificateClicked,r=(0,d.$)().t;return s.createElement(j.Z,null,s.createElement(l.$J,{title:r("".concat(K,".title")),image:(0,v.jF)().emptyList,subtitle:[r("".concat(K,".subtitles.0")),r("".concat(K,".subtitles.1"))],imageSize:"tiny",action:s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.KM,{onClick:n,"data-testid":"".concat(t,"-emptyPlaceholder-add-certificate-button"),type:"button"},s.createElement(x.Z,{name:"add"}),r("console:develop.features.authenticationProvider.buttons.addCertificate"))),"data-testid":"".concat(t,"-empty-placeholder")}))};B.defaultProps={"data-componentid":"empty-certificates-placeholder"};var z=n(96433),Q=n(6901),Y=n.n(Q),W=n(39990),$=function(e){var t=e["data-componentid"],n=e.certificateToDisplay,r=e.show,i=e.onCloseClicked,o=(0,d.$)().t,a=s.createElement(j.Z,{className:"certificate","data-testid":t},s.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",z.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return s.createElement("span",{key:"".concat(e,"+").concat(t)},s.createElement(l.EK,null,e),"\xa0")}))," key algorithms. Support for ",s.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return s.createElement(U.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:r,onClose:function(){return i(n)},"data-testid":"".concat(t,"-view-certificate-modal")},s.createElement(U.Z.Header,null,s.createElement("div",{className:"certificate-ribbon"},s.createElement(l.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,v._5)().ribbon}),s.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=n&&n.alias?n.alias:null!=n&&n.issuerDN?k.CertificateManagementUtils.searchIssuerDNAlias(null==n?void 0:n.issuerDN):X),s.createElement("br",null),s.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==n?void 0:n.serialNumber))),s.createElement(U.Z.Content,{className:"certificate-content"},null!=n&&n.infoUnavailable?a:s.createElement(l.KB,{certificate:n,labels:{issuerDN:o("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:o("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:o("console:manage.features.certificates.keystore.summary.validFrom"),validTill:o("console:manage.features.certificates.keystore.summary.validTill"),version:o("console:manage.features.certificates.keystore.summary.version")}})))},X="";function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function ee(){ee=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new L(r||[]);return i(a,"_invoke",{value:T(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,a)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==J(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=m;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(J(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function te(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){te(o,r,i,a,l,"next",e)}function l(e){te(o,r,i,a,l,"throw",e)}a(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$.defaultProps={"data-componentid":"show-certificate-modal"};var oe=function(e){var t,n=e["data-componentid"],r=e.currentlyEditingIdP,i=e.refreshIdP,c=e.isReadOnly,u=e.templateType,f=(0,d.$)().t,p=(0,m.I0)(),v=(0,m.v9)((function(e){return e.config})),h=re((0,s.useState)(),2),g=h[0],b=h[1],E=re((0,s.useState)(!1),2),I=E[0],O=E[1],P=re((0,s.useState)(null),2),A=P[0],T=P[1],C=re((0,s.useState)(!1),2),_=C[0],L=C[1],N=re((0,s.useState)(null),2),R=N[0],M=N[1],j=re((0,s.useState)(!1),2),U=j[0],G=j[1];(0,s.useEffect)((function(){Z()}),[]),(0,s.useEffect)((function(){Z()}),[null==r||null===(t=r.certificate)||void 0===t?void 0:t.certificates]);var Z=function(){var e,t;if((null==r||null===(e=r.certificate)||void 0===e||null===(t=e.certificates)||void 0===t?void 0:t.length)>0){var n,i,o=[];null==r||null===(n=r.certificate)||void 0===n||null===(i=n.certificates)||void 0===i||i.map((function(e){k.CertificateManagementUtils.canSafelyParseCertificate(e)?null==o||o.push(k.CertificateManagementUtils.displayCertificate(null,e)):null==o||o.push(z.lu.DUMMY_DISPLAY_CERTIFICATE)})),b([].concat(o))}},F=function(){var e=ne(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(t),u!==S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER||1!==g.length||null!=r&&null!==(n=r.certificate)&&void 0!==n&&n.jwksUri){e.next=5;break}L(!0),e.next=7;break;case 5:return e.next=7,H(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=ne(ee().mark((function e(t){var n,l,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),n=[{operation:"REMOVE",path:"/certificate/certificates/"+(null!=t?t:R),value:null}],l=function(){p((0,a.V_)({description:f("console:develop.features.authenticationProvider.notifications.deleteCertificate.success.description"),level:o.QU.SUCCESS,message:f("console:develop.features.authenticationProvider.notifications.deleteCertificate.success.message")})),i(r.id)},c=function(e){e.response&&e.response.data&&e.response.data.description?p((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:f("console:develop.features.authenticationProvider.notifications.deleteCertificate.error.message")})):p((0,a.V_)({description:f("console:develop.features.authenticationProvider.notifications.deleteCertificate.genericError.description"),level:o.QU.ERROR,message:f("console:develop.features.authenticationProvider.notifications.deleteCertificate.genericError.message")}))},e.next=7,(0,w.DM)(null==r?void 0:r.id,n).then(l).catch(c).finally((function(){G(!1),_&&L(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){T(e),O(!0)},q=function(e,t,n){var r,i,a=Y()(t);switch(k.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case o.WE.VALID:r="check circle",i="green";break;case o.WE.WILL_EXPIRE_SOON:r="exclamation circle",i="yellow";break;default:r="times circle",i="red"}return s.createElement(s.Fragment,null,n+z.lu.SPACE_CHARACTER,s.createElement(l.GI,{trigger:s.createElement(x.Z,{name:r,color:i}),content:"Expiry date: "+a.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},K=function(e){return s.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",s.createElement(l.GI,{trigger:s.createElement(x.Z,{onClick:function(){return V(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))},B=function(e,t){return[{"data-componentid":"".concat(n,"-edit-cert-").concat(t,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return V(e)},popupText:"Preview",type:"button"},{"data-componentid":"".concat(n,"-delete-cert-").concat(t,"-button"),icon:"trash alternate",onClick:function(){return F(t)},popupText:"Delete",type:"button"}]},Q=function(e){return s.createElement(l.Yt,{name:null!=e&&e.infoUnavailable?z.lu.QUESTION_MARK:k.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})};return s.createElement(D.l0,{id:"idp-certificates-list-form",onSubmit:z.lu.NO_OPERATIONS,uncontrolledForm:!0},s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,null,s.createElement(l.Db,{fill:!0,relaxed:!1,className:"application-list",isLoading:U,loadingStateOptions:{count:2,imageType:"circular"},readOnly:c},null==g?void 0:g.map((function(e,t){return s.createElement(l.zA,{key:t,actionsColumnWidth:3,descriptionColumnWidth:9,actions:B(e,t),actionsFloated:"right",avatar:Q(e),itemHeader:null!=e&&e.infoUnavailable?K(e):q(e.validFrom,e.validTill,k.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:(n=e.validFrom,r=e.validTill,k.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(n,r))});var n,r})))))),s.createElement($,{show:I,certificateToDisplay:A,onCloseClicked:function(){return O(!1)}}),s.createElement(l.cV,{primaryActionLoading:U,onClose:function(){return L(!1)},type:"negative",open:_,assertionType:"checkbox",assertionHint:f("console:develop.features.authenticationProvider.confirmations.deleteCertificate.assertionHint"),primaryAction:f("common:confirm"),secondaryAction:f("common:cancel"),onSecondaryActionClick:function(){return L(!1)},onPrimaryActionClick:function(){return H()},"data-componentid":"".concat(n,"-delete-certificate-confirmation"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-componentid":"".concat(n,"-delete-certificate-confirmation-header")},f("console:develop.features.authenticationProvider.confirmations.deleteCertificate.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(n,"-delete-certificate-confirmation")},f("console:develop.features.authenticationProvider.confirmations.deleteCertificate.message")),s.createElement(l.cV.Content,{"data-componentid":"".concat(n,"-delete-certificate-confirmation-content")},s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.confirmations.deleteCertificate.content",values:{productName:v.ui.productName}},"If this certificate is deleted, productName will no longer be able to validate tokens issued from this issuer.",s.createElement("b",null," Proceed with caution.")))))};oe.defaultProps={"data-componentid":"idp-certificates-list"};var ae=n(61522);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue="idp-certificate-jwks-input-form",se=function(e){var t,n,r,i,c=e["data-componentid"],u=e.editingIDP,f=e.onUpdate,v=e.isReadOnly,h=e.isJWKSEnabled,y=e.isPEMEnabled,g=e.templateType,b=(0,m.v9)((function(e){return e.config})),E=le((0,s.useState)(),2),I=E[0],O=E[1],P=le((0,s.useState)(!1),2),A=P[0],T=P[1],C=le((0,s.useState)(!1),2),_=C[0],U=C[1],G=le((0,s.useState)(!1),2),Z=G[0],F=G[1],H=le((0,s.useState)(),2),V=H[0],K=H[1],z=(0,d.$)().t,Q=(0,m.I0)();(0,s.useEffect)((function(){Y()}),[]),(0,s.useEffect)((function(){Y()}),[u]);var Y=function(){var e,t,n,r;h?(null==u||null===(e=u.certificate)||void 0===e||null===(t=e.certificates)||void 0===t?void 0:t.length)>0?O("certificates"):(K(null!==(n=null==u||null===(r=u.certificate)||void 0===r?void 0:r.jwksUri)&&void 0!==n?n:""),O("jwks")):O("certificates")},W=function(){T(!0)},$=s.createElement(D.l0,{id:ue,uncontrolledForm:!0,initialValues:{jwks_endpoint:null==u||null===(t=u.certificate)||void 0===t?void 0:t.jwksUri},onSubmit:function(e){var t,n=[{operation:null!=u&&null!==(t=u.certificate)&&void 0!==t&&t.jwksUri?"REPLACE":"ADD",path:"/certificate/jwksUri",value:e.jwks_endpoint}];U(!0);(0,w.DM)(u.id,n).then((function(){Q((0,a.V_)({description:z("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.description"),level:o.QU.SUCCESS,message:z("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.message")})),f(u.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Q((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:z("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.error.message")})):Q((0,a.V_)({description:z("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.description"),level:o.QU.ERROR,message:z("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.message")}))})).finally((function(){U(!1)}))}},s.createElement(D.gN.Input,{required:!0,hint:s.createElement(s.Fragment,null,"A JSON Web Key (JWK) Set is a JSON object that represents a set of JWKs. The JSON object MUST have a ",s.createElement(l.EK,null,"keys")," member, with its value being an array of JWKs."),label:"JWKS Endpoint URL",ariaLabel:"JWKS Endpoint URL",inputType:"url",width:16,validation:function(e){return e&&M.I.url(e)?null!==p.commonConfig&&void 0!==p.commonConfig&&p.commonConfig.blockLoopBackCalls&&k.URLUtils.isLoopBackCall(e)?(F(!1),z("console:develop.features.idp.forms.common.internetResolvableErrorMessage")):void F(!0):(F(!1),z("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))},listen:function(e){return K(e)},placeholder:"https://{ oauth-provider-url }/oauth/jwks",maxLength:ae.v.JWKS_URL_LENGTH.max,minLength:ae.v.JWKS_URL_LENGTH.min,name:"jwks_endpoint",disabled:v}),s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(D.gN.Button,{form:ue,"data-testid":"".concat(c,"-save-button"),loading:_,ariaLabel:"JWKS Enpoint",name:"jwks_enpoint",size:"small",buttonType:"primary_btn",label:z("common:update"),disabled:!V||!Z||V===(null==u||null===(n=u.certificate)||void 0===n?void 0:n.jwksUri)||_}))),X=s.createElement(s.Fragment,null,null!=u&&null!==(r=u.certificate)&&void 0!==r&&null!==(i=r.certificates)&&void 0!==i&&i.length?s.createElement(j.Z,null,s.createElement(N.Z,{direction:"column",container:!0,spacing:2},s.createElement(N.Z,{xs:12},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.KM,{floated:"right",onClick:W,"data-testid":"".concat(c,"-add-certificate-button")},s.createElement(x.Z,{name:"add"}),z("console:develop.features.authenticationProvider.buttons.addCertificate")))),s.createElement(N.Z,{xs:12},s.createElement(oe,{templateType:g,isReadOnly:v,currentlyEditingIdP:u,refreshIdP:f})))):s.createElement(B,{onAddCertificateClicked:W}));return h||y?s.createElement(l.pJ,{padded:"very"},s.createElement(N.Z,{direction:"column",container:!0,spacing:4},g===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER&&!(null!=u&&u.certificate)&&s.createElement(N.Z,{xs:12},s.createElement(L.Z,{severity:"error"},z("console:develop.features.authenticationProvider.forms.certificateSection.noCertificateAlert",{productName:b.ui.productName}))),s.createElement(N.Z,{direction:"column",container:!0,spacing:3,xs:12},h&&y&&s.createElement(N.Z,{md:12,lg:6},s.createElement(l.T5,{widths:"two",compact:!0,"data-testid":"".concat(c,"-switcher"),selectedValue:I,onChange:function(e){var t=e.value;O(t)},options:[{label:z("console:develop.features.authenticationProvider.forms.certificateSection.certificateEditSwitch.jwks"),value:"jwks"},{label:z("console:develop.features.authenticationProvider.forms.certificateSection.certificateEditSwitch.pem"),value:"certificates"}]})),s.createElement(N.Z,{md:12,lg:6},"jwks"===I?$:s.createElement(s.Fragment,null,X,s.createElement(l.kW,null,"Upload certificate(s) for this Identity Provider. You can include multiple certificates in case if there's any certificate rotations. You can upload ",l.tN.DEFAULT_MIMES.map((function(e,t){return s.createElement("span",{key:e},s.createElement(l.EK,null,e),t!==l.tN.DEFAULT_MIMES.length-1&&s.createElement(s.Fragment,null,"\xa0"))}))," types of certificates."))))),y&&s.createElement(q,{currentlyEditingIdP:u,refreshIdP:f,isOpen:A,onClose:function(){T(!1)}})):null};se.defaultProps={"data-componentid":"idp-certificates",isJWKSEnabled:!0,isPEMEnabled:!0};var de=n(75917),me=n(71325),fe=n(61133),pe=n(41803),ve=n(56467),he="idp-general-details-form",ye=function(e){var t,n,r,i,o=e.onSubmit,a=e.onUpdate,c=e.editingIDP,u=e.idpList,f=e.hideIdPLogoEditField,p=e.isReadOnly,v=e.isSaml,h=e.templateType,g=e.isSubmitting,E=e["data-testid"],I=(0,s.useMemo)((function(){return b.identityProviderConfig.editIdentityProvider.getCertificateOptionsForTemplate(null==c?void 0:c.templateId)}),[]),O=(0,d.$)().t,P=(0,m.v9)((function(e){return e.config})),A=function(e){var t,n,r,i,a;o({alias:null===(t=e.alias)||void 0===t?void 0:t.toString(),description:null===(n=e.description)||void 0===n?void 0:n.toString(),idpIssuerName:null===(r=e.idpIssuerName)||void 0===r?void 0:r.toString(),image:null===(i=e.image)||void 0===i?void 0:i.toString(),isPrimary:!!e.isPrimary,name:null===(a=e.name)||void 0===a?void 0:a.toString()})},T=function(){var e;return!(null==c||null===(e=c.federatedAuthenticators)||void 0===e||!e.authenticators.find((function(e){return(null==e?void 0:e.name)===pe.f.ORGANIZATION_SSO_AUTHENTICATOR_NAME})))};return s.createElement(s.Fragment,null,s.createElement(l.pJ,{padded:"very"},s.createElement(D.l0,{id:he,uncontrolledForm:!1,onSubmit:function(e){A(e)},"data-testid":E},s.createElement(D.gN.Input,{ariaLabel:"name",inputType:"resource_name",name:"name",label:O("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),required:!0,message:O("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.empty"),placeholder:c.name,validation:function(e){return function(e){if(!M.I.isValidResourceName(e))return O("console:develop.features.authenticationProvider.templates.enterprise.validation.name");var t=!1;return(null==u?void 0:u.count)>0&&(null==u||u.identityProviders.map((function(n){(null==n?void 0:n.name)===e&&c.name!==e&&(t=!0)}))),t?O("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate"):void 0}(e)},value:c.name,maxLength:50,minLength:ae.v.IDP_NAME_LENGTH.min,"data-testid":"".concat(E,"-idp-name"),hint:O("console:develop.features.authenticationProvider.forms.generalDetails.name.hint"),readOnly:p}),((null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(t=b.identityProviderConfig.editIdentityProvider)||void 0===t?void 0:t.showIssuerSettings)||h===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER)&&!T()&&s.createElement(D.gN.Input,{ariaLabel:"idpIssuerName",inputType:"resource_name",name:"idpIssuerName",label:O("console:develop.features.authenticationProvider.forms.generalDetails.issuer.label"),hint:O("console:develop.features.authenticationProvider.forms.generalDetails.issuer.hint"),required:h===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER,placeholder:null!==(n=null==c?void 0:c.idpIssuerName)&&void 0!==n?n:O("console:develop.features.authenticationProvider.forms.generalDetails.issuer.placeholder"),validation:function(e){return function(e){if(!M.I.resourceName(e))return O("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.issuer.validation.notValid",{issuer:e})}(e)},value:c.idpIssuerName,maxLength:ae.v.IDP_NAME_LENGTH.max,minLength:ae.v.IDP_NAME_LENGTH.min,"data-testid":"".concat(E,"-issuer"),readOnly:p}),((null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(r=b.identityProviderConfig.editIdentityProvider)||void 0===r?void 0:r.showIssuerSettings)||h===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER)&&!T()&&s.createElement(D.gN.Input,{ariaLabel:"alias",inputType:"resource_name",name:"alias",label:O("console:develop.features.authenticationProvider.forms.generalDetails.alias.label"),required:!1,message:O("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.empty"),placeholder:O("console:develop.features.authenticationProvider.forms.generalDetails.alias.placeholder"),hint:O("console:develop.features.authenticationProvider.forms.generalDetails.alias.hint",{productName:P.ui.productName}),validation:function(e){return function(e){if(!M.I.resourceName(e))return O("console:develop.features.authenticationProvider.templates.trustedTokenIssuer.forms.alias.validation.notValid",{alias:e})}(e)},value:c.alias,maxLength:ae.v.IDP_NAME_LENGTH.max,minLength:ae.v.IDP_NAME_LENGTH.min,"data-testid":"".concat(E,"-alias"),readOnly:p}),s.createElement(D.gN.Textarea,{name:"description",ariaLabel:"description",label:O("console:develop.features.authenticationProvider.forms.generalDetails.description.label"),required:!1,placeholder:O("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),value:c.description,"data-testid":"".concat(E,"-idp-description"),maxLength:ae.v.IDP_NAME_LENGTH.max,minLength:ae.v.IDP_NAME_LENGTH.min,hint:O("console:develop.features.authenticationProvider.forms.generalDetails.description.hint"),readOnly:p}),!f&&s.createElement(D.gN.Input,{name:"image",ariaLabel:"image",inputType:"url",label:O("console:develop.features.authenticationProvider.forms.generalDetails.image.label"),required:!1,placeholder:O("console:develop.features.authenticationProvider.forms.generalDetails.image.placeholder"),value:c.image,"data-testid":"".concat(E,"-idp-image"),maxLength:ae.v.GENERAL_FORM_CONSTRAINTS.IMAGE_URL_MAX_LENGTH,minLength:ae.v.GENERAL_FORM_CONSTRAINTS.IMAGE_URL_MIN_LENGTH,hint:O("console:develop.features.authenticationProvider.forms.generalDetails.image.hint"),readOnly:p}),!p&&s.createElement(D.gN.Button,{form:he,ariaLabel:"Update General Details",size:"small",buttonType:"primary_btn",label:O("common:update"),name:"submit",disabled:g,loading:g}))),(i=b.identityProviderConfig.generalDetailsForm.showCertificate,(void 0!==I&&!I.JWKS&&!I.PEM||T())&&(i=!1),i&&s.createElement(s.Fragment,null,s.createElement(de.Z,{hidden:!0}),s.createElement(y.Z,null,s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},"Certificates")))),s.createElement(se,{isJWKSEnabled:void 0!==I?I.JWKS:!v,templateType:h,isReadOnly:p,editingIDP:c,onUpdate:a,isPEMEnabled:void 0===I||I.PEM}))))};ye.defaultProps={"data-testid":"idp-edit-general-settings-form",enableWizardMode:!1,hideIdPLogoEditField:!1,triggerSubmit:!1};var ge=n(13318),be=n(88171),Ee=function(e){var t=e.config,n=e.onSubmit,r=e.isReadOnly,i=e.isSubmitting,o=e["data-testid"],a=(0,d.$)().t;return s.createElement(ge.Es,{onSubmit:function(e){return n(function(e){var t;return{homeRealmIdentifier:e.get("homeRealmIdentifier"),idpIssuerName:e.get("issuer"),isFederationHub:!(null===(t=e.get("federationHub"))||void 0===t||!t.includes("federationHub"))}}(e))}},s.createElement(y.Z,null,s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(ge.gN,{name:"federationHub",label:"",required:!1,requiredErrorMessage:a("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),value:null!=t&&t.isFederationHub?["federationHub"]:[],type:"checkbox",children:[{label:a("console:develop.features.authenticationProvider.forms.advancedConfigs.federationHub.label"),value:"federationHub"}],toggle:!0,"data-testid":"".concat(o,"-federation-hub"),readOnly:r}),s.createElement(l.kW,null,a("console:develop.features.authenticationProvider.forms.advancedConfigs.federationHub.hint")))),s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(ge.gN,{name:"homeRealmIdentifier",label:a("console:develop.features.authenticationProvider.forms.advancedConfigs.homeRealmIdentifier.label"),required:!1,requiredErrorMessage:"",placeholder:a("console:develop.features.authenticationProvider.forms.advancedConfigs.homeRealmIdentifier.placeholder"),type:"text",value:t.homeRealmIdentifier,"data-testid":"".concat(o,"-home-realm-identifier"),readOnly:r}),s.createElement(l.kW,null,a("console:develop.features.authenticationProvider.forms.advancedConfigs.homeRealmIdentifier.hint")))),s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:i,disabled:i,"data-testid":"".concat(o,"-update-button")},a("common:update")))))))};Ee.defaultProps={"data-testid":"idp-edit-advance-settings"};var Se=n(99705),Ie=n(9965),Oe=n(67127),Pe=n(62132),Ae=n.n(Pe),Te=n(27899),Ce=n.n(Te),_e=n(76569),we=n.n(_e),Le=n(34753),Ne=n.n(Le),Re=n(93598),ke=n.n(Re),De=n(46244),Me=n.n(De),je=n(24729),xe=n.n(je),Ue={};Ue.styleTagTransform=Me(),Ue.setAttributes=Ne(),Ue.insert=we().bind(null,"head"),Ue.domAPI=Ce(),Ue.insertStyleElement=ke();Ae()(xe(),Ue);xe()&&xe().locals&&xe().locals;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ge(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke="authenticator-settings-form",Be=function(e){var t,n,r,i=e.connectorSettings,o=e.metadata,a=e.initialValues,c=e.onSubmit,u=e.isSubmitting,m=e["data-testid"],f=(0,d.$)().t,p=Ve((0,s.useState)(void 0),2),v=p[0],h=p[1],y=Ve((0,s.useState)(void 0),2),g=y[0],b=y[1],E=Ve((0,s.useState)(void 0),2),S=E[0],I=E[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==a?void 0:a.properties)){var e=null,t=null;a.properties.map((function(n){var r,i,a=null==o||null===(r=o.properties)||void 0===r?void 0:r.find((function(e){return e.key===n.key}));i=n.key===ae.v.GOOGLE_ONE_TAP_ENABLED?"true"===n.value:n.value,e=Fe(Fe({},e),{},He({},n.key,{meta:a,value:i})),t=Fe(Fe({},t),{},He({},n.key,i))})),h(e),b(t)}}),[a]),(0,s.useEffect)((function(){i&&I(i)}),[i]);var O=function(e){var t=[];try{t=e.trim().split("scope=")[1].split(" ")}catch(n){}return t},P=function(e,t){switch(e){case"STRING":return t?Ie.To.INPUT_PASSWORD:Ie.To.INPUT_TEXT;case"INTEGER":return Ie.To.INPUT_NUMBER;default:return Ie.To.INPUT_TEXT}};return s.createElement(N.Z,{container:!0,spacing:2,columns:16},s.createElement(N.Z,{sm:16,lg:12},s.createElement(Ie.F3,{uncontrolledForm:!1,id:"".concat(Ke,"-").concat(null==a?void 0:a.authenticatorId),onSubmit:function(e){return c(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Ve(r[n],2),o=i[0],l=i[1];void 0!==o&&t.push({key:o,value:l})}return Fe(Fe({},a),{},{properties:t})}(e))},initialValues:g,"data-testid":"".concat(m,"-dynamic-form")},function(){var e,t;if(S)return(0,Ie.DE)(null==S||null===(e=S.edit)||void 0===e||null===(t=e.tabs)||void 0===t?void 0:t.settings);if(v){var n=[];for(var r in v){var i,o,a,l,c,u;if("AdditionalQueryParameters"!==r){var d=v[r];n.push({displayOrder:null==d||null===(i=d.meta)||void 0===i?void 0:i.displayOrder,element:s.createElement(Ie.e9.Input,{key:r,name:r,label:null==d||null===(o=d.meta)||void 0===o?void 0:o.displayName,inputType:P(null==d||null===(a=d.meta)||void 0===a?void 0:a.type,null==d||null===(l=d.meta)||void 0===l?void 0:l.isConfidential),required:null==d||null===(c=d.meta)||void 0===c?void 0:c.isMandatory,placeholder:null==d||null===(u=d.meta)||void 0===u?void 0:u.description,initialValue:null==d?void 0:d.value,className:"authenticator-settings-dynamic-input-field"})})}}return n.sort((function(e,t){return e.displayOrder-t.displayOrder})).map((function(e){return e.element}))}}(),(null==v||null===(t=v.AdditionalQueryParameters)||void 0===t?void 0:t.value)&&!(0,Oe.Z)(O(null==v||null===(n=v.AdditionalQueryParameters)||void 0===n?void 0:n.value))&&s.createElement(l.hj,{heading:f("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},null===(r=O(null==v?void 0:v.AdditionalQueryParameters.value))||void 0===r?void 0:r.map((function(e,t){var n=function(e){var t,n,r,i,o=null==S||null===(t=S.edit)||void 0===t||null===(n=t.tabs)||void 0===n||null===(r=n.settings)||void 0===r||null===(i=r.scopes)||void 0===i?void 0:i.find((function(t){return(null==t?void 0:t.displayName)===e}));if(o)return{description:null==o?void 0:o.description,displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},null==o?void 0:o.displayName),icon:null==o?void 0:o.icon}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:null==n?void 0:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},null==n?void 0:n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},null==n?void 0:n.description))}))),s.createElement(l.kW,{compact:!0},s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.hint"},"Scopes provide a way for connected apps to access data from Google. Click ",s.createElement("a",{href:"https://developers.google.com/identity/protocols/oauth2/openid-connect#scope-param",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),s.createElement(Ie.e9.Button,{index:1,form:"".concat(Ke,"-").concat(null==a?void 0:a.authenticatorId),ariaLabel:"Update General Details",size:"small",buttonType:"primary_btn",label:f("common:update"),name:"submit",disabled:u}))))};Be.defaultProps={"data-testid":"authenticator-settings-form",enableSubmitButton:!0};var ze=n(76215);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et="apple-authenticator-form",tt=function(e){var t,n,r,i,o,a,c,u,m,f,p,v,h,y,g,b,E,S,I,O,P,A,T,C,_,w,L,N,R,k,M,j,U,G,Z,F,H,V,q,K,B=e.metadata,z=e.mode,Q=e.initialValues,Y=e.onSubmit,$=e.readOnly,X=e.isSubmitting,J=e["data-componentid"],ee=(0,d.$)().t,te=Xe((0,s.useState)(void 0),2),ne=te[0],re=te[1],ie=Xe((0,s.useState)(void 0),2),oe=ie[0],ae=ie[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==Q?void 0:Q.properties)){var e=null,t=null;Q.properties.map((function(n){var r=null==B?void 0:B.properties.find((function(e){return e.key===n.key}));e=We(We({},e),{},$e({},n.key,{meta:r,value:n.value})),t=We(We({},t),{},$e({},n.key,n.value))})),re(e),ae(t)}}),[Q]);return s.createElement(D.l0,{id:et,uncontrolledForm:!1,onSubmit:function(e){return Y(function(e){var t,n=[],r={},i=!1;null==Q||null===(t=Q.properties)||void 0===t||t.map((function(e){r[e.key]=e.value}));for(var o=0,a=Object.entries(e);o<a.length;o++){var l=Xe(a[o],2),c=l[0],u=l[1];void 0!==c&&(n.push({key:c,value:u}),!i&&-1!==pe.f.APPLE_AUTHENTICATOR_SECRET_REGENERATIVE_FIELDS.indexOf(c)&&r[c]&&u!==r[c]&&(i=!0))}return!0===i&&n.push({key:pe.f.APPLE_SECRET_REGENERATE_ATTRIBUTE_KEY,value:"true"}),We(We({},Q),{},{properties:n})}(e))},initialValues:oe},s.createElement(D.gN.Input,{ariaLabel:"Apple authenticator client ID",inputType:"default",name:"ClientId",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.clientId.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.clientId.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.clientId.hint"),required:null==ne||null===(t=ne.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(r=ne.ClientId)||void 0===r||null===(i=r.meta)||void 0===i?void 0:i.readOnly),value:null==ne||null===(o=ne.ClientId)||void 0===o?void 0:o.value,maxLength:null==ne||null===(a=ne.ClientId)||void 0===a||null===(c=a.meta)||void 0===c?void 0:c.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-client-id")}),s.createElement(D.gN.Input,{ariaLabel:"Apple authenticator team ID",inputType:"default",name:"TeamId",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.teamId.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.teamId.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.teamId.hint"),required:null==ne||null===(u=ne.TeamId)||void 0===u||null===(m=u.meta)||void 0===m?void 0:m.isMandatory,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(f=ne.TeamId)||void 0===f||null===(p=f.meta)||void 0===p?void 0:p.readOnly),value:null==ne||null===(v=ne.TeamId)||void 0===v?void 0:v.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.TEAM_ID_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-team-id")}),s.createElement(D.gN.Input,{ariaLabel:"Apple authenticator key ID",inputType:"default",name:"KeyId",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.keyId.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.keyId.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.keyId.hint"),required:null==ne||null===(h=ne.KeyId)||void 0===h||null===(y=h.meta)||void 0===y?void 0:y.isMandatory,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(g=ne.KeyId)||void 0===g||null===(b=g.meta)||void 0===b?void 0:b.readOnly),value:null==ne||null===(E=ne.KeyId)||void 0===E?void 0:E.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.KEY_ID_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-key-id")}),s.createElement(D.gN.Input,{ariaLabel:"Apple authenticator private key",inputType:"password",type:"password",name:"PrivateKey",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.privateKey.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.privateKey.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.privateKey.hint"),required:null==ne||null===(S=ne.PrivateKey)||void 0===S||null===(I=S.meta)||void 0===I?void 0:I.isMandatory,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(O=ne.PrivateKey)||void 0===O||null===(P=O.meta)||void 0===P?void 0:P.readOnly),value:null==ne||null===(A=ne.PrivateKey)||void 0===A?void 0:A.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.PRIVATE_KEY_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-private-key")}),s.createElement(D.gN.Input,{ariaLabel:"Client secret validity period",inputType:"default",name:"SecretValidityPeriod",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.secretValidityPeriod.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.secretValidityPeriod.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.secretValidityPeriod.hint"),required:null==ne||null===(T=ne.SecretValidityPeriod)||void 0===T||null===(C=T.meta)||void 0===C?void 0:C.isMandatory,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(_=ne.SecretValidityPeriod)||void 0===_||null===(w=_.meta)||void 0===w?void 0:w.readOnly),value:null==ne||null===(L=ne.SecretValidityPeriod)||void 0===L?void 0:L.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.SECRET_VALIDITY_PERIOD_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.SECRET_VALIDITY_PERIOD_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-secret-validity-period")}),s.createElement(D.gN.Input,{ariaLabel:"Apple authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.callbackUrl.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.callbackUrl.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.callbackUrl.hint"),required:null==ne||null===(N=ne.callbackUrl)||void 0===N||null===(R=N.meta)||void 0===R?void 0:R.isMandatory,value:null==ne||null===(k=ne.callbackUrl)||void 0===k?void 0:k.value,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(M=ne.callbackUrl)||void 0===M||null===(j=M.meta)||void 0===j?void 0:j.readOnly),maxLength:null==ne||null===(U=ne.callbackUrl)||void 0===U||null===(G=U.meta)||void 0===G?void 0:G.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-authorized-redirect-url")}),s.createElement(D.gN.Input,{ariaLabel:"Additional query parameters",inputType:"default",name:"AdditionalQueryParameters",label:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.additionalQueryParameters.label"),placeholder:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.additionalQueryParameters.placeholder"),hint:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.additionalQueryParameters.hint"),required:null==ne||null===(Z=ne.AdditionalQueryParams)||void 0===Z||null===(F=Z.meta)||void 0===F?void 0:F.isMandatory,readOnly:$||z!==ze.Pk.CREATE&&(null==ne||null===(H=ne.AdditionalQueryParams)||void 0===H||null===(V=H.meta)||void 0===V?void 0:V.readOnly),value:null==ne||null===(q=ne.AdditionalQueryParams)||void 0===q?void 0:q.value,maxLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MAX_LENGTH,minLength:pe.f.APPLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MIN_LENGTH,width:16,"data-testid":"".concat(J,"-additional-query-parameters")}),(null==ne||null===(K=ne.Scopes)||void 0===K?void 0:K.value)&&ne.Scopes.value.split&&ne.Scopes.value.split(",").length>0&&s.createElement(l.hj,{heading:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},ne.Scopes.value.split(",").map((function(e,t){var n=function(e){return e===pe.f.APPLE_SCOPE_DICTIONARY.EMAIL?{description:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.scopes.list.email.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.APPLE_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.APPLE_SCOPE_DICTIONARY.NAME?{description:ee("console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.scopes.list.name.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.APPLE_SCOPE_DICTIONARY.NAME),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),s.createElement(l.kW,{compact:!0},s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.apple.scopes.hint"},"The type of access provided for the connected apps to access data from Apple. Click ",s.createElement("a",{href:"https://developer.apple.com/documentation/sign_in_with_apple/clientconfigi/3230955-scope",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),s.createElement(D.gN.Button,{form:et,size:"small",buttonType:"primary_btn",ariaLabel:"Apple authenticator update button",name:"update-button","data-testid":"".concat(J,"-submit-button"),disabled:X,loading:X,label:ee("common:update"),hidden:$}))};tt.defaultProps={"data-componentid":"apple-authenticator-form",enableSubmitButton:!0};var nt=n(80155),rt=n(41591),it=n(41482),ot=function(e){var t=e["data-componentid"],n=e.onCertificateChange,r=function(){n("")};return s.createElement(y.Z,{columns:2},s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,null,s.createElement(l.Db,{fill:!0,relaxed:!1,className:"certificate",loadingStateOptions:{count:2,imageType:"circular"},readOnly:!0},s.createElement(l.zA,{key:1,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-componentid":"".concat(t,"-delete-cert-button"),icon:"trash alternate",onClick:function(){return r()},popupText:"Delete",type:"button"}],actionsFloated:"right",avatar:s.createElement(x.Z,{name:"key",size:"large",className:"mr-3"}),itemHeader:"Private Key",itemDescription:"PKCS12 private key file"})))))};function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ot.defaultProps={"data-componentid":"google-private-key-file"};var ct,ut,st=new l.Id,dt=function(e,t){return t.map((function(t){return{key:e,text:"RequestMethod"===e?mt(t):t,value:t}}))},mt=function(e){switch(e){case"redirect":return"HTTP Redirect";case"post":return"HTTP Post";case"as_request":return"As Per Request";default:return e}};!function(e){e.CHECKBOX="CheckBox",e.TEXT="Text",e.TABLE="Table",e.CONFIDENTIAL="Confidential",e.URL="URL",e.SCOPES="SCOPES",e.QUERY_PARAMS="QueryParameters",e.DROP_DOWN="DropDown",e.RADIO="Radio",e.COPY_INPUT="CopyInput",e.FILE_PICKER="FilePicker"}(ct||(ct={})),function(e){e.BOOLEAN="BOOLEAN",e.FIELD_COMPONENT_KEYWORD_URL="URL",e.FIELD_COMPONENT_KEYWORD_QUERY_PARAMETER="QUERYPARAM",e.FIELD_COMPONENT_SCOPES="Scopes",e.QUERY_PARAMETERS_KEY="commonAuthQueryParams",e.SCOPE_KEY="scopes",e.RADIO="RADIO"}(ut||(ut={}));var ft=function(e,t){var n,r,i;return(null==e?void 0:e.key)===ae.v.USER_ID_IN_CLAIMS?ct.RADIO:(null==e||null===(n=e.type)||void 0===n?void 0:n.toUpperCase())===ut.BOOLEAN?ct.CHECKBOX:null!=e&&e.isConfidential?ct.CONFIDENTIAL:(null==e?void 0:e.key)===ut.SCOPE_KEY?ct.TABLE:(null==e?void 0:e.key)===ut.FIELD_COMPONENT_SCOPES?ct.SCOPES:null!=e&&e.key.toUpperCase().includes(ut.FIELD_COMPONENT_KEYWORD_URL)?"callbackUrl"===(null==e?void 0:e.key)&&t!==ze.Pk.CREATE?ct.COPY_INPUT:ct.URL:null!=e&&e.key.toUpperCase().includes(ut.FIELD_COMPONENT_KEYWORD_QUERY_PARAMETER)?ct.QUERY_PARAMS:(null==e||null===(r=e.options)||void 0===r?void 0:r.length)>0?ct.DROP_DOWN:(null===(i=e.type)||void 0===i?void 0:i.toUpperCase())===ut.RADIO?ct.RADIO:(null==e?void 0:e.key)===ae.v.GOOGLE_PRIVATE_KEY?ct.FILE_PICKER:ct.TEXT},pt=function(e,t,n,r,i,o){switch(ft(t,n)){case ct.CHECKBOX:return r?function(e,t,n,r){var i;return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"checkbox",required:!1,value:"true"===(null==e||null===(i=e.value)||void 0===i?void 0:i.toString())?[null==e?void 0:e.key]:[],requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:[{label:null==t?void 0:t.displayName,value:e?e.key:null==t?void 0:t.key}],listen:function(e){n(t.key,e)},disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(r,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,r,i):function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"checkbox",required:!1,value:"true"==(null==e?void 0:e.value)?[null==e?void 0:e.key]:[],requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:[{label:null==t?void 0:t.displayName,value:e?e.key:null==t?void 0:t.key}],disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.RADIO:return r?(null==t?void 0:t.key)===ae.v.USER_ID_IN_CLAIMS?function(e,t,n,r){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"radio",required:null==t?void 0:t.isMandatory,value:null==e?void 0:e.value,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:[{label:"Use NameID as the User Identifier",value:"true"},{label:"User Identifier found among claims",value:"false"}],listen:function(e){n(null==t?void 0:t.key,e)},disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(r,"-").concat(null==t?void 0:t.key),"data-componentid":"".concat(r,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,r,i):function(e,t,n,r){var i;return s.createElement(s.Fragment,null,s.createElement(ge.gN,{label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"radio",required:null==t?void 0:t.isMandatory,value:null==t?void 0:t.defaultValue,default:null==t?void 0:t.defaultValue,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:null==t||null===(i=t.subProperties)||void 0===i?void 0:i.map((function(e){return{label:e.displayName,value:e.defaultValue}})),listen:function(e){n(null==t?void 0:t.key,e)},disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(r,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(0,t,r,i):function(e,t,n){var r;return s.createElement(s.Fragment,null,s.createElement(ge.gN,{label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,key:null==t?void 0:t.key,type:"radio",required:null==t?void 0:t.isMandatory,default:null==t?void 0:t.defaultValue,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:null==t||null===(r=t.subProperties)||void 0===r?void 0:r.map((function(e){return{label:e.displayName,value:e.defaultValue}})),disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(0,t,i);case ct.CONFIDENTIAL:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{showPassword:"Show Secret",hidePassword:"Hide Secret",label:null==t?void 0:t.displayName,name:null==t?void 0:t.key,placeholder:null==t?void 0:t.defaultValue,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),value:null==e?void 0:e.value,type:"password",disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,validation:function(e,n){null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))},"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.URL:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),placeholder:null==t?void 0:t.defaultValue,validation:function(e,n){M.I.url(e)||(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.invalidURLErrorMessage"))),null!==b.commonConfig&&void 0!==b.commonConfig&&b.commonConfig.blockLoopBackCalls&&k.URLUtils.isLoopBackCall(e)&&("OAuth2AuthzEPUrl"===(null==t?void 0:t.key)||"OAuth2TokenEPUrl"===(null==t?void 0:t.key)||"UserInfoUrl"===(null==t?void 0:t.key))&&(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},type:"text",value:null==e?void 0:e.value,key:null==t?void 0:t.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.COPY_INPUT:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement("div",{className:"field ".concat(null!=t&&t.isMandatory?"required":"")},s.createElement("label",null,null==t?void 0:t.displayName)),s.createElement(l.OR,{key:null==t?void 0:t.key,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),value:null==e?void 0:e.value}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.SCOPES:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"scopes",value:null==e?void 0:e.value,key:null==e?void 0:e.key,defaultValue:null==t?void 0:t.defaultValue,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),validation:function(e,n){M.I.scopes(e)||(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.invalidScopesErrorMessage"))),null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.QUERY_PARAMS:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),validation:function(e,t){M.I.url("https://www.sample.com?"+e)||(t.isValid=!1,t.errorMessages.push(it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.invalidQueryParamErrorMessage")))},type:"queryParams",value:null==e?void 0:e.value,key:null==t?void 0:t.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.DROP_DOWN:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:(null==e?void 0:e.key)||(null==t?void 0:t.key),label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"dropdown",value:(null==e?void 0:e.value)||(null==t?void 0:t.key),key:(null==e?void 0:e.key)||(null==t?void 0:t.key),children:dt(null==e?void 0:e.key,null==t?void 0:t.options),disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key)}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.TABLE:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement("div",{className:"field read-only"},s.createElement("div",null,s.createElement("div",{className:"field"},s.createElement("label",null,null==t?void 0:t.displayName)))),s.createElement(ge.gN,{hidden:!0,name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),placeholder:null==t?void 0:t.defaultValue,type:"text",value:null==e?void 0:e.value,key:null==e?void 0:e.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),validation:function(e,n){null!=t&&t.regex&&!RegExp(t.regex).test(e)&&(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("console:manage.features.users.forms.validation.formatError",{field:null==t?void 0:t.displayName}))),null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),s.createElement(y.Z,null,null==e?void 0:e.value.split(" ").map((function(e,r){return s.createElement(y.Z.Row,{columns:3,key:r},s.createElement(y.Z.Column,{mobile:1,tablet:1,computer:1},s.createElement(l.dn,{icon:t.properties[e].icon,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"top",spaced:"left"})),s.createElement(y.Z.Column,{mobile:2,tablet:2,computer:2},s.createElement("div",{"data-testid":"".concat(n,"-authorize-label"),className:"scope-name"},e)),s.createElement(y.Z.Column,{mobile:13,tablet:13,computer:13},s.createElement("div",{"data-testid":"".concat(n,"-authorize-label"),className:"scope-name"},t.properties[e].description)))}))),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i);case ct.FILE_PICKER:return function(e,t,n,r){var i=at((0,s.useState)(null==e?void 0:e.value),2),o=i[0],a=i[1];return s.createElement(s.Fragment,null,""===o||0===(null==o?void 0:o.length)||void 0===(null==e?void 0:e.value)?s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:(null==e?void 0:e.key)||(null==t?void 0:t.key),label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"filePicker",value:o,key:null==t?void 0:t.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),fileStrategy:st,uploadButtonText:"Upload certificate File",dropzoneText:"Drag and drop a certificate file here."}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description)):s.createElement(s.Fragment,null,s.createElement("label",null,null==t?void 0:t.displayName),s.createElement(ot,{onCertificateChange:function(e){a(e),r(o)}}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description)))}(e,t,i,o);default:return function(e,t,n){return s.createElement(s.Fragment,null,s.createElement(ge.gN,{name:null==t?void 0:t.key,label:null==t?void 0:t.displayName,required:null==t?void 0:t.isMandatory,requiredErrorMessage:it.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),placeholder:null==t?void 0:t.defaultValue,type:"text",value:null==e?void 0:e.value,key:null==e?void 0:e.key,disabled:null==t?void 0:t.isDisabled,readOnly:null==t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null==t?void 0:t.key),validation:function(e,n){null!=t&&t.regex&&!RegExp(t.regex).test(e)&&(n.isValid=!1,n.errorMessages.push(it.I18n.instance.t("console:manage.features.users.forms.validation.formatError",{field:null==t?void 0:t.displayName}))),null!=t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),(null==t?void 0:t.description)&&s.createElement(l.kW,{disabled:null==t?void 0:t.isDisabled},null==t?void 0:t.description))}(e,t,i)}};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||St(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||St(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){if(e){if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ot=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,o=e.triggerSubmit,a=e.enableSubmitButton,l=e.showCustomProperties,c=e.readOnly,u=e.isSubmitting,m=e["data-testid"],f=(0,d.$)().t,p=Et((0,s.useState)(void 0),2),v=p[0],h=p[1],g=Et((0,s.useState)(void 0),2),b=g[0],E=g[1],S=Et((0,s.useState)(void 0),2),I=S[0],O=S[1];(0,s.useEffect)((function(){var e;null==v||null===(e=v.properties)||void 0===e||e.map((function(e){(null==e?void 0:e.key)===ae.v.GOOGLE_PRIVATE_KEY&&O(null==e?void 0:e.value)}))}),[v]);var P,A=function(e){var n,i,o=[],a=l?e.get("customProperties"):b;null==e||e.forEach((function(n,r){var i=(0,rt.O)(r,null==t?void 0:t.properties),a=!(0,Oe.Z)(r)&&!(0,nt.Z)(n)&&function(e,t,n){switch(null==n?void 0:n.toUpperCase()){case ut.BOOLEAN:return t===ae.v.USER_ID_IN_CLAIMS?e:null==e?void 0:e.includes(t);case ut.RADIO:return null==e?void 0:e.includes(t);default:return e}}(n,r,null==i?void 0:i.type).toString();(0,Oe.Z)(a)||"customProperties"===r||o.push({key:r,value:a}),(e.has(ae.v.GOOGLE_PRIVATE_KEY)||null!=o&&o.find((function(e){return(null==e?void 0:e.key)===ae.v.GOOGLE_PRIVATE_KEY}))||null==o||!o.find((function(e){return(null==e?void 0:e.key)===ae.v.GOOGLE_PRIVATE_KEY&&void 0!==(null==e?void 0:e.value)})))&&(null!=o&&o.find((function(e){return(null==e?void 0:e.key)===ae.v.GOOGLE_PRIVATE_KEY}))||void 0===I)||o.push({key:ae.v.GOOGLE_PRIVATE_KEY,value:I})}));var c=(0,Oe.Z)(a)?[]:null==a||null===(n=a.toString())||void 0===n||null===(i=n.split(","))||void 0===i?void 0:i.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}}));return(null==c?void 0:c.length)>0&&o.push.apply(o,bt(c)),null!=r&&r.properties?yt(yt({},r),{},{properties:[].concat(o)}):yt(yt({},t),{},{properties:[].concat(o)})},T=function(e,t,r,i,o,a){return r?s.createElement(y.Z.Row,{columns:2,key:null==t?void 0:t.displayOrder},s.createElement(y.Z.Column,{mobile:2,tablet:2,computer:1}),s.createElement(y.Z.Column,{mobile:14,tablet:14,computer:7},pt(e,yt(yt({},t),{},{readOnly:n!==ze.Pk.CREATE&&c}),n,o,i))):(null==t?void 0:t.key)===ae.v.GOOGLE_PRIVATE_KEY?s.createElement(y.Z.Row,{key:null==t?void 0:t.displayOrder},s.createElement(y.Z.Column,{computer:16},pt(e,yt(yt({},t),{},{readOnly:n!==ze.Pk.CREATE&&c}),n,o,i,a))):s.createElement(y.Z.Row,{columns:1,key:null==t?void 0:t.displayOrder},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},pt(e,yt(yt({},t),{},{readOnly:n!==ze.Pk.CREATE&&c}),n,o,i)))},C=function(e,n){if("IsLogoutReqSigned"===e||"ISAuthnReqSigned"===e){var r=function(e){var n,r=null==t||null===(n=t.properties)||void 0===n?void 0:n.find((function(t){return t.key===e}));r&&(r.isDisabled=!1)},i=function(e){var n,r=null==t||null===(n=t.properties)||void 0===n?void 0:n.find((function(t){return t.key===e}));r&&(r.isDisabled=!0)},o=function(e){return e&&Array.isArray(e)&&e.length>0||"string"==typeof e&&"true"==e},a=n.get("IsLogoutReqSigned"),l=n.get("ISAuthnReqSigned");o(a)||o(l)?(r("SignatureAlgorithm"),r("DigestAlgorithm")):(i("SignatureAlgorithm"),i("DigestAlgorithm"))}},_=function(e,t){var n,r,i;C(e,t),v&&h(yt(yt({},v),{},{properties:null!=v&&v.properties?null==v||null===(n=v.properties)||void 0===n?void 0:n.map((function(n){var r,i;return n.key===e?{key:e,value:null==t||null===(r=t.get(e))||void 0===r||null===(i=r.includes(e))||void 0===i?void 0:i.toString()}:n})):[{key:e,value:null==t||null===(r=t.get(e))||void 0===r||null===(i=r.includes(e))||void 0===i?void 0:i.toString()}]}))},w=function(e){O(e)};return(0,s.useEffect)((function(){var e;h(r);var t=(null==r||null===(e=r.properties)||void 0===e?void 0:e.reduce((function(e,t){var n=t.key,r=t.value;return e.set(n,r)}),new Map))||new Map;C("IsLogoutReqSigned",t),C("ISAuthnReqSigned",t)}),[]),(0,s.useEffect)((function(){var e;if(v){var n=[];null==v||null===(e=v.properties)||void 0===e||e.forEach((function(e){var r,i;(0,Oe.Z)(e.key)||(0,Oe.Z)(e.value)||null!=v&&null!==(r=v.properties)&&void 0!==r&&r.find((function(t){return t.key===e.key}))||null!=t&&null!==(i=t.properties)&&void 0!==i&&i.find((function(t){return t.key===e.key}))||n.push(e.key+"="+e.value)})),E(n.join(", "))}}),[v]),s.createElement(ge.Es,{onSubmit:function(e){i(A(e))},submitState:o,"data-testid":"".concat(m,"-form")},s.createElement(y.Z,{padded:!0},function e(t,i){var o=[];return null==t||t.forEach((function(t){if(!(0,Oe.Z)(null==t?void 0:t.displayName)){var a,l,c=null==v||null===(a=v.properties)||void 0===a?void 0:a.find((function(e){return e.key===t.key}));if((null==(g=t)||null===(b=g.subProperties)||void 0===b?void 0:b.length)>0&&ft(g,n)===ct.CHECKBOX)l=function(e){var t;return(null==e||null===(t=e.subProperties)||void 0===t?void 0:t.length)>0&&ft(e,n)===ct.RADIO}(t)?s.createElement(s.Fragment,{key:null==t?void 0:t.key},T(c,t,i,"".concat(m,"-form"),_)):s.createElement(s.Fragment,{key:null==t?void 0:t.key},T(c,t,i,"".concat(m,"-form"),_),e(null==t?void 0:t.subProperties,!1));else if((null==t?void 0:t.key)!==ut.FIELD_COMPONENT_SCOPES||null!=r&&null!==(p=r.properties)&&void 0!==p&&null!==(h=p.find((function(e){return e.key===ut.QUERY_PARAMETERS_KEY})))&&void 0!==h&&null!==(y=h.value)&&void 0!==y&&y.toLowerCase().includes("scope=")||!(0,Oe.Z)(null==r||null===(d=r.properties)||void 0===d||null===(f=d.find((function(e){return e.key===ut.FIELD_COMPONENT_SCOPES})))||void 0===f?void 0:f.value))l=T(c,t,i,"".concat(m,"-form"),_,w);else{var u={key:ut.FIELD_COMPONENT_SCOPES,value:t.defaultValue};l=T(u,t,i,"".concat(m,"-form"),_)}o.push(l)}var d,f,p,h,y,g,b})),o.sort((function(e,t){return Number(e.key)-Number(t.key)}))}(null==t?void 0:t.properties,!1),l&&b&&s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(ge.gN,{name:"customProperties",label:f("console:develop.features.authenticationProvider.forms.common.customProperties"),required:!1,requiredErrorMessage:f("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"queryParams",value:b,"data-testid":"".concat(m,"-","customProperties"),readOnly:c}))),a&&(P="Update",s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{primary:!0,type:"submit",size:"small",className:"form-button",isSubmitting:u,loading:u,"data-testid":"".concat(m,"-submit-button")},P)))))))};Ot.defaultProps={enableSubmitButton:!0};var Pt=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,o=e.triggerSubmit,a=e.enableSubmitButton,l=e.showCustomProperties,c=e.readOnly,u=e["data-testid"];return s.createElement(Ot,{mode:n,onSubmit:i,initialValues:r,enableSubmitButton:a,triggerSubmit:o,metadata:t,"data-testid":u,showCustomProperties:l,readOnly:c})};Pt.defaultProps={enableSubmitButton:!0};var At=n(46487);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Tt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt="email-otp-authenticator-form",kt=function(e){var t=e.metadata,n=e.initialValues,r=e.onSubmit,i=e.readOnly,o=e.isSubmitting,a=e["data-testid"],c=(0,d.$)().t,u=Lt((0,s.useState)(void 0),2)[1],m=Lt((0,s.useState)(void 0),2),p=m[0],v=m[1],h=Lt((0,s.useState)(),2),y=h[0],g=h[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==n?void 0:n.properties)){var e=null,r=null;n.properties.map((function(n){var i=null==t?void 0:t.properties.find((function(e){return e.key===n.key})),o=n.name.replace(/\./g,"_");if(o===pe.f.AUTHENTICATOR_INIT_VALUES_EMAIL_OTP_EXPIRY_TIME_KEY){var a=Math.round(parseInt(n.value,10)/60);r=_t(_t({},r),{},wt({},o,a)),e=_t(_t({},e),{},wt({},o,{meta:i,value:a.toString()}))}else e=_t(_t({},e),{},wt({},o,{meta:i,value:"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value})),r=_t(_t({},r),{},wt({},o,"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value))})),g(r.EmailOTP_UseAlphanumericChars),u(e),v(r)}}),[n]);return s.createElement(D.l0,{id:Rt,uncontrolledForm:!1,onSubmit:function(e){r(function(e){for(var t=[],r=0,i=Object.entries(e);r<i.length;r++){var o=Lt(i[r],2),a=o[0],l=o[1];if(void 0!==a){var c=a.replace(/_/g,".");if(a===pe.f.AUTHENTICATOR_INIT_VALUES_EMAIL_OTP_EXPIRY_TIME_KEY){var u=60*l;t.push({name:c,value:u.toString()});continue}t.push({name:c,value:(0,At.Z)(l)?l.toString():l})}}return _t(_t({},n),{},{properties:t})}(e))},initialValues:p,validate:function(e){var t={EmailOTP_ExpiryTime:void 0,EmailOTP_OTPLength:void 0,EmailOTP_UseAlphanumericChars:void 0};return e.EmailOTP_ExpiryTime?M.I.isInteger(e.EmailOTP_ExpiryTime)?(e.EmailOTP_ExpiryTime<pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||e.EmailOTP_ExpiryTime>pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t.EmailOTP_ExpiryTime=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.validations.range")):t.EmailOTP_ExpiryTime=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.validations.invalid"):t.EmailOTP_ExpiryTime=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.validations.required"),e.EmailOTP_OTPLength?M.I.isInteger(e.EmailOTP_OTPLength)?(parseInt(e.EmailOTP_OTPLength,10)<pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_VALUE||parseInt(e.EmailOTP_OTPLength,10)>pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_VALUE)&&(t.EmailOTP_OTPLength=c("console:develop.features.authenticationProvider.forms"+".authenticatorSettings.emailOTP.tokenLength.validations.range.".concat(y?"characters":"digits"))):t.EmailOTP_OTPLength=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.validations.invalid"):t.EmailOTP_OTPLength=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.validations.required"),t}},s.createElement(D.gN.Input,{ariaLabel:"Email OTP expiry time",inputType:"number",name:"EmailOTP_ExpiryTime",label:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.label"),labelPosition:"right",placeholder:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.hint"},"Please pick a value between ",s.createElement(l.EK,null,"1 minute")," & ",s.createElement(l.EK,null,"1440 minutes (1 day)"),"."),required:!0,readOnly:i,min:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,maxLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,width:12,"data-testid":"".concat(a,"-email-otp-expiry-time")},s.createElement("input",null),s.createElement(f.Z,null,c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.unit"))),s.createElement(D.gN.Checkbox,{ariaLabel:"Use alphanumeric characters for OTP",name:"EmailOTP_UseAlphanumericChars",label:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.useAlphanumericChars.label"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.useAlphanumericChars.hint"},"Please check this checkbox to enable alphanumeric characters. Otherwise numeric"," ","characters will be used."),readOnly:i,width:12,"data-testid":"".concat(a,"-otp-regex-use-numeric"),listen:function(e){g(e)}}),s.createElement(D.gN.Input,{ariaLabel:"Email OTP length",inputType:"number",name:"EmailOTP_OTPLength",label:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.label"),labelPosition:"right",placeholder:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.hint"},"The number of allowed characters in the OTP. Please pick a value between",s.createElement(l.EK,null,"4-10"),"."),required:!0,readOnly:i,maxLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_LENGTH,minLength:pe.f.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_LENGTH,width:12,"data-testid":"".concat(a,"-email-otp-token-length")},s.createElement("input",null),s.createElement(f.Z,null,c("console:develop.features.authenticationProvider.forms.authenticatorSettings"+".emailOTP.tokenLength.unit.".concat(y?"characters":"digits")))),s.createElement(D.gN.Button,{form:Rt,size:"small",buttonType:"primary_btn",ariaLabel:"Email OTP authenticator update button",name:"update-button","data-testid":"".concat(a,"-submit-button"),disabled:o,loading:o,label:c("common:update"),hidden:i}))};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Dt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}kt.defaultProps={"data-testid":"email-otp-authenticator-form",enableSubmitButton:!0};var Zt="facebook-authenticator-form",Ft=function(e){var t,n,r,i,o,a,c,u,m,f,p,v,h,y,g,b,E,S,I,O,P,A,T=e.metadata,C=e.mode,_=e.initialValues,w=e.onSubmit,L=e.readOnly,N=e.isSubmitting,R=e["data-testid"],k=(0,d.$)().t,M=Ut((0,s.useState)(void 0),2),j=M[0],U=M[1],G=Ut((0,s.useState)(void 0),2),Z=G[0],F=G[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==_?void 0:_.properties)){var e=null,t=null;_.properties.map((function(n){var r=null==T?void 0:T.properties.find((function(e){return e.key===n.key}));e=jt(jt({},e),{},xt({},n.key,{meta:r,value:n.value})),t=jt(jt({},t),{},xt({},n.key,n.value))})),U(e),F(t)}}),[_]);return s.createElement(D.l0,{id:Zt,uncontrolledForm:!1,onSubmit:function(e){return w(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Ut(r[n],2),o=i[0],a=i[1];void 0!==o&&t.push({key:o,value:a})}return jt(jt({},_),{},{properties:t})}(e))},initialValues:Z},s.createElement(D.gN.Input,{ariaLabel:"Facebook authenticator client ID",inputType:"default",name:"ClientId",label:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.label"),placeholder:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.placeholder"),hint:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.hint"),required:null==j||null===(t=j.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:L||C!==ze.Pk.CREATE&&(null==j||null===(r=j.ClientId)||void 0===r||null===(i=r.meta)||void 0===i?void 0:i.readOnly),value:null==j||null===(o=j.ClientId)||void 0===o?void 0:o.value,maxLength:null==j||null===(a=j.ClientId)||void 0===a||null===(c=a.meta)||void 0===c?void 0:c.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(R,"-client-id")}),s.createElement(D.gN.Input,{ariaLabel:"Facebook authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.label"),placeholder:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.hint"},"The ",s.createElement(l.EK,null,"App secret")," value of the Facebook application."),required:null==j||null===(u=j.ClientSecret)||void 0===u||null===(m=u.meta)||void 0===m?void 0:m.isMandatory,readOnly:L||C!==ze.Pk.CREATE&&(null==j||null===(f=j.ClientSecret)||void 0===f||null===(p=f.meta)||void 0===p?void 0:p.readOnly),value:null==j||null===(v=j.ClientSecret)||void 0===v?void 0:v.value,maxLength:null==j||null===(h=j.ClientSecret)||void 0===h||null===(y=h.meta)||void 0===y?void 0:y.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(R,"-client-secret")}),s.createElement(D.gN.Input,{ariaLabel:"Facebook authenticator authorized redirect URL",inputType:"copy_input",name:"callBackUrl",label:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.callbackUrl.label"),placeholder:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.callbackUrl.placeholder"),hint:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.callbackUrl.hint"),required:null==j||null===(g=j.callBackUrl)||void 0===g||null===(b=g.meta)||void 0===b?void 0:b.isMandatory,value:null==j||null===(E=j.callBackUrl)||void 0===E?void 0:E.value,readOnly:L||C!==ze.Pk.CREATE&&(null==j||null===(S=j.callBackUrl)||void 0===S||null===(I=S.meta)||void 0===I?void 0:I.readOnly),maxLength:null==j||null===(O=j.callBackUrl)||void 0===O||null===(P=O.meta)||void 0===P?void 0:P.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(R,"-authorized-redirect-url")}),(null==j||null===(A=j.Scope)||void 0===A?void 0:A.value)&&j.Scope.value.split&&j.Scope.value.split(",").length>0&&s.createElement(l.hj,{heading:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},j.Scope.value.split(",").map((function(e,t){var n=function(e){return e===pe.f.FACEBOOK_SCOPE_DICTIONARY.EMAIL?{description:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.list.email.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.FACEBOOK_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE?{description:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.list.profile.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),s.createElement(l.kW,{compact:!0},s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.hint"},"Permissions provide a way for connected apps to access data from Facebook. Click ",s.createElement("a",{href:"https://developers.facebook.com/docs/permissions/reference",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),s.createElement(D.gN.Button,{form:Zt,size:"small",buttonType:"primary_btn",ariaLabel:"Facebook authenticator update button",name:"update-button","data-testid":"".concat(R,"-submit-button"),disabled:N,loading:N,label:k("common:update"),hidden:L}))};function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ht(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ht(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ft.defaultProps={"data-testid":"facebook-authenticator-form",enableSubmitButton:!0};var Qt="github-authenticator-form",Yt=function(e){var t,n,r,i,o,a,c,u,m,f,p,v,h,y,g,b,E,S,I,O,P,A,T=e.metadata,C=e.mode,_=e.initialValues,w=e.onSubmit,L=e.readOnly,N=e.isSubmitting,R=e["data-testid"],k=(0,d.$)().t,M=Bt((0,s.useState)(void 0),2),j=M[0],U=M[1],G=Bt((0,s.useState)(void 0),2),Z=G[0],F=G[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==_?void 0:_.properties)){var e=null,t=null;_.properties.map((function(n){var r=null==T?void 0:T.properties.find((function(e){return e.key===n.key}));e=qt(qt({},e),{},Kt({},n.key,{meta:r,value:n.value})),t=qt(qt({},t),{},Kt({},n.key,n.value))})),U(e),F(t)}}),[_]);return s.createElement(D.l0,{id:Qt,uncontrolledForm:!1,onSubmit:function(e){return w(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Bt(r[n],2),o=i[0],a=i[1];void 0!==o&&t.push({key:o,value:a})}return qt(qt({},_),{},{properties:t})}(e))},initialValues:Z},s.createElement(D.gN.Input,{ariaLabel:"GitHub authenticator client ID",inputType:"default",name:"ClientId",label:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.label"),placeholder:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.hint"},"The ",s.createElement(l.EK,null,"Client ID")," you received from GitHub for your OAuth app."),required:null==j||null===(t=j.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:L||C!==ze.Pk.CREATE&&(null==j||null===(r=j.ClientId)||void 0===r||null===(i=r.meta)||void 0===i?void 0:i.readOnly),value:null==j||null===(o=j.ClientId)||void 0===o?void 0:o.value,maxLength:null==j||null===(a=j.ClientId)||void 0===a||null===(c=a.meta)||void 0===c?void 0:c.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(R,"-client-id")}),s.createElement(D.gN.Input,{ariaLabel:"GitHub authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.label"),placeholder:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.hint"},"The ",s.createElement(l.EK,null,"Client secret")," you received from GitHub for your OAuth app."),required:null==j||null===(u=j.ClientSecret)||void 0===u||null===(m=u.meta)||void 0===m?void 0:m.isMandatory,readOnly:L||C!==ze.Pk.CREATE&&(null==j||null===(f=j.ClientSecret)||void 0===f||null===(p=f.meta)||void 0===p?void 0:p.readOnly),value:null==j||null===(v=j.ClientSecret)||void 0===v?void 0:v.value,maxLength:null==j||null===(h=j.ClientSecret)||void 0===h||null===(y=h.meta)||void 0===y?void 0:y.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(R,"-client-secret")}),s.createElement(D.gN.Input,{ariaLabel:"GitHub authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.callbackUrl.label"),placeholder:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.callbackUrl.placeholder"),hint:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.callbackUrl.hint"),required:null==j||null===(g=j.callbackUrl)||void 0===g||null===(b=g.meta)||void 0===b?void 0:b.isMandatory,value:null==j||null===(E=j.callbackUrl)||void 0===E?void 0:E.value,readOnly:L||C!==ze.Pk.CREATE&&(null==j||null===(S=j.callbackUrl)||void 0===S||null===(I=S.meta)||void 0===I?void 0:I.readOnly),maxLength:null==j||null===(O=j.callbackUrl)||void 0===O||null===(P=O.meta)||void 0===P?void 0:P.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(R,"-authorized-redirect-url")}),(null==j||null===(A=j.scope)||void 0===A?void 0:A.value)&&j.scope.value.split&&j.scope.value.split(" ").length>0&&s.createElement(l.hj,{heading:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},j.scope.value.split(" ").map((function(e,t){var n=function(e){return e===pe.f.GITHUB_SCOPE_DICTIONARY.USER_READ?{description:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.list.profile.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GITHUB_SCOPE_DICTIONARY.USER_READ),icon:"user outline"}:e===pe.f.GITHUB_SCOPE_DICTIONARY.USER_EMAIL?{description:k("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.list.email.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GITHUB_SCOPE_DICTIONARY.USER_EMAIL),icon:"envelope outline"}:{description:"",displayName:e,icon:"key"}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:n.icon}),size:"micro",className:"authenticator-dynamic-property-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),s.createElement(l.kW,null,s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.hint"},"The scopes specifies the type of access provided for connected apps to access data from GitHub. Click ",s.createElement("a",{href:"https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),s.createElement(D.gN.Button,{form:Qt,size:"small",buttonType:"primary_btn",ariaLabel:"GitHub authenticator update button",name:"update-button","data-testid":"".concat(R,"-submit-button"),disabled:N,loading:N,label:k("common:update"),hidden:L}))};function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Yt.defaultProps={enableSubmitButton:!0};var nn="google-authenticator-form",rn=function(e){var t,n,r,i,o,a,c,u,f,p,h,y,g,b,E,S,I,O,P,A,T,C,_,w,L,N=e.metadata,R=e.mode,k=e.initialValues,M=e.onSubmit,j=e.readOnly,U=e.isSubmitting,G=e["data-testid"],Z=(0,d.$)().t,F=en((0,s.useState)(void 0),2),H=F[0],V=F[1],q=en((0,s.useState)(void 0),2),K=q[0],B=q[1],z=(0,m.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.googleOneTapEnabledTenants}));(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==k?void 0:k.properties)){var e=null,t=null;k.properties.map((function(n){var r,i=null==N?void 0:N.properties.find((function(e){return e.key===n.key}));r=n.key===pe.f.GOOGLE_ONE_TAP_ENABLED?"true"===n.value:n.value,e=Xt(Xt({},e),{},Jt({},n.key,{meta:i,value:r})),t=Xt(Xt({},t),{},Jt({},n.key,r))})),V(e),B(t)}}),[k]);var Q=function(e){var t=[];try{t=e.trim().split("scope=")[1].split(" ")}catch(n){}return t};return s.createElement(D.l0,{id:nn,uncontrolledForm:!1,onSubmit:function(e){return M(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=en(r[n],2),o=i[0],a=i[1];void 0!==o&&t.push({key:o,value:a})}return Xt(Xt({},k),{},{properties:t})}(e))},initialValues:K},s.createElement(D.gN.Input,{ariaLabel:"Google authenticator client ID",inputType:"default",name:"ClientId",label:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.label"),placeholder:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.hint"},"The ",s.createElement(l.EK,null,"Client ID")," you received from Google for your OAuth app."),required:null==H||null===(t=H.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:j||R!==ze.Pk.CREATE&&(null==H||null===(r=H.ClientId)||void 0===r||null===(i=r.meta)||void 0===i?void 0:i.readOnly),value:null==H||null===(o=H.ClientId)||void 0===o?void 0:o.value,maxLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(G,"-client-id")}),s.createElement(D.gN.Input,{ariaLabel:"Google authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.label"),placeholder:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.hint"},"The ",s.createElement(l.EK,null,"App secret")," value of the Google application."),required:null==H||null===(a=H.ClientSecret)||void 0===a||null===(c=a.meta)||void 0===c?void 0:c.isMandatory,readOnly:j||R!==ze.Pk.CREATE&&(null==H||null===(u=H.ClientSecret)||void 0===u||null===(f=u.meta)||void 0===f?void 0:f.readOnly),value:null==H||null===(p=H.ClientSecret)||void 0===p?void 0:p.value,maxLength:null==H||null===(h=H.ClientSecret)||void 0===h||null===(y=h.meta)||void 0===y?void 0:y.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(G,"-client-secret")}),s.createElement(D.gN.Input,{ariaLabel:"Google authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.callbackUrl.label"),placeholder:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.callbackUrl.placeholder"),hint:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.callbackUrl.hint"),required:null==H||null===(g=H.callbackUrl)||void 0===g||null===(b=g.meta)||void 0===b?void 0:b.isMandatory,value:null==H||null===(E=H.callbackUrl)||void 0===E?void 0:E.value,readOnly:j||R!==ze.Pk.CREATE&&(null==H||null===(S=H.callbackUrl)||void 0===S||null===(I=S.meta)||void 0===I?void 0:I.readOnly),maxLength:null==H||null===(O=H.callbackUrl)||void 0===O||null===(P=O.meta)||void 0===P?void 0:P.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(G,"-authorized-redirect-url")}),s.createElement(D.gN.Input,{ariaLabel:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.ariaLabel"),inputType:"default",name:"AdditionalQueryParameters",label:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.label"),placeholder:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.placeholder"),hint:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.hint"),required:null==H||null===(A=H.AdditionalQueryParameters)||void 0===A||null===(T=A.meta)||void 0===T?void 0:T.isMandatory,value:null==H||null===(C=H.AdditionalQueryParameters)||void 0===C?void 0:C.value,readOnly:j||R!==ze.Pk.CREATE&&(null==H||null===(_=H.AdditionalQueryParameters)||void 0===_||null===(w=_.meta)||void 0===w?void 0:w.readOnly),maxLength:pe.f.GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MAX_LENGTH,minLength:pe.f.GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MIN_LENGTH,width:16,"data-testid":"".concat(G,"-additional-query-parameters")}),(null==z?void 0:z.length)>0&&!z.includes(v.$x.getTenant())?null:s.createElement(D.gN.Checkbox,{ariaLabel:"Enable Google One Tap as a sign in option",name:pe.f.GOOGLE_ONE_TAP_ENABLED,required:!1,toggle:!0,label:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.enableGoogleOneTap.label"),placeholder:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.enableGoogleOneTap.placeholder"),hint:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.enableGoogleOneTap.hint"),readOnly:j,"data-testid":"".concat(G,"-google-one-tap")}),(null==H||null===(L=H.AdditionalQueryParameters)||void 0===L?void 0:L.value)&&!(0,Oe.Z)(Q(H.AdditionalQueryParameters.value))&&s.createElement(l.hj,{heading:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},Q(H.AdditionalQueryParameters.value).map((function(e,t){var n=function(e){return e===pe.f.GOOGLE_SCOPE_DICTIONARY.EMAIL?{description:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.list.email.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GOOGLE_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.GOOGLE_SCOPE_DICTIONARY.OPENID?{description:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.list.openid.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GOOGLE_SCOPE_DICTIONARY.OPENID),icon:"openid"}:e===pe.f.GOOGLE_SCOPE_DICTIONARY.PROFILE?{description:Z("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.list.profile.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.GOOGLE_SCOPE_DICTIONARY.PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),s.createElement(l.kW,{compact:!0},s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.hint"},"Scopes provide a way for connected apps to access data from Google. Click ",s.createElement("a",{href:"https://developers.google.com/identity/protocols/oauth2/openid-connect#scope-param",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),s.createElement(D.gN.Button,{form:nn,size:"small",buttonType:"primary_btn",ariaLabel:"Google authenticator update button",name:"update-button","data-testid":"".concat(G,"-submit-button"),disabled:U,loading:U,label:Z("common:update"),hidden:j}))};function on(e){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==on(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===on(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}rn.defaultProps={"data-testid":"google-authenticator-form",enableSubmitButton:!0};var dn="microsoft-authenticator-form",mn=function(e){var t,n,r,i,o,a,c,u,m,f,p,v,h,y,g,b,E,S,I,O,P,A,T,C,_,w,L,N,R,k,M,j,U,G,Z=e.metadata,F=e.mode,H=e.initialValues,V=e.onSubmit,q=e.readOnly,K=e.isSubmitting,B=e["data-testid"],z=(0,d.$)().t,Q=un((0,s.useState)(void 0),2),Y=Q[0],$=Q[1],X=un((0,s.useState)(void 0),2),J=X[0],ee=X[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==H?void 0:H.properties)){var e=null,t=null;H.properties.map((function(n){var r=null==Z?void 0:Z.properties.find((function(e){return e.key===n.key}));e=ln(ln({},e),{},cn({},n.key,{meta:r,value:n.value})),t=ln(ln({},t),{},cn({},n.key,n.value))})),$(e),ee(t)}}),[H]);var te=function(e){var t=[];try{t=e.trim().split(" ")}catch(n){}return t};return s.createElement(D.l0,{id:dn,uncontrolledForm:!1,onSubmit:function(e){return V(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=un(r[n],2),o=i[0],a=i[1];void 0!==o&&t.push({key:o,value:a})}return ln(ln({},H),{},{properties:t})}(e))},initialValues:J},s.createElement(D.gN.Input,{ariaLabel:"Microsoft authenticator client ID",inputType:"default",name:"ClientId",label:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientId.label"),placeholder:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientId.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientId.hint"},"The ",s.createElement(l.EK,null,"Client ID")," you received from Microsoft for your OAuth app."),required:null==Y||null===(t=Y.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:q||F!==ze.Pk.CREATE&&(null==Y||null===(r=Y.ClientId)||void 0===r||null===(i=r.meta)||void 0===i?void 0:i.readOnly),value:null==Y||null===(o=Y.ClientId)||void 0===o?void 0:o.value,maxLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(B,"-client-id")}),s.createElement(D.gN.Input,{ariaLabel:"Microsoft authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientSecret.label"),placeholder:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientSecret.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.clientSecret.hint"},"The ",s.createElement(l.EK,null,"App secret")," value of the Microsoft application."),required:null==Y||null===(a=Y.ClientSecret)||void 0===a||null===(c=a.meta)||void 0===c?void 0:c.isMandatory,readOnly:q||F!==ze.Pk.CREATE&&(null==Y||null===(u=Y.ClientSecret)||void 0===u||null===(m=u.meta)||void 0===m?void 0:m.readOnly),value:null==Y||null===(f=Y.ClientSecret)||void 0===f?void 0:f.value,maxLength:null==Y||null===(p=Y.ClientSecret)||void 0===p||null===(v=p.meta)||void 0===v?void 0:v.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(B,"-client-secret")}),s.createElement(D.gN.Input,{ariaLabel:"Microsoft authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.callbackUrl.label"),placeholder:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.callbackUrl.placeholder"),hint:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.callbackUrl.hint"),required:null==Y||null===(h=Y.callbackUrl)||void 0===h||null===(y=h.meta)||void 0===y?void 0:y.isMandatory,value:null==Y||null===(g=Y.callbackUrl)||void 0===g?void 0:g.value,readOnly:q||F!==ze.Pk.CREATE&&(null==Y||null===(b=Y.callbackUrl)||void 0===b||null===(E=b.meta)||void 0===E?void 0:E.readOnly),maxLength:null==Y||null===(S=Y.callbackUrl)||void 0===S||null===(I=S.meta)||void 0===I?void 0:I.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(B,"-authorized-redirect-url")}),s.createElement(D.gN.Scopes,{ariaLabel:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.ariaLabel"),inputType:"default",name:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.heading"),label:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.label"),placeholder:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.placeholder"),hint:"The types of access provided for the connected apps to access data from Microsoft.",required:null==Y||null===(O=Y.Scopes)||void 0===O||null===(P=O.meta)||void 0===P?void 0:P.isMandatory,value:null==Y||null===(A=Y.Scopes)||void 0===A?void 0:A.value,readOnly:q||F!==ze.Pk.CREATE&&(null==Y||null===(T=Y.Scopes)||void 0===T||null===(C=T.meta)||void 0===C?void 0:C.readOnly),maxLength:null==Y||null===(_=Y.ClientId)||void 0===_||null===(w=_.meta)||void 0===w?void 0:w.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(B,"-additional-query-parameters")}),s.createElement(D.gN.QueryParams,{ariaLabel:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.commonAuthQueryParams.ariaLabel"),inputType:"default",name:"commonAuthQueryParams",label:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.commonAuthQueryParams.label"),placeholder:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.commonAuthQueryParams.placeholder"),hint:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.commonAuthQueryParams.hint"),required:null==Y||null===(L=Y.commonAuthQueryParams)||void 0===L||null===(N=L.meta)||void 0===N?void 0:N.isMandatory,value:null==Y||null===(R=Y.commonAuthQueryParams)||void 0===R?void 0:R.value,readOnly:q||F!==ze.Pk.CREATE&&(null==Y||null===(k=Y.commonAuthQueryParams)||void 0===k||null===(M=k.meta)||void 0===M?void 0:M.readOnly),maxLength:null==Y||null===(j=Y.ClientId)||void 0===j||null===(U=j.meta)||void 0===U?void 0:U.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(B,"-additional-query-parameters")}),(null==Y||null===(G=Y.Scopes)||void 0===G?void 0:G.value)&&!(0,Oe.Z)(te(Y.Scopes.value))&&s.createElement(l.hj,{heading:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},te(Y.Scopes.value).map((function(e,t){var n=function(e){return e===pe.f.MICROSOFT_SCOPE_DICTIONARY.EMAIL?{description:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.list.email.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.MICROSOFT_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===pe.f.MICROSOFT_SCOPE_DICTIONARY.OPENID?{description:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.list.openid.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.MICROSOFT_SCOPE_DICTIONARY.OPENID),icon:"openid"}:e===pe.f.MICROSOFT_SCOPE_DICTIONARY.PROFILE?{description:z("console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.list.profile.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},pe.f.MICROSOFT_SCOPE_DICTIONARY.PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),s.createElement(l.kW,{compact:!0},s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.microsoft.scopes.hint"},"Scopes provide a way for connected apps to access data from Microsoft. Click ",s.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),s.createElement(D.gN.Button,{form:dn,size:"small",buttonType:"primary_btn",ariaLabel:"Microsoft authenticator update button",name:"update-button","data-testid":"".concat(B,"-submit-button"),disabled:K,loading:K,label:z("common:update"),hidden:q}))};function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}mn.defaultProps={"data-testid":"microsoft-authenticator-form",enableSubmitButton:!0};var bn="sms-otp-authenticator-form",En=function(e){var t=e.metadata,n=e.initialValues,r=e.onSubmit,i=e.readOnly,o=e.isSubmitting,a=e["data-testid"],c=(0,d.$)().t,u=yn((0,s.useState)(void 0),2)[1],m=yn((0,s.useState)(void 0),2),p=m[0],v=m[1],h=yn((0,s.useState)(),2),y=h[0],g=h[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==n?void 0:n.properties)){var e=null,r=null;n.properties.forEach((function(n){var i=null==t?void 0:t.properties.find((function(e){return e.key===n.key})),o=n.name.replace(/\./g,"_");if(o===pe.f.AUTHENTICATOR_INIT_VALUES_SMS_OTP_EXPIRY_TIME_KEY){var a=Math.round(parseInt(n.value,10)/60);r=vn(vn({},r),{},hn({},o,a)),e=vn(vn({},e),{},hn({},o,{meta:i,value:a.toString()}))}else e=vn(vn({},e),{},hn({},o,{meta:i,value:"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value})),r=vn(vn({},r),{},hn({},o,"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value))})),g(r.SmsOTP_OtpRegex_UseNumericChars),u(e),v(r)}}),[n]);return s.createElement(D.l0,{id:bn,uncontrolledForm:!1,onSubmit:function(e){r(function(e){for(var t=[],r=0,i=Object.entries(e);r<i.length;r++){var o=yn(i[r],2),a=o[0],l=o[1];if(void 0!==a){var c=a.replace(/_/g,".");if(a===pe.f.AUTHENTICATOR_INIT_VALUES_SMS_OTP_EXPIRY_TIME_KEY){var u=60*l;t.push({name:c,value:u.toString()});continue}t.push({name:c,value:(0,At.Z)(l)?l.toString():l})}}return vn(vn({},n),{},{properties:t})}(e))},initialValues:p,validate:function(e){var t={SmsOTP_ExpiryTime:void 0,SmsOTP_OTPLength:void 0,SmsOTP_OtpRegex_UseNumericChars:void 0,SmsOTP_ResendAttemptsCount:void 0};return e.SmsOTP_ExpiryTime?M.I.isInteger(e.SmsOTP_ExpiryTime)?(e.SmsOTP_ExpiryTime<pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||e.SmsOTP_ExpiryTime>pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t.SmsOTP_ExpiryTime=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.validations.range")):t.SmsOTP_ExpiryTime=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.validations.invalid"):t.SmsOTP_ExpiryTime=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.validations.required"),e.SmsOTP_OTPLength?M.I.isInteger(e.SmsOTP_OTPLength)?(parseInt(e.SmsOTP_OTPLength,10)<pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_VALUE||parseInt(e.SmsOTP_OTPLength,10)>pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_VALUE)&&(t.SmsOTP_OTPLength=c("console:develop.features.authenticationProvider.forms"+".authenticatorSettings.smsOTP.tokenLength.validations.range.".concat(y?"digits":"characters"))):t.SmsOTP_OTPLength=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.tokenLength.validations.invalid"):t.SmsOTP_OTPLength=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.tokenLength.validations.required"),e.SmsOTP_ResendAttemptsCount?M.I.isInteger(e.SmsOTP_ResendAttemptsCount)?(e.SmsOTP_ResendAttemptsCount<pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ALLOWED_RESEND_ATTEMPT_COUNT_MIN_VALUE||e.SmsOTP_ResendAttemptsCount>pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ALLOWED_RESEND_ATTEMPT_COUNT_MAX_VALUE)&&(t.SmsOTP_ResendAttemptsCount=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.allowedResendAttemptCount.validations.range")):t.SmsOTP_ResendAttemptsCount=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.allowedResendAttemptCount.validations.invalid"):t.SmsOTP_ResendAttemptsCount=c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.allowedResendAttemptCount.validations.required"),t}},s.createElement(D.gN.Input,{ariaLabel:"SMS OTP expiry time",inputType:"number",name:"SmsOTP_ExpiryTime",label:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.label"),labelPosition:"right",placeholder:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.hint"},"Please pick a value between ",s.createElement(l.EK,null,"1 minute")," & ",s.createElement(l.EK,null,"1440 minutes(1 day)"),"."),required:!0,readOnly:i,min:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,maxLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,width:12,"data-testid":"".concat(a,"-sms-otp-expiry-time")},s.createElement("input",null),s.createElement(f.Z,null,c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.expiryTime.unit"))),s.createElement(D.gN.Checkbox,{ariaLabel:"Use numeric characters for SMS OTP token",name:"SmsOTP_OtpRegex_UseNumericChars",label:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.useNumericChars.label"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.useNumericChars.hint"},"Please clear this checkbox to enable alphanumeric characters."),readOnly:i,width:16,"data-testid":"".concat(a,"-sms-otp-regex-use-numeric"),listen:function(e){g(e)}}),s.createElement(D.gN.Input,{ariaLabel:"SMS OTP length",inputType:"number",name:"SmsOTP_OTPLength",label:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.tokenLength.label"),labelPosition:"right",placeholder:c("console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.tokenLength.placeholder"),hint:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.smsOTP.tokenLength.hint"},"The number of allowed characters in the OTP. Please pick a value between",s.createElement(l.EK,null,"4-10"),"."),required:!0,readOnly:i,maxLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_LENGTH,minLength:pe.f.SMS_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_LENGTH,width:12,"data-testid":"".concat(a,"-sms-otp-token-length")},s.createElement("input",null),s.createElement(f.Z,null,c("console:develop.features.authenticationProvider.forms.authenticatorSettings"+".smsOTP.tokenLength.unit.".concat(y?"digits":"characters")))),s.createElement(D.gN.Button,{form:bn,size:"small",buttonType:"primary_btn",ariaLabel:"SMS OTP authenticator update button",name:"update-button","data-testid":"".concat(a,"-submit-button"),disabled:o,loading:o,label:c("common:update"),hidden:i}))};En.defaultProps={"data-testid":"sms-otp-authenticator-form",enableSubmitButton:!0};var Sn=n(10250),In=n(46439),On=n(61555);function Pn(e){return function(e){if(Array.isArray(e))return An(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tn=["urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified","urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress","urn:oasis:names:tc:SAML:2.0:nameid-format:entity","urn:oasis:names:tc:SAML:2.0:nameid-format:transient","urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","urn:oasis:names:tc:SAML:2.0:nameid-format:encrypted","urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName","urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName","urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos"],Cn=function(e){var t=e.properties.find((function(e){return"DigestAlgorithm"===e.key})),n=function(e){switch(e){case"MD5":return"http://www.w3.org/2001/04/xmldsig-more#md5";case"RIPEMD160":return"http://www.w3.org/2001/04/xmlenc#ripemd160";case"SHA1":return"http://www.w3.org/2000/09/xmldsig#sha1";case"SHA256":return"http://www.w3.org/2001/04/xmlenc#sha256";case"SHA384":return"http://www.w3.org/2001/04/xmldsig-more#sha384";case"SHA512":return"http://www.w3.org/2001/04/xmlenc#sha512"}};return t?[].concat(Pn(t.options.map((function(e,t){return{key:t,text:n(e),value:e}}))),[{key:-1,text:"",value:""}]):[]},_n=function(e){return!!e&&("true"===e.toLowerCase()||"false"!==e.toLowerCase()&&void 0)},wn=function(e){return"string"==typeof e&&/true|false/g.test(e)},Ln={max:240,min:3},Nn={max:2048,min:10},Rn=2048,kn=10,Dn={max:2048,min:5},Mn=2048,jn=10,xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},Un=function(e){if(!e)return"This is a required field"},Gn=function(e){return function(t){return!t&&e.min>0?"You cannot leave this blank":(null==t?void 0:t.length)>e.max?"Cannot exceed more than ".concat(e.max," characters."):(null==t?void 0:t.length)<e.min?"Should have at least ".concat(e.min," characters."):void 0}},Zn=function(e){return M.I.url(e)?void 0:"This URL is invalid."};function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hn.apply(this,arguments)}function Vn(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn="console:develop.features.authenticationProvider.forms.authenticatorSettings.saml",$n="saml-authenticator-form",Xn=function(e){var t,n,r,i,o,a=e.authenticator,c=e.onSubmit,u=e.readOnly,f=e.isSubmitting,p=e["data-testid"],v=(0,m.v9)((function(e){return e.config})),h=(0,d.$)().t,g=zn((0,s.useState)({}),2),E=g[0],S=g[1],I=zn((0,s.useState)(!1),2),O=I[0],P=I[1],A=zn((0,s.useState)(!1),2),T=A[0],C=A[1],_=zn((0,s.useState)(!1),2),w=_[0],L=_[1],N=zn((0,s.useState)(!1),2),R=N[0],k=N[1],M=zn((0,s.useState)(!1),2),j=M[0],x=M[1],U=zn((0,s.useState)(!1),2),G=U[0],Z=U[1],F=zn((0,s.useState)(!1),2),H=F[0],V=F[1],q=zn((0,s.useState)(!1),2),K=q[0],B=q[1],z=zn((0,s.useState)([]),2),Q=z[0],Y=z[1],W=[{key:0,text:"Internet Protocol",value:"Internet Protocol"},{key:1,text:"Internet Protocol Password",value:"Internet Protocol Password"},{key:2,text:"Kerberos",value:"Kerberos"},{key:3,text:"Mobile One Factor Unregistered",value:"Mobile One Factor Unregistered"},{key:4,text:"Mobile Two Factor Unregistered",value:"Mobile Two Factor Unregistered"},{key:5,text:"Mobile One Factor Contract",value:"Mobile One Factor Contract"},{key:6,text:"Mobile Two Factor Contract",value:"Mobile Two Factor Contract"},{key:7,text:"Password",value:"Password"},{key:8,text:"Password Protected Transport",value:"Password Protected Transport (selected option)"},{key:9,text:"Previous Session",value:"Previous Session"},{key:10,text:"Public Key - X.509",value:"Public Key - X.509"},{key:11,text:"Public Key - PGP",value:"Public Key - PGP"},{key:12,text:"Public Key - SPKI",value:"Public Key - SPKI"},{key:13,text:"Public Key - XML Digital Signature",value:"Public Key - XML Digital Signature"},{key:14,text:"Smartcard",value:"Smartcard"},{key:15,text:"Smartcard PKI",value:"Smartcard PKI"},{key:16,text:"Software PKI",value:"Software PKI"},{key:17,text:"Telephony",value:"Telephony"},{key:18,text:"Telephony (Nomadic)",value:"Telephony (Nomadic)"},{key:19,text:"Telephony (Personalized)",value:"Telephony (Personalized)"},{key:20,text:"Telephony (Authenticated)",value:"Telephony (Authenticated)"},{key:21,text:"Secure Remote Password",value:"Secure Remote Password"},{key:22,text:"SSL/TLS Certificate-Based Client Authentication",value:"SSL/TLS Certificate-Based Client Authentication"},{key:23,text:"Time Sync Token",value:"Time Sync Token"},{key:24,text:"Unspecified",value:"Unspecified"},{key:25,text:"Custom Authentication Context Class",value:"Custom Authentication Context Class"}],$=(null==v||null===(t=v.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth",X=zn((0,s.useState)(!1),2),J=X[0],ee=X[1],te=zn((0,s.useState)(!1),2),ne=te[0],re=te[1],ie=zn((0,s.useState)(!1),2),oe=ie[0],ae=ie[1],le=(0,s.useMemo)((function(){var e,t,n,r,i=function(e){var t,n,r=new Map;null===(t=e.data)||void 0===t||t.properties.forEach((function(e){var t=e.key,n=e.value;return r.set(t,n)}));var i=new Map;return null===(n=e.meta)||void 0===n||n.properties.forEach((function(e){return i.set(e.key,e)})),[function(e){var t=e.key,n=e.defaultValue;if(r.has(t)){var o,a=r.get(t);return"BOOLEAN"===(null===(o=i.get(t))||void 0===o?void 0:o.type)&&wn(a)&&"string"==typeof a?_n(a):a||n}return n},function(e){var t=e.key;return i.has(t)?i.get(t):null}]}(a),o=zn(i,2),l=o[0],c=o[1];return{ArtifactResolveUrl:l({defaultValue:"",key:"ArtifactResolveUrl"}),AuthRedirectUrl:l({defaultValue:$,key:"AuthRedirectUrl"}),AuthnContextClassRef:l({defaultValue:"",key:"AuthnContextClassRef"}),AuthnContextComparisonLevel:l({defaultValue:"",key:"AuthnContextComparisonLevel"}),DigestAlgorithm:l({defaultValue:"SHA256",key:"DigestAlgorithm"}),ISArtifactBindingEnabled:l({defaultValue:!1,key:"ISArtifactBindingEnabled"}),ISArtifactResolveReqSigned:l({defaultValue:"string",key:"ISArtifactResolveReqSigned"}),ISArtifactResponseSigned:l({defaultValue:"string",key:"ISArtifactResponseSigned"}),ISAuthnReqSigned:l({defaultValue:!1,key:"ISAuthnReqSigned"}),IdPEntityId:l({defaultValue:"",key:"IdPEntityId"}),IncludeProtocolBinding:l({defaultValue:!1,key:"IncludeProtocolBinding"}),IsAssertionEncrypted:l({defaultValue:!1,key:"IsAssertionEncrypted"}),IsAuthnRespSigned:l({defaultValue:!1,key:"IsAuthnRespSigned"}),IsLogoutEnabled:l({defaultValue:!1,key:"IsLogoutEnabled"}),IsLogoutReqSigned:l({defaultValue:!1,key:"IsLogoutReqSigned"}),IsSLORequestAccepted:l({defaultValue:!1,key:"IsSLORequestAccepted"}),IsUserIdInClaims:l({defaultValue:!1,key:"IsUserIdInClaims"}),LogoutReqUrl:l({defaultValue:"",key:"LogoutReqUrl"}),NameIDType:l({defaultValue:null!==(e=null===(t=c({key:"NameIDType"}))||void 0===t?void 0:t.defaultValue)&&void 0!==e?e:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",key:"NameIDType"}),RequestMethod:l({defaultValue:null!==(n=null===(r=c({key:"RequestMethod"}))||void 0===r?void 0:r.defaultValue)&&void 0!==n?n:"redirect",key:"RequestMethod"}),SPEntityId:l({defaultValue:"",key:"SPEntityId"}),SSOUrl:l({defaultValue:"",key:"SSOUrl"}),SignatureAlgorithm:l({defaultValue:"RSA with SHA256",key:"SignatureAlgorithm"}),commonAuthQueryParams:l({defaultValue:"",key:"commonAuthQueryParams"}),customAuthnContextClassRef:l({defaultValue:"",key:"CustomAuthnContextClassRef"}),isAssertionSigned:l({defaultValue:!1,key:"isAssertionSigned"})}}),[]);(0,s.useEffect)((function(){var e;P(le.IsSLORequestAccepted),C(le.IncludeProtocolBinding),L(le.IsUserIdInClaims),k(le.IsLogoutEnabled),ee(le.IsLogoutReqSigned),re(le.ISAuthnReqSigned),B(le.ISArtifactBindingEnabled),S(Kn({},le)),V(le.IsAssertionEncrypted);var t=null===(e=le.AuthnContextClassRef)||void 0===e?void 0:e.split(",").map((function(e){return W.find((function(t){return t.value===e}))}));Y(null==t?void 0:t.filter(Boolean))}),[le]),(0,s.useEffect)((function(){ae(J||ne)}),[J,ne]);var ce,ue,se,me=function(){return J||ne?Un:function(){}};return s.createElement(D.l0,{id:$n,onSubmit:function(e){var t={AuthnContextClassRef:null==Q?void 0:Q.map((function(e){return e.value})).join(","),ISAuthnReqSigned:ne,IncludeProtocolBinding:T,IsLogoutEnabled:R,IsLogoutReqSigned:J,IsSLORequestAccepted:O,IsUserIdInClaims:w},n=new Set(Object.keys(t)),r=Kn(Kn({},a.data),{},{properties:[].concat(Vn(Object.keys(e).filter((function(e){return!n.has(e)})).map((function(t){return{key:t,value:e[t]}}))),Vn(Object.keys(t).map((function(e){return{key:e,value:t[e]}}))))});c(r)},uncontrolledForm:!0,initialValues:E},s.createElement(D.gN.Input,{required:!0,name:"SPEntityId",value:null==E?void 0:E.SPEntityId,placeholder:h("".concat(Wn,".SPEntityId.placeholder")),ariaLabel:h("".concat(Wn,".SPEntityId.ariaLabel")),inputType:"default",maxLength:Ln.max,minLength:Ln.min,label:s.createElement(l.bH,{htmlFor:"SPEntityId"},h("".concat(Wn,".SPEntityId.label"))),validate:xn(Un,Gn(Ln)),hint:s.createElement(s.Fragment,null,"This value will be used as the ",s.createElement(l.EK,null,"<saml2:Issuer>")," in the SAML requests initiated from ",v.ui.productName," to external Identity Provider (IdP). You need to provide a unique value as the service provider ",s.createElement(l.EK,null,"entityId"),"."),readOnly:u}),s.createElement(D.gN.Input,{required:!0,name:"SSOUrl",value:null==E?void 0:E.SSOUrl,inputType:"default",placeholder:h("".concat(Wn,".SSOUrl.placeholder")),ariaLabel:h("".concat(Wn,".SSOUrl.ariaLabel")),"data-testid":"".concat(p,"-SSOUrl-field"),label:s.createElement(l.bH,{htmlFor:"SSOUrl"},h("".concat(Wn,".SSOUrl.label"))),maxLength:Nn.max,minLength:Nn.min,validate:xn(Un,Zn,Gn(Nn)),hint:h("".concat(Wn,".SSOUrl.hint"),{productName:v.ui.productName}),readOnly:u}),s.createElement(D.gN.Input,{name:"AuthRedirectUrl",value:null==E?void 0:E.AuthRedirectUrl,inputType:"copy_input",placeholder:h("".concat(Wn,".AuthRedirectUrl.placeholder")),ariaLabel:h("".concat(Wn,".AuthRedirectUrl.ariaLabel")),"data-testid":"".concat(p,"-authorized-redirect-url"),label:s.createElement(l.bH,{htmlFor:"AuthRedirectUrl",disabled:!0},h("".concat(Wn,".AuthRedirectUrl.label"))),maxLength:Mn,minLength:jn,hint:h("".concat(Wn,".AuthRedirectUrl.hint"),{productName:v.ui.productName}),readOnly:u}),s.createElement(D.gN.Input,{required:!0,name:"IdPEntityId",value:null==E?void 0:E.IdPEntityId,inputType:"default",placeholder:h("".concat(Wn,".IdPEntityId.placeholder")),ariaLabel:h("".concat(Wn,".IdPEntityId.ariaLabel")),"data-testid":"".concat(p,"-IdPEntityId-field"),label:s.createElement(l.bH,{htmlFor:"IdPEntityId",disabled:!0},h("".concat(Wn,".IdPEntityId.label"))),maxLength:Dn.max,minLength:Dn.min,validate:xn(Un,Gn(Dn)),hint:s.createElement(s.Fragment,null,"This is the ",s.createElement(l.EK,null,"<saml2:Issuer>")," value specified in the SAML responses issued by the external IdP. Also, this needs to be a unique value to identify the external IdP within your organization."),readOnly:u}),s.createElement(D.gN.Dropdown,{required:!0,name:"NameIDType",value:null==E?void 0:E.NameIDType,defaultValue:null==E?void 0:E.NameIDType,placeholder:h("".concat(Wn,".NameIDType.placeholder")),ariaLabel:h("".concat(Wn,".NameIDType.ariaLabel")),"data-testid":"".concat(p,"-NameIDType-field"),options:Tn.map((function(e,t){return{key:t,text:e,value:e}})),label:s.createElement(l.bH,{htmlFor:"NameIDType"},h("".concat(Wn,".NameIDType.label"))),validate:Un,hint:h("".concat(Wn,".NameIDType.hint"),{productName:v.ui.productName}),readOnly:u}),s.createElement(D.gN.Dropdown,{required:!0,name:"RequestMethod",value:null==E?void 0:E.RequestMethod,defaultValue:null==E?void 0:E.RequestMethod,placeholder:h("".concat(Wn,".RequestMethod.placeholder")),ariaLabel:h("".concat(Wn,".RequestMethod.ariaLabel")),"data-testid":"".concat(p,"-RequestMethod-field"),options:[{key:1,text:"HTTP Redirect",value:"redirect"},{key:2,text:"HTTP Post",value:"post"},{key:3,text:"As Per Request",value:"as_request"}],label:s.createElement(l.bH,{htmlFor:"RequestMethod"},h("".concat(Wn,".RequestMethod.label"))),validate:Un,hint:h("".concat(Wn,".RequestMethod.hint")),readOnly:u}),s.createElement("div",null),s.createElement(l.hj,{heading:"Single Logout"},s.createElement(y.Z,null,s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{name:"IsSLORequestAccepted",initialValue:O,ariaLabel:h("".concat(Wn,".IsSLORequestAccepted.ariaLabel")),"data-testid":"".concat(p,"-IsSLORequestAccepted-field"),label:s.createElement(l.bH,{htmlFor:"IsSLORequestAccepted"},h("".concat(Wn,".IsSLORequestAccepted.label"))),hint:h("".concat(Wn,".IsSLORequestAccepted.hint"),{productName:v.ui.productName}),listen:function(e){return P(Boolean(e))},readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IsLogoutEnabled",initialValue:R,ariaLabel:h("".concat(Wn,".IsLogoutEnabled.ariaLabel")),"data-testid":"".concat(p,"-IsLogoutEnabled-field"),label:s.createElement(l.bH,{htmlFor:"IsLogoutEnabled"},h("".concat(Wn,".IsLogoutEnabled.label"))),hint:h("".concat(Wn,".IsLogoutEnabled.hint")),listen:function(e){return k(Boolean(e))},readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Input,{name:"LogoutReqUrl",value:null==E?void 0:E.LogoutReqUrl,inputType:"url",disabled:!R,placeholder:h("".concat(Wn,".LogoutReqUrl.placeholder")),ariaLabel:h("".concat(Wn,".LogoutReqUrl.ariaLabel")),"data-testid":"".concat(p,"-LogoutReqUrl-field"),label:s.createElement(l.bH,{htmlFor:"LogoutReqUrl"},h("".concat(Wn,".LogoutReqUrl.label"))),maxLength:Rn,minLength:kn,hint:h("".concat(Wn,".LogoutReqUrl.hint")),readOnly:u}))),s.createElement(de.Z,{hidden:!0})),s.createElement(l.hj,{heading:"Request & Response Signing"},s.createElement(y.Z,null,s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,disabled:!1,name:"IsAuthnRespSigned",ariaLabel:h("".concat(Wn,".IsAuthnRespSigned.ariaLabel")),"data-testid":"".concat(p,"-IsAuthnRespSigned-field"),label:s.createElement(l.bH,{htmlFor:"IsAuthnRespSigned"},h("".concat(Wn,".IsAuthnRespSigned.label"))),hint:h("".concat(Wn,".IsAuthnRespSigned.hint")),readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IsLogoutReqSigned",initialValue:J,ariaLabel:h("".concat(Wn,".IsLogoutReqSigned.ariaLabel")),"data-testid":"".concat(p,"-IsLogoutReqSigned-field"),label:s.createElement(l.bH,{htmlFor:"IsLogoutEnabled"},h("".concat(Wn,".IsLogoutReqSigned.label"))),hint:h("".concat(Wn,".IsLogoutReqSigned.hint"),{productName:v.ui.productName}),listen:function(e){return ee(Boolean(e))},readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"ISAuthnReqSigned",initialValue:ne,ariaLabel:h("".concat(Wn,".ISAuthnReqSigned.ariaLabel")),"data-testid":"".concat(p,"-ISAuthnReqSigned-field"),label:s.createElement(l.bH,{htmlFor:"ISAuthnReqSigned"},h("".concat(Wn,".ISAuthnReqSigned.label"))),hint:h("".concat(Wn,".ISAuthnReqSigned.hint"),{productName:v.ui.productName}),listen:function(e){return re(Boolean(e))},readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Dropdown,{value:null==E?void 0:E.SignatureAlgorithm,required:oe,name:"SignatureAlgorithm",type:"select",disabled:!oe,placeholder:h("".concat(Wn,".SignatureAlgorithm.placeholder")),ariaLabel:h("".concat(Wn,".SignatureAlgorithm.ariaLabel")),"data-testid":"".concat(p,"-SignatureAlgorithm-field"),options:(ce=a.meta,ue=ce.properties.find((function(e){return"SignatureAlgorithm"===e.key})),se=function(e){switch(e){case"DSA with SHA1":return"http://www.w3.org/2000/09/xmldsig#dsa-sha1";case"ECDSA with SHA1":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";case"ECDSA with SHA256":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";case"ECDSA with SHA384":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";case"ECDSA with SHA512":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";case"RSA with MD5":return"http://www.w3.org/2001/04/xmldsig-more#rsa-md5";case"RSA with RIPEMD160":return"http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160";case"RSA with SHA1":return"http://www.w3.org/2000/09/xmldsig#rsa-sha1";case"RSA with SHA256":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";case"RSA with SHA384":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";case"RSA with SHA512":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"}},ue?ue.options.map((function(e,t){return{key:t,text:se(e),value:e}})):[]),label:s.createElement(l.bH,{htmlFor:"SignatureAlgorithm"},h("".concat(Wn,".SignatureAlgorithm.label"))),validate:me(),readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Dropdown,{required:oe,name:"DigestAlgorithm",value:null==E?void 0:E.DigestAlgorithm,type:"select",disabled:!oe,placeholder:h("".concat(Wn,".DigestAlgorithm.placeholder")),ariaLabel:h("".concat(Wn,".DigestAlgorithm.ariaLabel")),"data-testid":"".concat(p,"-DigestAlgorithm-field"),options:Cn(a.meta),label:s.createElement(l.bH,{htmlFor:"DigestAlgorithm"},h("".concat(Wn,".DigestAlgorithm.label"))),validate:me(),readOnly:u}))),s.createElement(de.Z,{hidden:!0})),s.createElement(l.hj,{heading:"Advanced"},s.createElement(y.Z,null,s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IncludeProtocolBinding",initialValue:T,ariaLabel:h("".concat(Wn,".IncludeProtocolBinding.ariaLabel")),"data-testid":"".concat(p,"-IncludeProtocolBinding-field"),label:s.createElement(l.bH,{htmlFor:"IncludeProtocolBinding"},h("".concat(Wn,".IncludeProtocolBinding.label"))),hint:h("".concat(Wn,".IncludeProtocolBinding.hint")),listen:function(e){return C(Boolean(e))},readOnly:u})),s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IsUserIdInClaims",initialValue:w,ariaLabel:h("".concat(Wn,".IsUserIdInClaims.ariaLabel")),"data-testid":"".concat(p,"-IsUserIdInClaims-field"),label:s.createElement(l.bH,{htmlFor:"IsUserIdInClaims"},h("".concat(Wn,".IsUserIdInClaims.label"))),hint:h("".concat(Wn,".IsUserIdInClaims.hint")),listen:function(e){return L(Boolean(e))},readOnly:u})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(n=b.identityProviderConfig.extendedSamlConfig)||void 0===n?void 0:n.enableAssertionSigningEnabled)&&s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"isAssertionSigned",defaultValue:Boolean(le.isAssertionSigned),ariaLabel:"Enable Assertion Signing","data-testid":"".concat(p,"-isAssertionSigned-field"),label:s.createElement(l.bH,{htmlFor:"isAssertionSigned"},h("".concat(Wn,".isAssertionSigned.label"))),hint:h("".concat(Wn,".isAssertionSigned.hint")),readOnly:u})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(r=b.identityProviderConfig.extendedSamlConfig)||void 0===r?void 0:r.includePublicCertEnabled)&&s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IncludeCert",initialValue:j,ariaLabel:"Include public certificate","data-testid":"".concat(p,"-includeCert-field"),label:s.createElement(l.bH,{htmlFor:"includeCert"},h("".concat(Wn,".includeCert.label"))),hint:h("".concat(Wn,".includeCert.hint")),listen:function(e){return x(Boolean(e))},readOnly:u})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(i=b.identityProviderConfig.extendedSamlConfig)||void 0===i?void 0:i.includeNameIDPolicyEnabled)&&s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IncludeNameIDPolicy",initialValue:G,ariaLabel:"Include Name ID Policy","data-testid":"".concat(p,"-includeNameIDPolicy-field"),label:s.createElement(l.bH,{htmlFor:"IncludeNameIDPolicy"},h("".concat(Wn,".includeNameIDPolicy.label"))),hint:h("".concat(Wn,".includeNameIDPolicy.hint")),listen:function(e){return Z(Boolean(e))},readOnly:u})),(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(o=b.identityProviderConfig.extendedSamlConfig)||void 0===o?void 0:o.isAssertionEncryptionEnabled)&&s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"IsAssertionEncrypted",initialValue:H,ariaLabel:"Enable Assertion Encryption","data-testid":"".concat(p,"-isEnableAssertionEncryption-field"),label:s.createElement(l.bH,{htmlFor:"IsEnableAssertionEncryption"},h("".concat(Wn,".isEnableAssertionEncryption.label"))),hint:h("".concat(Wn,".isEnableAssertionEncryption.hint")),listen:function(e){return V(Boolean(e))},readOnly:u})),b.identityProviderConfig.extendedSamlConfig.includeAuthenticationContextEnabled&&s.createElement(Jn,null,s.createElement("p",null,"Include authentication context"),[{key:1,text:"Yes",value:"yes"},{key:2,text:"No",value:"no"},{key:3,text:"As request",value:"as_request"}].map((function(e,t){return s.createElement(D.gN.Radio,{key:t,ariaLabel:"".concat(e.value," layout swatch"),name:"IncludeAuthnContext",label:e.text,required:!1,value:e.value})}))),b.identityProviderConfig.extendedSamlConfig.forceAuthenticationEnabled&&s.createElement(Jn,null,s.createElement("p",null,"Force authentication"),[{key:1,text:"Yes",value:"yes"},{key:2,text:"No",value:"no"},{key:3,text:"As request",value:"no-authn"}].map((function(e,t){return s.createElement(D.gN.Radio,{key:t,ariaLabel:"".concat(e.value," layout swatch"),name:"ForceAuthentication",label:e.text,required:!1,value:e.value})}))),b.identityProviderConfig.extendedSamlConfig.responseAuthenticationContextClassEnabled&&s.createElement(Jn,null,s.createElement("p",null,"Response Authentication Context Class"),[{key:1,text:"Default",value:"default"},{key:2,text:"As response",value:"as_response"}].map((function(e,t){return s.createElement(D.gN.Radio,{key:t,ariaLabel:"".concat(e.value," layout swatch"),name:"ResponseAuthnContextClassRef",label:e.text,required:!1,value:e.value})}))),b.identityProviderConfig.extendedSamlConfig.authContextComparisonLevelEnabled&&s.createElement(Jn,null,s.createElement(D.gN.Dropdown,{required:!1,name:"AuthnContextComparisonLevel",defaultValue:null==le?void 0:le.AuthnContextComparisonLevel,placeholder:h("".concat(Wn,".authContextComparisonLevel.placeholder")),ariaLabel:h("".concat(Wn,".authContextComparisonLevel.ariaLabel")),"data-testid":"".concat(p,"-authContextComparisonLevel-field"),options:[{key:1,text:"Exact",value:"Exact"},{key:2,text:"Minimum",value:"Minimum"},{key:3,text:"Maximum",value:"Maximum"},{key:4,text:"Better",value:"Better"}],label:s.createElement(l.bH,{htmlFor:"AuthnContextComparisonLevel"},h("".concat(Wn,".authContextComparisonLevel.label"))),hint:h("".concat(Wn,".authContextComparisonLevel.hint")),readOnly:u})),b.identityProviderConfig.extendedSamlConfig.attributeConsumingServiceIndexEnabled&&s.createElement(Jn,null,s.createElement(D.gN.Input,{name:"AttributeConsumingServiceIndex",value:null==E?void 0:E.attributeConsumingServiceIndex,inputType:"default",placeholder:h("".concat(Wn,".attributeConsumingServiceIndex.placeholder")),ariaLabel:h("".concat(Wn,".attributeConsumingServiceIndex.ariaLabel")),"data-testid":"".concat(p,"-attributeConsumingServiceIndex-field"),label:s.createElement(l.bH,{htmlFor:"AttributeConsumingServiceIndex"},h("".concat(Wn,".attributeConsumingServiceIndex.label"))),maxLength:Rn,minLength:kn,hint:h("".concat(Wn,".attributeConsumingServiceIndex.hint")),readOnly:u})),s.createElement(Jn,null,s.createElement(On.Z,{variant:"body1"},h("".concat(Wn,".authenticationContextClass.label"))),s.createElement(Sn.Z,{multiple:!0,className:"forms-wrapped-autocomplete",disableCloseOnSelect:!0,size:"small",options:W,value:Q,onChange:function(e,t){Y(t)},getOptionLabel:function(e){return null==e?void 0:e.text},renderInput:function(e){return e.inputProps.className="forms-wrapped-autocomplete-render-input",s.createElement(In.Z,Hn({},e,{size:"small",placeholder:h("".concat(Wn,".authenticationContextClass.placeholder"))}))}})),s.createElement(Jn,null,s.createElement(D.gN.Input,{label:s.createElement(l.bH,{htmlFor:"CustomAuthnContextClassRef"},h("".concat(Wn,".customAuthenticationContextClass.label"))),name:"CustomAuthnContextClassRef",maxLength:100,minLength:0,value:le.customAuthnContextClassRef,inputType:"default",placeholder:h("".concat(Wn,".customAuthenticationContextClass.placeholder")),ariaLabel:h("".concat(Wn,".customAuthenticationContextClass.ariaLabel")),"data-testid":"".concat(p,"-customAuthenticationContextClass-field")})),s.createElement(Jn,null,s.createElement(D.gN.QueryParams,{value:null==E?void 0:E.commonAuthQueryParams,label:h("".concat(Wn,".commonAuthQueryParams.label")),ariaLabel:h("".concat(Wn,".commonAuthQueryParams.ariaLabel")),name:"commonAuthQueryParams",readOnly:u}))),s.createElement(de.Z,{hidden:!0})),b.identityProviderConfig.extendedSamlConfig.isArtifactBindingEnabled&&s.createElement(l.hj,{heading:"Artifact Binding"},s.createElement(y.Z,null,s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"ISArtifactBindingEnabled",initialValue:le.ISArtifactBindingEnabled,ariaLabel:h("".concat(Wn,".isArtifactBindingEnabled.label")),"data-testid":"".concat(p,"-isArtifactBindingEnabled-field"),label:s.createElement(l.bH,{htmlFor:"isArtifactBindingEnabled"},h("".concat(Wn,".isArtifactBindingEnabled.label"))),readOnly:u,listen:function(e){return B(e)}})),s.createElement(Jn,null,s.createElement(D.gN.Input,{name:"ArtifactResolveUrl",value:null==E?void 0:E.ArtifactResolveUrl,inputType:"url",placeholder:h("".concat(Wn,".artifactResolveEndpointUrl.placeholder")),ariaLabel:h("".concat(Wn,".artifactResolveEndpointUrl.ariaLabel")),"data-testid":"".concat(p,"-artifactResolveEndpointUrl-field"),label:s.createElement(l.bH,{htmlFor:"artifactResolveEndpointUrl"},h("".concat(Wn,".artifactResolveEndpointUrl.label"))),maxLength:Rn,minLength:kn,readOnly:u,disabled:!K})),s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"ISArtifactResolveReqSigned",defaultValue:"true"===le.ISArtifactResolveReqSigned,ariaLabel:"Enable Artifact resolve request signing","data-testid":"".concat(p,"-isArtifactResolveReqSigned-field"),label:s.createElement(l.bH,{htmlFor:"isArtifactResolveReqSigned"},h("".concat(Wn,".isArtifactResolveReqSigned.label"))),readOnly:u,disabled:!K})),s.createElement(Jn,null,s.createElement(D.gN.Checkbox,{required:!1,name:"ISArtifactResponseSigned",defaultValue:"true"===le.ISArtifactResponseSigned,ariaLabel:"Enable artifact response signing","data-testid":"".concat(p,"-isArtifactResponseSigned-field"),label:s.createElement(l.bH,{htmlFor:"isArtifactResponseSigned"},h("".concat(Wn,".isArtifactResponseSigned.label"))),readOnly:u,disabled:!K})))),s.createElement(D.gN.Button,{form:$n,size:"small",buttonType:"primary_btn",ariaLabel:"SAML authenticator update button",name:"update-button","data-testid":"".concat(p,"-submit-button"),disabled:f,loading:f,label:h("common:update"),hidden:u}))};Xn.defaultProps={"data-testid":"saml-authenticator-settings-form"};var Jn=function(e){var t=e.width,n=void 0===t?16:t,r=e.children;return s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{width:n},r))};function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==er(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===er(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ar="siwe-authenticator-form",lr=function(e){var t,n,r,i,o,a,c,u,m,f,p,v,h,y,g,b,E,S,I,O,P,A,T=e.metadata,C=e.initialValues,_=e.onSubmit,w=e.readOnly,L=e.isSubmitting,N=e["data-componentid"],R=(0,d.$)().t,k=ir((0,s.useState)(void 0),2),M=k[0],j=k[1],U=ir((0,s.useState)(void 0),2),G=U[0],Z=U[1];(0,s.useEffect)((function(){if(!(0,Oe.Z)(null==C?void 0:C.properties)){var e=null,t=null;C.properties.map((function(n){var r=null==T?void 0:T.properties.find((function(e){return e.key===n.key}));e=nr(nr({},e),{},rr({},n.key,{meta:r,value:n.value})),t=nr(nr({},t),{},rr({},n.key,n.value))})),j(e),Z(t)}}),[C]);return s.createElement(D.l0,{id:ar,uncontrolledForm:!1,onSubmit:function(e){return _(function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=ir(r[n],2),o=i[0],a=i[1];void 0!==o&&t.push({key:o,value:a})}return nr(nr({},C),{},{properties:t})}(e))},initialValues:G},s.createElement(D.gN.Input,{ariaLabel:"SIWE authenticator client ID",inputType:"default",name:"ClientId",label:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientId.label"),placeholder:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientId.placeholder"),hint:s.createElement(W.c,{i18nKey:"extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientId.hint"},"The ",s.createElement(l.EK,null,"Client ID")," you received from ",s.createElement(l.EK,null,"oidc.signinwithethereum.org"),"for your OIDC client."),required:null==M||null===(t=M.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:w||(null==M||null===(r=M.ClientId)||void 0===r||null===(i=r.meta)||void 0===i?void 0:i.readOnly),value:null==M||null===(o=M.ClientId)||void 0===o?void 0:o.value,maxLength:null==M||null===(a=M.ClientId)||void 0===a||null===(c=a.meta)||void 0===c?void 0:c.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(N,"-client-id")}),s.createElement(D.gN.Input,{ariaLabel:"SIWE authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientSecret.label"),placeholder:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientSecret.placeholder"),hint:s.createElement(W.c,{i18nKey:"extensions:develop.identityProviders.siwe.forms.authenticatorSettings.clientSecret.hint"},"The ",s.createElement(l.EK,null,"Client secret")," you received ",s.createElement(l.EK,null,"oidc.signinwithethereum.org"),"for your OIDC client."),required:null==M||null===(u=M.ClientSecret)||void 0===u||null===(m=u.meta)||void 0===m?void 0:m.isMandatory,readOnly:w||(null==M||null===(f=M.ClientSecret)||void 0===f||null===(p=f.meta)||void 0===p?void 0:p.readOnly),value:null==M||null===(v=M.ClientSecret)||void 0===v?void 0:v.value,maxLength:null==M||null===(h=M.ClientSecret)||void 0===h||null===(y=h.meta)||void 0===y?void 0:y.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(N,"-client-secret")}),s.createElement(D.gN.Input,{ariaLabel:"SIWE authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.callbackUrl.label"),placeholder:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.callbackUrl.placeholder"),hint:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.callbackUrl.hint"),required:null==M||null===(g=M.callbackUrl)||void 0===g||null===(b=g.meta)||void 0===b?void 0:b.isMandatory,value:null==M||null===(E=M.callbackUrl)||void 0===E?void 0:E.value,readOnly:w||(null==M||null===(S=M.callbackUrl)||void 0===S||null===(I=S.meta)||void 0===I?void 0:I.readOnly),maxLength:null==M||null===(O=M.callbackUrl)||void 0===O||null===(P=O.meta)||void 0===P?void 0:P.maxLength,minLength:pe.f.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(N,"-authorized-redirect-url")}),(null==M||null===(A=M.scope)||void 0===A?void 0:A.value)&&M.scope.value.split&&M.scope.value.split(" ").length>0&&s.createElement(l.hj,{heading:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.heading")},s.createElement("div",{className:"authenticator-dynamic-properties"},M.scope.value.split(" ").map((function(e,t){var n=function(e){return e===ae.X.SIWE_SCOPE_DICTIONARY.PROFILE?{description:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.list.profile.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},e),icon:"user outline"}:e===ae.X.SIWE_SCOPE_DICTIONARY.OPENID?{description:R("extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.list.openid.description"),displayName:s.createElement(l.EK,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},e),icon:"openid"}:{description:"",displayName:e,icon:"key"}}(e);return s.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},s.createElement("div",{className:"authenticator-dynamic-property-name-container"},s.createElement(l.dn,{square:!0,inline:!0,transparent:!0,icon:s.createElement(x.Z,{name:n.icon}),size:"micro",className:"authenticator-dynamic-property-icon",spaced:"right",verticalAlign:"top"}),s.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),s.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),s.createElement(l.kW,null,s.createElement(W.c,{i18nKey:"extensions:develop.identityProviders.siwe.forms.authenticatorSettings.scopes.hint"},"The type of access provided for the connected apps to access data from Ethereum wallet."))),s.createElement(D.gN.Button,{form:ar,size:"small",buttonType:"primary_btn",ariaLabel:"GitHub authenticator update button",name:"update-button","data-testid":"".concat(N,"-submit-button"),disabled:L,loading:L,label:R("common:update"),hidden:w}))};lr.defaultProps={"data-componentid":"swe-idp-authenticator-form",enableSubmitButton:!0};var cr=function(e){var t=e.authenticator,n=e.connectionSettingsMetaData,r=e.metadata,i=e.mode,o=e.initialValues,a=e.onSubmit,l=e.type,c=e.triggerSubmit,u=e.enableSubmitButton,d=e.showCustomProperties,m=e.isReadOnly,f=e.isSubmitting,p=e.templateId,v=e["data-testid"],h=Se.identityProviderConfig.editIdentityProvider.getOverriddenAuthenticatorForm(l,p,{"data-componentid":v,enableSubmitButton:u,initialValues:o,isSubmitting:f,metadata:r,onSubmit:a,readOnly:m,showCustomProperties:d,triggerSubmit:c});if(h)return h;if(p===ae.v.EXPERT_MODE_TEMPLATE_ID)return s.createElement(Pt,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});switch(l){case ae.v.GOOGLE_OIDC_AUTHENTICATOR_ID:return s.createElement(rn,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case ae.v.FACEBOOK_AUTHENTICATOR_ID:return s.createElement(Ft,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case ae.v.GITHUB_AUTHENTICATOR_ID:return s.createElement(Yt,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case pe.f.EMAIL_OTP_AUTHENTICATOR_ID:return s.createElement(kt,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case pe.f.SMS_OTP_AUTHENTICATOR_ID:return s.createElement(En,{initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case pe.f.SAML_AUTHENTICATOR_ID:return s.createElement(Xn,{mode:i,onSubmit:a,authenticator:t,readOnly:m,isSubmitting:f});case ae.v.MICROSOFT_AUTHENTICATOR_ID:return p===ae.v.IDP_TEMPLATE_IDS.MICROSOFT?s.createElement(mn,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f}):s.createElement(Pt,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});case ae.v.SIWE_AUTHENTICATOR_ID:if(p===ae.v.IDP_TEMPLATE_IDS.SWE)return s.createElement(lr,{"data-componentid":v,enableSubmitButton:u,initialValues:o,isSubmitting:f,metadata:r,onSubmit:a,readOnly:m,showCustomProperties:d,triggerSubmit:c});break;case ae.v.HYPR_AUTHENTICATOR_ID:if(p===ae.v.IDP_TEMPLATE_IDS.HYPR)return s.createElement(Pt,{mode:i,onSubmit:a,initialValues:o,enableSubmitButton:u,triggerSubmit:c,metadata:r,"data-testid":v,showCustomProperties:d,readOnly:m});break;case ae.v.APPLE_AUTHENTICATOR_ID:return s.createElement(tt,{mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-componentid":v,showCustomProperties:d,readOnly:m,isSubmitting:f});default:return s.createElement(Be,{connectorSettings:n,mode:i,initialValues:o,metadata:r,onSubmit:a,triggerSubmit:c,enableSubmitButton:u,"data-testid":v,showCustomProperties:d,readOnly:m,isSubmitting:f})}};cr.defaultProps={enableSubmitButton:!0},cr.defaultProps={"data-testid":"idp-edit-authenticator-settings-form-factory"};var ur=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,o=e.triggerSubmit,a=e.enableSubmitButton,l=e.readOnly,c=e["data-testid"];return s.createElement(Ot,{mode:n,onSubmit:i,initialValues:r,enableSubmitButton:a,triggerSubmit:o,metadata:t,"data-testid":c,readOnly:l})};ur.defaultProps={enableSubmitButton:!0};var sr=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,i=e.onSubmit,o=(e.type,e.triggerSubmit),a=e.enableSubmitButton,l=e.isReadOnly,c=e["data-testid"];return s.createElement(s.Fragment,null,s.createElement(ur,{mode:n,initialValues:r,metadata:t,onSubmit:i,triggerSubmit:o,enableSubmitButton:a,"data-testid":c,readOnly:l}))};sr.defaultProps={enableSubmitButton:!0},sr.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings-form-factory"};var dr,mr=n(83849),fr=n.n(mr),pr=n(96627),vr=n(83046);function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.ENABLE_JIT_PROVISIONING_KEY="enableJITProvisioning",e.PROVISIONING_USER_STORE_DOMAIN_KEY="provisioningUserstoreDomain",e.PROVISIONING_SCHEME_TYPE_KEY="provisioningScheme",e.ASSOCIATE_LOCAL_USER="associateLocalUser",e.ATTRIBUTE_SYNC_METHOD="attributeSyncMethod"}(dr||(dr={}));var gr=function(e){var t,n,r,i,o,a,c,u,m=e.initialValues,f=e.onSubmit,p=e.useStoreList,v=e.isReadOnly,h=e.isSubmitting,g=e["data-testid"],E=(0,d.$)().t,S=(0,l.fQ)().getLink,I=(0,pr.z)().isSubOrganization,O=hr((0,s.useState)(!1),2),P=O[0],A=O[1];(0,s.useEffect)((function(){null!=m&&m.isEnabled&&A(null==m?void 0:m.isEnabled)}),[m]);var T,C=[{label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.0"),value:vr.vA.PROMPT_USERNAME_PASSWORD_CONSENT},{label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.1"),value:vr.vA.PROMPT_PASSWORD_CONSENT},{label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.2"),value:vr.vA.PROMPT_CONSENT},{label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.3"),value:vr.vA.PROVISION_SILENTLY}],_=s.createElement("div",{style:{animationDuration:"350ms"},className:fr()("ui image warning scale transition",{"hidden animating out":P,"visible animating in":!P})},s.createElement(l.v0,{"data-componentid":"proxy-mode-conflict-warning-message","data-testid":"proxy-mode-conflict-warning-message",type:"warning",header:"Warning",content:s.createElement(s.Fragment,null,"JIT user provisioning should be enabled for external identity providers (connections) when there are MFA mechanisms such as ",s.createElement(l.EK,null,"TOTP")," and ",s.createElement(l.EK,null,"Email OTP")," configured in an application's login flow.",s.createElement(l.eb,{link:S("develop.connections.edit.advancedSettings.jit")},"Learn More"))}));return s.createElement(ge.Es,{onSubmit:function(e){return f(function(e){var t,n,r,i,o,a;return{associateLocalUser:null!==(t=null===(n=e.get(dr.ASSOCIATE_LOCAL_USER))||void 0===n?void 0:n.includes(dr.ASSOCIATE_LOCAL_USER))&&void 0!==t?t:null==m?void 0:m.associateLocalUser,attributeSyncMethod:null!==(r=null==e?void 0:e.get(dr.ATTRIBUTE_SYNC_METHOD))&&void 0!==r?r:null==m?void 0:m.attributeSyncMethod,isEnabled:null!==(i=e.get(dr.ENABLE_JIT_PROVISIONING_KEY).includes(dr.ENABLE_JIT_PROVISIONING_KEY))&&void 0!==i?i:null==m?void 0:m.isEnabled,scheme:null!==(o=e.get(dr.PROVISIONING_SCHEME_TYPE_KEY))&&void 0!==o?o:null==m?void 0:m.scheme,userstore:null!==(a=e.get(dr.PROVISIONING_USER_STORE_DOMAIN_KEY))&&void 0!==a?a:m.userstore}}(e))}},s.createElement(y.Z,null,(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(t=b.identityProviderConfig.jitProvisioningSettings)||void 0===t||null===(n=t.enableJitProvisioningField)||void 0===n?void 0:n.show)&&s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},s.createElement(ge.gN,{name:dr.ENABLE_JIT_PROVISIONING_KEY,label:"",required:!1,requiredErrorMessage:"",value:null!=m&&m.isEnabled?[dr.ENABLE_JIT_PROVISIONING_KEY]:[],type:"checkbox",listen:function(e){A(e.get(dr.ENABLE_JIT_PROVISIONING_KEY).includes(dr.ENABLE_JIT_PROVISIONING_KEY))},children:[{label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.enableJITProvisioning.label"),value:dr.ENABLE_JIT_PROVISIONING_KEY}],"data-testid":"".concat(g,"-is-enable"),readOnly:v}),s.createElement(l.kW,null,"When enabled, users who log in with this identity provider will be provisioned to your organization."),P?s.createElement(s.Fragment,null):_)),I()&&(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(r=b.identityProviderConfig.jitProvisioningSettings)||void 0===r||null===(i=r.enableAssociateLocalUserField)||void 0===i?void 0:i.show)&&s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},s.createElement(ge.gN,{name:dr.ASSOCIATE_LOCAL_USER,label:"",required:!1,disabled:!P,requiredErrorMessage:"",value:null!=m&&m.associateLocalUser?[dr.ASSOCIATE_LOCAL_USER]:[],type:"checkbox",children:[{label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.associateLocalUser.label"),value:dr.ASSOCIATE_LOCAL_USER}],"data-testid":"".concat(g,"-is-enable"),readOnly:v}),s.createElement(l.kW,null,E("console:develop.features.authenticationProvider.forms.jitProvisioning.associateLocalUser.hint")))),null!==b.identityProviderConfig&&void 0!==b.identityProviderConfig&&null!==(o=b.identityProviderConfig.jitProvisioningSettings)&&void 0!==o&&null!==(a=o.userstoreDomainField)&&void 0!==a&&a.show?s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},s.createElement(ge.gN,{name:dr.PROVISIONING_USER_STORE_DOMAIN_KEY,label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningUserStoreDomain.label"),required:!1,requiredErrorMessage:"",type:"dropdown",default:p&&p.length>0&&p[0].name,value:null==m?void 0:m.userstore,children:(T=[],p&&(null==p||p.map((function(e){T.push({key:p.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),T),disabled:!P,"data-testid":"".concat(g,"-user-store-domain"),readOnly:v}),s.createElement(l.kW,null,E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningUserStoreDomain.hint")))):s.createElement(s.Fragment,null),null!==b.identityProviderConfig&&void 0!==b.identityProviderConfig&&null!==(c=b.identityProviderConfig.jitProvisioningSettings)&&void 0!==c&&null!==(u=c.provisioningSchemeField)&&void 0!==u&&u.show?s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},s.createElement(s.Fragment,null,s.createElement(ge.gN,{required:!1,requiredErrorMessage:"",label:E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.label"),name:dr.PROVISIONING_SCHEME_TYPE_KEY,default:null!=m&&m.scheme?null==m?void 0:m.scheme:vr.vA.PROMPT_USERNAME_PASSWORD_CONSENT,type:"radio",children:C,disabled:!P,"data-testid":"".concat(g,"-scheme"),readOnly:v}),s.createElement(l.kW,null,E("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.hint"))))):s.createElement(s.Fragment,null),s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:7},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:h,disabled:h,"data-testid":"".concat(g,"-update-button")},E("common:update")))))))};gr.defaultProps={"data-testid":"idp-edit-jit-provisioning-settings"};var br=n(33614),Er=n(97860),Sr=n(5873);function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pr="idp-implicit-association-form",Ar=function(e){var t=e.onSubmit,n=e.isSubmitting,r=e.config,i=e["data-componentid"],c=(0,d.$)().t,u=(0,m.I0)(),f=Ir((0,s.useState)(r.isEnabled),2),p=f[0],v=f[1],h=Ir((0,s.useState)([]),2),y=h[0],g=h[1],b=Ir((0,s.useState)(r.lookupAttribute),2),E=b[0],S=b[1],I=Ir((0,s.useState)(!1),2),O=I[0],P=I[1];return(0,s.useEffect)((function(){var e;P(!0),(0,br.jp)(null).then((function(t){t.forEach((function(t){"http://wso2.org/oidc/claim"===t.dialectURI&&(e=t.id)})),e&&(0,br.ne)(e).then((function(e){g(e.map((function(e){return{content:s.createElement(Er.Z,{as:"h6",className:"header-with-icon"},s.createElement(Er.Z.Content,null,e.claimURI,s.createElement(Er.Z.Subheader,null,s.createElement(l.EK,{withBackground:!0},e.mappedLocalClaimURI)))),key:e.id,text:e.claimURI,value:e.mappedLocalClaimURI}}))),P(!1)})).catch((function(e){var t,n;u((0,a.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||c("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.description"),level:o.QU.ERROR,message:(null==e?void 0:e.message)||c("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.message")}))}))})).catch((function(e){var t,n;u((0,a.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||c("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.description"),level:o.QU.ERROR,message:(null==e?void 0:e.message)||c("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.message")}))}))}),[]),s.createElement(D.l0,{id:Pr,uncontrolledForm:!1,onSubmit:function(e){return t(function(e){return E.length>5&&u((0,a.V_)({description:c("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.description"),level:o.QU.WARNING,message:c("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.message")})),{isEnabled:e.isEnabled,lookupAttribute:E.length>0?E:[""]}}(e))},"data-testid":i},s.createElement(D.gN.Checkbox,{ariaLabel:"implicitAccountLinking",name:"isEnabled",label:c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.enable.label"),required:!1,disabled:!1,hint:c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.enable.hint"),width:16,listen:function(e){return v(e)},"data-testid":"".concat(i,"-enable-checkbox"),defaultValue:r.isEnabled}),s.createElement("div",{className:"ml-6"},s.createElement(l.xv,{size:13,muted:!p},c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.attributes.label")),s.createElement(Sr.Z,{className:"mb-3","data-componentid":"".concat(i,"-attributes"),placeholder:c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.attributes.placeholder"),fluid:!0,multiple:!0,search:!0,selection:!0,required:!1,value:E,onChange:function(e,t){var n=t.value;S(t.options.filter((function(e){if(n.includes(e.value.toString()))return e})).map((function(e){return e.value.toString()})))},loading:O,options:y,disabled:!p,error:p&&(E.length>3||0===E.length)}),s.createElement(l.kW,{disabled:!p},c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.attributes.hint"))),s.createElement(l.v0,{type:"warning",content:c("console:develop.features.idp.forms.advancedConfigs.implicitAssociation.warning"),hidden:!p}),s.createElement(D.gN.Button,{form:Pr,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:!1,loading:n,disabled:p&&(0===E.length||E.length>3),"data-componentid":"".concat(i,"-submit-button"),label:c("common:update")}))};function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Tr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(){wr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new L(r||[]);return i(a,"_invoke",{value:T(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,a)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Tr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=m;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Tr(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Lr(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Lr(o,r,i,a,l,"next",e)}function l(e){Lr(o,r,i,a,l,"throw",e)}a(void 0)}))}}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ar.defaultProps={"data-componentid":"trusted-token-issuer-advanced-settings"};var Dr=function(e){var t=e.editingIDP,n=e.isLoading,r=e.onDelete,i=e.onUpdate,c=e.isReadOnly,u=e.hideIdPLogoEditField,f=e.isSaml,p=e.isOidc,v=e.templateType,h=e.loader,y=e["data-testid"],g=(0,m.I0)(),b=(0,d.$)().t,E=Rr((0,s.useState)(!1),2),S=E[0],I=E[1],O=Rr((0,s.useState)(!1),2),P=O[0],A=O[1],T=Rr((0,s.useState)(void 0),2),C=T[0],_=T[1],L=Rr((0,s.useState)(!1),2),N=L[0],k=L[1],D=Rr((0,s.useState)(!0),2),M=D[0],j=D[1],x=Rr((0,s.useState)(!1),2),U=x[0],G=x[1],Z=(0,w.NR)(),F=Z.data,H=Z.isLoading,V=Z.error;(0,s.useEffect)((function(){V&&(0,ve.GL)(V)}),[V]);var q=function(e){G(!0),(0,w.wI)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t.id},e)).then((function(){g((0,a.V_)({description:b("console:develop.features.authenticationProvider.notifications.updateIDP.success.description"),level:o.QU.SUCCESS,message:b("console:develop.features.authenticationProvider.notifications.updateIDP.success.message")})),i(t.id)})).catch((function(e){(0,ve.fk)(e)})).finally((function(){G(!1)}))};return n||H?s.createElement(h,null):s.createElement(s.Fragment,null,s.createElement(ye,{isSaml:f,isOidc:p,templateType:v,hideIdPLogoEditField:u,editingIDP:t,onSubmit:q,onUpdate:i,idpList:F,"data-testid":"".concat(y,"-form"),isReadOnly:c,isSubmitting:U}),s.createElement(de.Z,{hidden:!0}),!pe.f.DELETING_FORBIDDEN_IDPS.includes(t.name)&&s.createElement(R.di,{when:R.TA.IDP_EDIT||R.TA.IDP_DELETE},s.createElement(l.v9,{sectionHeader:b("console:develop.features.authenticationProvider.dangerZoneGroup.header")},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.cN,{actionTitle:b("console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.actionTitle",{state:t.isEnabled?b("common:disable"):b("common:enable")}),header:b("console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.header",{state:t.isEnabled?b("common:disable"):b("common:enable")}),subheader:t.isEnabled?b("console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.subheader"):b("console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.subheader2"),onActionClick:void 0,toggle:{checked:t.isEnabled,onChange:function(e,n){j(!0),(0,w.yz)(t.id).then(function(){var e=Nr(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===t.count?q({isEnabled:n.checked}):g((0,a.V_)({description:b("console:develop.features.authenticationProvider.notifications.disableIDPWithConnectedApps.error.description"),level:o.QU.WARNING,message:b("console:develop.features.authenticationProvider.notifications.disableIDPWithConnectedApps.error.message")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){g((0,a.V_)({description:(null==e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:o.QU.ERROR,message:(null==e?void 0:e.message)||"Error Occurred."}))})).finally((function(){j(!1)}))}},"data-testid":"".concat(y,"-disable-idp-danger-zone")})),s.createElement(R.di,{when:R.TA.IDP_DELETE},s.createElement(l.cN,{actionTitle:b("console:develop.features.authenticationProvider.dangerZoneGroup.deleteIDP.actionTitle"),header:b("console:develop.features.authenticationProvider.dangerZoneGroup.deleteIDP.header"),subheader:b("console:develop.features.authenticationProvider.dangerZoneGroup.deleteIDP.subheader"),onActionClick:function(){j(!0),(0,w.yz)(t.id).then(function(){var e=Nr(wr().mark((function e(t){var n,r,i;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.count){e.next=4;break}I(!0),e.next=11;break;case 4:return k(!0),n=t.connectedApps.map((function(e){return(0,fe.sl)(e.appId)})),e.next=8,Promise.all(n.map((function(e){return e.catch((function(e){g((0,a.V_)({description:(null==e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:o.QU.ERROR,message:(null==e?void 0:e.message)||"Error Occurred."}))}))})));case 8:r=e.sent,i=r.map((function(e){return null==e?void 0:e.name})),_(i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){g((0,a.V_)({description:(null==e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:o.QU.ERROR,message:(null==e?void 0:e.message)||"Error Occurred."}))})).finally((function(){j(!1)}))},"data-testid":"".concat(y,"-delete-idp-danger-zone")})))),S&&s.createElement(l.cV,{primaryActionLoading:P,onClose:function(){return I(!1)},type:"negative",open:S,assertion:t.name,assertionHint:b("console:develop.features.authenticationProvider.confirmations.deleteIDP.assertionHint"),assertionType:"checkbox",primaryAction:b("common:confirm"),secondaryAction:b("common:cancel"),onSecondaryActionClick:function(){return I(!1)},onPrimaryActionClick:function(){return A(!0),void(0,w.Rd)(t.id).then((function(){g((0,a.V_)({description:b("console:develop.features.authenticationProvider.notifications.deleteIDP.success.description"),level:o.QU.SUCCESS,message:b("console:develop.features.authenticationProvider.notifications.deleteIDP.success.message")})),I(!1),r()})).catch((function(e){(0,ve.Xq)(e)})).finally((function(){A(!1)}))},"data-testid":"".concat(y,"-delete-idp-confirmation"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(y,"-delete-idp-confirmation")},b("console:develop.features.authenticationProvider.confirmations.deleteIDP.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(y,"-delete-idp-confirmation")},b("console:develop.features.authenticationProvider.confirmations.deleteIDP.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(y,"-delete-idp-confirmation")},b("console:develop.features.authenticationProvider.confirmations.deleteIDP.content"))),N&&s.createElement(l.cV,{onClose:function(){return k(!1)},type:"negative",open:N,secondaryAction:b("common:close"),onSecondaryActionClick:function(){return k(!1)},"data-testid":"".concat(y,"-delete-idp-confirmation"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(y,"-delete-idp-confirmation")},b("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(y,"-delete-idp-confirmation")},b("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(y,"-delete-idp-confirmation")},b("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.content"),s.createElement(de.Z,{hidden:!0}),s.createElement(me.Z,{ordered:!0,className:"ml-6"},M?s.createElement(l.pO,null):null==C?void 0:C.map((function(e,t){return s.createElement(me.Z.Item,{key:t},e)}))))))};Dr.defaultProps={"data-testid":"idp-edit-general-settings",hideIdPLogoEditField:!1};var Mr=n(46440),jr=n(26972),xr=n(71532),Ur=n(85978),Gr=n(56156),Zr=n(59945);function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Hr(){Hr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new L(r||[]);return i(a,"_invoke",{value:T(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,a)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Fr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=m;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Fr(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Vr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function qr(e){return function(e){if(Array.isArray(e))return $r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Wr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr=2048,Jr=["callbackUrl","callBackUrl"],ei=[ae.v.GOOGLE_OIDC_AUTHENTICATOR_ID,ae.v.MS_LIVE_AUTHENTICATOR_ID,ae.v.FACEBOOK_AUTHENTICATOR_ID,ae.v.GITHUB_AUTHENTICATOR_ID,ae.v.APPLE_AUTHENTICATOR_ID,ae.v.TRUSTED_TOKEN_TEMPLATE_ID,ae.v.SAML_AUTHENTICATOR_ID,ae.v.OIDC_AUTHENTICATOR_ID],ti=function(e){var t=e.connectionSettingsMetaData,n=e.identityProvider,i=e.isLoading,c=e.onUpdate,u=e.isReadOnly,f=e.loader,p=e["data-testid"],h=(0,m.I0)(),g=(0,r.Z)().UIConfig,E=(0,d.$)().t,S=null==g?void 0:g.connectionTemplates,I=Yr((0,s.useState)(!1),2),O=I[0],P=I[1],A=Yr((0,s.useState)(void 0),2),T=A[0],C=A[1],w=Yr((0,s.useState)([]),2),L=w[0],N=w[1],k=Yr((0,s.useState)(void 0),2),D=k[0],M=k[1],j=Yr((0,s.useState)(void 0),2),U=j[0],G=j[1],Z=Yr((0,s.useState)(void 0),2),F=Z[0],H=Z[1],V=Yr((0,s.useState)(!1),2),q=V[0],K=V[1],B=Yr((0,s.useState)(!1),2),z=B[0],Q=B[1],Y=Yr((0,s.useState)([]),2),$=Y[0],X=Y[1],J=Yr((0,s.useState)(void 0),1)[0],ee=Yr((0,s.useState)(void 0),2),te=ee[0],ne=ee[1],re=(0,m.v9)((function(e){return e.config})),ie=(0,s.useMemo)((function(){var e;return(null===b.identityProviderConfig||void 0===b.identityProviderConfig||null===(e=b.identityProviderConfig.templates)||void 0===e?void 0:e.expertMode)&&n.templateId===ae.v.EXPERT_MODE_TEMPLATE_ID}),[n,b.identityProviderConfig]);(0,s.useEffect)((function(){oe()}),[]),(0,s.useEffect)((function(){ye()}),[L]);var oe=function(){return(0,_.Q3)().then((function(e){var t=e.filter((function(e){return e.authenticatorId!==pe.f.LEGACY_SMS_OTP_AUTHENTICATOR_ID&&e.authenticatorId!==pe.f.LEGACY_EMAIL_OTP_AUTHENTICATOR_ID}));M(t)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.error.message")})):h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.genericError.description"),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.genericError.message")}))}))},le=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ce(e),!ie&&e.authenticatorId===ae.v.GOOGLE_OIDC_AUTHENTICATOR_ID){var r=e.properties,i=!0;r.forEach((function(e){"ClientId"!==e.key&&"ClientSecret"!==e.key||(0,Oe.Z)(e.value)&&(i=!1)})),e.isEnabled=i,Ee(r,"scopes")}(null==e?void 0:e.tags)&&delete e.tags,Q(!0),(0,_.$X)(n.id,e).then((function(){t&&h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.success.description"),level:o.QU.SUCCESS,message:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.success.message")})),c(n.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.error.message")})):h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.genericError.description"),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.genericError.message")}))})).finally((function(){Q(!1)}))},ce=function(e){var t,n,r;if(!!(null==e||null===(t=e.properties)||void 0===t||!t.find((function(e){return Jr.includes(null==e?void 0:e.key)})))){var i,o,a=null==L?void 0:L.find((function(t){return(null==e?void 0:e.authenticatorId)===(null==t?void 0:t.id)})),l=null==a||null===(n=a.data)||void 0===n||null===(r=n.properties)||void 0===r?void 0:r.findIndex((function(e){return Jr.includes(null==e?void 0:e.key)}));if(l>=0)null==e||null===(i=e.properties)||void 0===i||i.push(null==a||null===(o=a.data)||void 0===o?void 0:o.properties[l])}},ue=function(e){return new Promise((function(t){(0,_.pD)(n.id,e).then((function(n){(0,_.go)(e).then((function(r){t({data:n,id:e,meta:r})})).catch((function(e){(0,ve.Rw)(e)}))})).catch((function(e){!function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.error.message")})):h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.genericError.description"),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.genericError.message")}))}(e)}))}))};function se(){var e;return e=Hr().mark((function e(){var t,r,i,o;return Hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=Vr(n.federatedAuthenticators.authenticators),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=13;break}return o=i.value,e.t0=t,e.next=9,ue(o.authenticatorId);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),r.e(e.t2);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})),se=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Qr(o,r,i,a,l,"next",e)}function l(e){Qr(o,r,i,a,l,"throw",e)}a(void 0)}))},se.apply(this,arguments)}(0,s.useEffect)((function(){var e;(0,Oe.Z)(null===(e=n.federatedAuthenticators)||void 0===e?void 0:e.authenticators)||(ne(!0),N([]),function(){return se.apply(this,arguments)}().then((function(e){var t=e[0].data;if(ie||(t.isEnabled=!0),!n.federatedAuthenticators.defaultAuthenticatorId&&n.federatedAuthenticators.authenticators.length>0){var r;t.isDefault=!0;var i=Boolean(null==n||null===(r=n.federatedAuthenticators)||void 0===r?void 0:r.defaultAuthenticatorId);le(t,i)}N(e)})).finally((function(){return ne(!1)})))}),[null==n?void 0:n.federatedAuthenticators]);var de,me=function(e,t,n){var r=L.find((function(e){return e.id===n})).data;r.isDefault=t.checked,le(r)},fe=function(e,t,r){var i=L.find((function(e){return e.id===r})).data;i.isDefault&&!t.checked?(h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.disableAuthenticator.error.description"),level:o.QU.WARNING,message:E("console:develop.features.authenticationProvider.notifications.disableAuthenticator.error.message")})),c(n.id)):(i.isEnabled=t.checked,le(i))},he=function(e,t){if(t){var n=L.find((function(e){return e.id===t}));n&&(C(n.data),P(!0))}},ye=function(){var e,t,n,r=null==L?void 0:L.map((function(e){return e.id})),i=null==S?void 0:S.filter((function(e){var t,n,i,o;return(null==e||null===(t=e.idp)||void 0===t||null===(n=t.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)&&!(null!=r&&r.includes(null==e||null===(i=e.idp)||void 0===i||null===(o=i.federatedAuthenticators)||void 0===o?void 0:o.defaultAuthenticatorId))}));null==i||i.sort((function(e,t){return(null==e?void 0:e.displayOrder)>(null==t?void 0:t.displayOrder)?1:-1}));var o=(0,jr.Z)((0,Gr.e)(),"authenticatorId"),a=(0,Mr.Z)(D);a=null===(n=a=null===(t=a=null===(e=a)||void 0===e?void 0:e.filter((function(e){return!ei.includes(e.authenticatorId)})))||void 0===t?void 0:t.map((function(e){return Br(Br({},e),o[null==e?void 0:e.authenticatorId])})))||void 0===n?void 0:n.filter((function(e){return!r.includes(null==e?void 0:e.authenticatorId)&&(null==e?void 0:e.authenticatorId)!==ae.v.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID})),H(a),G(i)},ge=function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.isDefault},be=function(e){var t,n,r,i,o=ge(e);return[(null==L?void 0:L.length)>1&&{defaultChecked:o,disabled:(null===(t=e.data)||void 0===t?void 0:t.isDefault)||!(null!==(n=e.data)&&void 0!==n&&n.isEnabled),label:E(o?"console:develop.features.authenticationProvider.forms.authenticatorAccordion.default.0":"console:develop.features.authenticationProvider.forms.authenticatorAccordion.default.1"),onChange:me,type:"checkbox"},(null==L?void 0:L.length)>1&&{defaultChecked:null===(r=e.data)||void 0===r?void 0:r.isEnabled,disabled:o,label:E(null!==(i=e.data)&&void 0!==i&&i.isEnabled?"console:develop.features.authenticationProvider.forms.authenticatorAccordion.enable.0":"console:develop.features.authenticationProvider.forms.authenticatorAccordion.enable.1"),onChange:fe,type:"toggle"}]},Ee=function(e,t){var n=e.find((function(e){return e.key===t})),r=e.indexOf(n);r>=0&&e.splice(r,1)},Se=function(e,t){if(t){var n=qr($);if(n.includes(t.accordionIndex)){var r=n.indexOf(t.accordionIndex);n.splice(r,1)}else n.push(t.accordionIndex);X(n)}},Ie=function(){ye(),K(!0)};return i||te?s.createElement(f,null):s.createElement("div",{className:"authentication-section"},s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:16},s.createElement(l.pJ,{padded:"very"},function(){if(L.length>0){var e,r;if(ie)return c=function(e){var t=(0,Gr.e)().find((function(t){return(null==t?void 0:t.authenticatorId)===(null==e?void 0:e.id)?t:null}));return null!=t&&t.icon?t.icon:(0,Ur.xs)().default},d=function(e){var t,n,r=(0,Gr.e)().find((function(t){return(null==t?void 0:t.authenticatorId)===(null==e?void 0:e.id)?t:null}));return null!=r&&r.displayName?r.displayName:(null===(t=e.meta)||void 0===t?void 0:t.displayName)||(null==e||null===(n=e.data)||void 0===n?void 0:n.name)||e.id},s.createElement(y.Z,null,(null==L?void 0:L.length)>1&&s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:16,textAlign:"right"},s.createElement(l.KM,{onClick:Ie,disabled:ae.v.SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP?(0,Oe.Z)(U)&&(0,Oe.Z)(F):(0,Oe.Z)(F),loading:J,"data-testid":"".concat(p,"-add-authenticator-button")},s.createElement(x.Z,{name:"add"}),E("console:develop.features.authenticationProvider.buttons.addAuthenticator")))),s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:16},L.map((function(e,r){var i,o;return s.createElement(xr.Us,{key:r,globalActions:[{disabled:(null==L?void 0:L.length)>1&&ge(e),icon:"trash alternate",onClick:he,popoverText:"Remove Authenticator",type:"icon"}],authenticators:[{actions:be(e),content:e&&s.createElement(cr,{connectionSettingsMetaData:t,mode:ze.Pk.CREATE,authenticator:e,metadata:e.meta,showCustomProperties:e.id!==ae.v.GITHUB_AUTHENTICATOR_ID,initialValues:e.data,onSubmit:le,type:e.id,"data-testid":"".concat(p,"-").concat(null===(i=e.meta)||void 0===i?void 0:i.name,"-content"),isReadOnly:u,isSubmitting:z,templateId:n.templateId}),hideChevron:(null==L?void 0:L.length)<=1||(0,Oe.Z)(null===(o=e.meta)||void 0===o?void 0:o.properties),icon:{icon:c(e)},id:null==e?void 0:e.id,title:d(e)}],accordionActiveIndexes:(null==L?void 0:L.length)>1?$:[0],accordionIndex:r,handleAccordionOnClick:Se,"data-testid":"".concat(p,"-accordion")})})))));var i,o=L.find((function(e){return n.federatedAuthenticators.defaultAuthenticatorId===e.id}));if(!o)return;if(o.id===ae.v.OIDC_AUTHENTICATOR_ID)if(o.meta.properties.map((function(e){"ClientId"===e.key?(e.displayName="Client ID",e.description="The client identifier value of the identity provider.",e.maxLength=100):"ClientSecret"===e.key?(e.displayName="Client secret",e.description="The client secret value of the identity provider.",e.maxLength=100):"callbackUrl"===e.key?(e.displayName="Authorized redirect URL",e.description="The ".concat(re.ui.productName," URL to which the user needs to be redirected\n                            after completing the authentication at the identity provider. The\n                            identity provider needs to send the authorization code to this URL upon\n                            successful authentication."),e.readOnly=!0):"OAuth2AuthzEPUrl"===e.key?(e.displayName="Authorization endpoint URL",e.description="The standard authorization endpoint URL obtained from the identity provider.",e.maxLength=Xr):"OAuth2TokenEPUrl"===e.key?(e.displayName="Token endpoint URL",e.description="The standard token endpoint URL obtained from the identity provider.",e.maxLength=Xr):"UserInfoUrl"===e.key?(e.displayName="User info endpoint URL",e.description="The URL corresponding to the userinfo endpoint.",e.maxLength=Xr):"commonAuthQueryParams"===e.key?(e.displayName="Additional query parameters",e.description="These  will be sent to the identity provider as query parameters in the authentication request. \nE.g., loginHint=hint1"):"IsBasicAuthEnabled"===e.key&&(e.displayName="Enable HTTP basic authentication for client authentication",e.description="Specify whether to enable HTTP basic authentication. Unless, client credentials will be sent in the request body")})),Ee(o.meta.properties,"IsUserIdInClaims"),null===(i=o.meta.properties)||void 0===i||!i.find((function(e){return"OIDCLogoutEPUrl"===e.key}))){o.data.properties.push({key:"OIDCLogoutEPUrl"});var a={description:"The URL of the identity provider to which\n                         ".concat(re.ui.productName," will send session\n                            invalidation requests."),displayName:"Logout URL",displayOrder:7,isConfidential:!1,isMandatory:!1,key:"OIDCLogoutEPUrl",options:[],subProperties:[],type:"URL"};o.meta.properties.push(a)}return s.createElement(cr,{connectionSettingsMetaData:t,mode:ze.Pk.EDIT,authenticator:o,metadata:o.meta,showCustomProperties:o.id!==ae.v.GITHUB_AUTHENTICATOR_ID,initialValues:o.data,onSubmit:le,type:null===(e=o.meta)||void 0===e?void 0:e.authenticatorId,"data-testid":"".concat(p,"-").concat(null===(r=o.meta)||void 0===r?void 0:r.name,"-content"),isReadOnly:u,isSubmitting:z,templateId:n.templateId})}return s.createElement(l.$J,{action:s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.KM,{onClick:Ie,loading:J,"data-testid":"".concat(p,"-add-authenticator-button")},s.createElement(x.Z,{name:"add"}),E("console:develop.features.authenticationProvider.buttons.addAuthenticator"))),image:(0,v.jF)().newList,imageSize:"tiny",title:E("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.title"),subtitle:[E("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.subtitles.0"),E("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.subtitles.1"),E("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.subtitles.2")],"data-testid":"".concat(p,"-empty-placeholder")});var c,d}())))),T&&s.createElement(l.cV,{onClose:function(){return P(!1)},type:"negative",open:O,assertion:null==T?void 0:T.name,assertionHint:s.createElement("p",null,s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.assertionHint",tOptions:{name:null==T?void 0:T.name}},"Please type ",s.createElement("strong",null,null==T?void 0:T.name)," to confirm.")),assertionType:"input",primaryAction:E("common:confirm"),secondaryAction:E("common:cancel"),onSecondaryActionClick:function(){return P(!1)},onPrimaryActionClick:function(){return function(e){var t=[],r=L.find((function(t){return t.id===e}));L.map((function(e){e.id!==r.id&&t.push(e.data)}));var i={authenticators:t,defaultAuthenticatorId:0!==(null==t?void 0:t.length)?n.federatedAuthenticators.defaultAuthenticatorId:""};(0,_.Fv)(i,n.id).then((function(){h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.success.description"),level:o.QU.SUCCESS,message:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.success.message")})),c(n.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.error.message")})):h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.genericError.description"),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.genericError.message")}))})),C(void 0),P(!1)}(T.authenticatorId)},"data-testid":"".concat(p,"-authenticator-delete-confirmation"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(p,"-authenticator-delete-confirmation")},E("console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(p,"-authenticator-delete-confirmation")},E("console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(p,"-authenticator-delete-confirmation")},E("console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.content"))),q&&s.createElement(Zr.P,{title:E("console:develop.features.authenticationProvider.modals.addAuthenticator.title"),subTitle:E("console:develop.features.authenticationProvider.modals.addAuthenticator.subTitle",{idpName:n.name}),closeWizard:function(){K(!1),N([]),c(n.id)},manualModeOptions:F,availableTemplates:ae.v.SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP&&U,idpId:n.id,isDefaultAuthenticatorAvailable:!(null==n||null===(de=n.federatedAuthenticators)||void 0===de||!de.defaultAuthenticatorId),"data-testid":"".concat(p,"-authenticator-create-wizard")}))};ti.defaultProps={"data-testid":"idp-edit-authenticator-settings"};var ni=n(51558),ri=n(23587),ii=n(16029),oi=n(49238);function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ai(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ai(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function si(e){return function(e){if(Array.isArray(e))return fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||mi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){if(e){if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pi=function(e){var t=e.idpId,n=e.idpRoles,r=e.isReadOnly,i=e.onUpdate,c=e["data-testid"],u=di((0,s.useState)(void 0),2),p=u[0],v=u[1],h=di((0,s.useState)(void 0),2),g=h[0],b=h[1],E=di((0,s.useState)(void 0),2),S=E[0],I=E[1],O=di((0,s.useState)(!1),2),P=O[0],A=O[1],T=(0,m.I0)(),C=(0,pr.z)().isSuperOrganization,_=(0,d.$)().t;(0,s.useEffect)((function(){C()&&((0,oi.Sd)(null).then((function(e){if(200===e.status){var t,n=e.data;I(null==n||null===(t=n.Resources)||void 0===t?void 0:t.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})))}})).catch((function(e){(0,ve.A0)(e)})),b(void 0===n.outboundProvisioningRoles?[]:n.outboundProvisioningRoles))}),[]);return s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:8},s.createElement(l.X6,{as:"h5"},_("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.heading")))),s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:8},s.createElement(ii.Z,{className:"outbound-provisioning-roles role-select-dropdown"},s.createElement(ii.Z.Select,{options:null==S?void 0:S.map((function(e){return{key:e.id,text:e.displayName,value:e.displayName}})),value:p,placeholder:_("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.placeHolder"),onChange:function(e,t){var n;(0,Oe.Z)(null==t||null===(n=t.value)||void 0===n?void 0:n.toString())||v(t.value.toString())},search:!0,label:_("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.label"),"data-testid":"".concat(c,"-role-select-dropdown"),readOnly:r}),s.createElement(l.GI,{trigger:s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{onClick:function(e){return function(e){e.preventDefault(),(0,Oe.Z)(p)||((0,Oe.Z)(g.find((function(e){return e===p})))&&b([].concat(si(g),[p])),v(""))}(e)},icon:"add",disabled:!1,className:"inline"})),position:"top center",content:_("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.popup.content"),inverted:!0,"data-testid":"".concat(c,"-add-button")})),s.createElement(l.kW,null,_("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.hint")),g&&(null==g?void 0:g.map((function(e,t){return s.createElement(R.di,{key:t,when:R.TA.IDP_EDIT},s.createElement(f.Z,null,e,s.createElement(x.Z,{name:"delete",onClick:function(){return t=e,void((0,Oe.Z)(t)||b((0,ni.Z)(g,(function(e){return!(0,ri.Z)(t,e)}))));var t},"data-testid":"".concat(c,"-delete-button")})))}))))),s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:8},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{primary:!0,size:"small",loading:P,disabled:P,onClick:function(){var e;void 0!==g&&(e=g,A(!0),(0,w.Am)(t,ci(ci({},n),{},{outboundProvisioningRoles:e})).then((function(){T((0,a.V_)({description:_("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.success.description"),level:o.QU.SUCCESS,message:_("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.success.message")})),i(t)})).catch((function(e){(0,ve.St)(e)})).finally((function(){A(!1)})))},"data-testid":"".concat(c,"-update-button")},_("common:update"))))))};pi.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings-roles"};var vi=n(73479),hi=n(5702),yi=n(62170),gi=n(43554);function bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Si=function(e){var t=e.initialSelection,n=e.onSubmit,r=e.triggerSubmit,i=e.connectorList,o=e["data-testid"],a=(0,d.$)().t,c=(0,s.useMemo)((function(){return null==i?void 0:i.find((function(e){return t===e.connectorId}))}),[i,t]),u=bi((0,s.useState)(c),2),m=u[0],f=u[1];return s.createElement(ge.Es,{onSubmit:function(){n({connectorId:null==m?void 0:m.connectorId})},submitState:r},s.createElement(l.X6,{as:"h4"},a("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorSelection.defaultSetup.title"),s.createElement(l.X6,{subHeading:!0,as:"h6"},a("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorSelection.defaultSetup.subTitle"))),s.createElement(gi.Z.Group,{className:"authenticators-grid mt-3"},null==i?void 0:i.map((function(e,t){var n;return s.createElement(gi.Z,{key:t,onClick:function(){return function(e){f(e)}(e)},selected:m?(null==m?void 0:m.connectorId)===(null==e?void 0:e.connectorId):0===t,className:(null==m?void 0:m.connectorId)===(null==e?void 0:e.connectorId)?"selection-info-card selected":"selection-info-card",size:"small","data-testid":"".concat(o,"-connector-").concat(t)},s.createElement(gi.Z.Content,{className:"p-4"},s.createElement(l.dn,{icon:e.icon,size:"micro",floated:"left",shape:"square",className:"theme-icon hover-rounded card-image",inline:!0,transparent:!0}),s.createElement(gi.Z.Header,{textAlign:"left",className:"card-header ellipsis pt-1"},null!==(n=e.displayName)&&void 0!==n?n:e.name),s.createElement(gi.Z.Description,{className:"card-description"},e.description)))}))))};function Ii(e){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(e)}function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ii(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ii(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ti=function(e){var t,n,r=e.metadata,i=e.initialValues,o=e.isLoading,a=e.onSubmit,c=e.triggerSubmit,u=e["data-testid"];return o?s.createElement(l.pO,null):s.createElement(sr,{mode:ze.Pk.EDIT,metadata:r,initialValues:null==i||null===(t=i.provisioning)||void 0===t||null===(n=t.outboundConnectors)||void 0===n?void 0:n.connectors[0],onSubmit:function(e){a(Pi(Pi({},i),{},{provisioning:Pi(Pi({},null==i?void 0:i.provisioning),{},{outboundConnectors:{connectors:[Pi(Pi({},e),{},{isDefault:!0})],defaultConnectorId:null==e?void 0:e.connectorId}})}))},triggerSubmit:c,enableSubmitButton:!1,"data-testid":u})},Ci=n(53478),_i=n(43991);const wi=function(){var e={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.f2.GET,url:v.h.getState().config.endpoints.identityProviders+"/meta/outbound-provisioning-connectors"},t=(0,_i.Z)(e),n=t.data,r=t.error,i=t.isValidating,a=t.mutate;return{data:n,error:r,isLoading:t.isLoading,isValidating:i,mutate:a}};function Li(e){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(e)}function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ki(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Li(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Li(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ji;!function(e){e.CONNECTOR_SELECTION="ConnectorSelection",e.CONNECTOR_DETAILS="ConnectorDetails",e.SUMMARY="summary"}(ji||(ji={}));var xi=function(e){var t,n,r,i,c=e.identityProvider,u=e.closeWizard,f=e.currentStep,p=e.onUpdate,v=e["data-testid"],h=(0,d.$)().t,g=(0,m.I0)(),b=Di((0,ge.cC)(),2),E=b[0],S=b[1],I=Di((0,ge.cC)(),2),O=I[0],P=I[1],A=Di((0,ge.cC)(),2),T=A[0],C=A[1],_=Di((0,s.useState)(void 0),2),L=_[0],N=_[1],R=Di((0,s.useState)(f),2),k=R[0],D=R[1],M=Di((0,s.useState)(void 0),2),j=M[0],G=M[1],Z=Di((0,s.useState)(void 0),2),F=Z[0],H=Z[1],V=Di((0,s.useState)(void 0),2),q=V[0],K=V[1],B=Di((0,s.useState)(!1),2),z=B[0],Q=B[1],Y=Di((0,s.useState)(void 0),2),W=Y[0],$=Y[1],X=Di((0,s.useState)(!1),2),J=X[0],ee=X[1],te=Di((0,l.IK)(),3),ne=te[0],re=te[1],ie=te[2],oe=wi(),ae=oe.data,le=oe.isLoading,ce=oe.error,ue=(0,s.useMemo)((function(){return le||!ae?[]:ae.filter((function(e){return e.connectorId!==pe.f.DEPRECATED_SCIM1_PROVISIONING_CONNECTOR_ID})).map((function(e){var t=(0,hi.j)().find((function(t){return t.connectorId===e.connectorId}));return Ri(Ri({},e),t)}))}),[ae,le]);(0,s.useEffect)((function(){var e,t;ce&&(null!==(e=ce.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.description?re({description:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.error.description",{description:ce.response.data.description}),level:o.QU.ERROR,message:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.error.message")}):re({description:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.genericError.description"),level:o.QU.ERROR,message:h("authenticationProvider:notifications.getOutboundProvisioningConnectorsList.genericError.message")}))}),[ce]),(0,s.useEffect)((function(){ae&&Array.isArray(ae)&&ae.length>0&&G(ki({},ji.CONNECTOR_SELECTION,{connectorId:ae[0].connectorId}))}),[ae]),(0,s.useEffect)((function(){void 0!==L&&(D(k-1),N(void 0))}),[L]),(0,s.useEffect)((function(){var e,t,n,r,i;if(void 0!==q){var l=Ri({},q);delete(l=Ri(Ri({},l),{},{connectorId:null===(e=j[ji.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,properties:null===(t=j[ji.CONNECTOR_DETAILS])||void 0===t||null===(n=t.provisioning)||void 0===n||null===(r=n.outboundConnectors)||void 0===r||null===(i=r.connectors[0])||void 0===i?void 0:i.properties})).displayName,(0,w.Wm)(c.id,l).then((function(){g((0,a.V_)({description:h("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.description"),level:o.QU.SUCCESS,message:h("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.message")})),p(c.id)})).catch((function(e){(0,ve.hN)(e)}))}}),[q]),(0,s.useEffect)((function(){var e;if(j||F){Q(!0);var t=null===(e=j[ji.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,n=null==ae?void 0:ae.find((function(e){return e.connectorId===t}));n=Ri(Ri({},n),{},{isEnabled:!0}),$(n),(0,w.PL)(t).then((function(e){H(e)})).catch((function(e){(0,ve.x8)(e)})).finally((function(){Q(!1)}))}}),[j&&(null===(t=j[ji.CONNECTOR_SELECTION])||void 0===t?void 0:t.connectorId)]),(0,s.useEffect)((function(){var e;if(j||W){var t=null===(e=j[ji.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,n=null==ae?void 0:ae.find((function(e){return e.connectorId===t}));n=Ri(Ri({},n),{},{isEnabled:!0}),$(n)}}),[j&&(null===(n=j[ji.CONNECTOR_SELECTION])||void 0===n?void 0:n.connectorId)]);var se=function(){switch(k){case 0:S();break;case 1:P();break;case 2:ee(!0),C()}},de=function(e,t){D(k+1),G(Ri(Ri({},j),{},ki({},t,e)))},me=[{content:s.createElement(Si,{initialSelection:j&&(null===(r=j[ji.CONNECTOR_SELECTION])||void 0===r?void 0:r.connectorId),triggerSubmit:E,onSubmit:function(e){de(e,ji.CONNECTOR_SELECTION)},connectorList:ue,"data-testid":"".concat(v,"-connector-selection")}),icon:(0,Ur.df)().connectorSelection,title:h("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorSelection.title")},{content:s.createElement(Ti,{metadata:F,isLoading:z,initialValues:null!==(i=j&&j[ji.CONNECTOR_DETAILS])&&void 0!==i?i:c,onSubmit:function(e){return de(e,ji.CONNECTOR_DETAILS)},triggerSubmit:O,defaultConnector:W,"data-testid":"".concat(v,"-provisioning-settings")}),icon:(0,Ur.df)().connectorDetails,title:h("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorConfiguration.title")},{content:s.createElement(Ci.v,{provisioningConnectorMetadata:F,authenticatorMetadata:void 0,triggerSubmit:T,identityProvider:function(){if(j){for(var e=Ri({},j),t={},n=0,r=Object.values(e);n<r.length;n++){var i=r[n];t=Ri(Ri({},t),i)}return(0,yi.Z)((0,Mr.Z)(t))}}(),onSubmit:function(){var e;(0,w.PL)(null===(e=j[ji.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId).then((function(e){K(e)})).finally((function(){ee(!1),u()}))},"data-testid":"".concat(v,"-summary")}),icon:(0,Ur.df)().summary,title:h("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.summary.title")}];return s.createElement(U.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:u,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(v,"-modal")},s.createElement(U.Z.Header,{className:"wizard-header","data-testid":"".concat(v,"-modal-header")},h("console:develop.features.authenticationProvider.modals.addProvisioningConnector.title"),s.createElement(l.X6,{as:"h6"},h("console:develop.features.authenticationProvider.modals.addProvisioningConnector.subTitle"))),s.createElement(U.Z.Content,{className:"steps-container","data-testid":"".concat(v,"-modal-content-1")},s.createElement(l.Rg.Group,{header:h("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.header"),current:k},me.map((function(e,t){return s.createElement(l.Rg.Step,{key:t,icon:e.icon,title:e.title})})))),s.createElement(U.Z.Content,{className:"content-container",scrolling:!0,"data-testid":"".concat(v,"-modal-content-2")},ne&&ie,me[k].content),s.createElement(U.Z.Actions,{"data-testid":"".concat(v,"-modal-actions")},s.createElement(y.Z,null,s.createElement(y.Z.Row,{column:1},s.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return u()},"data-testid":"".concat(v,"-modal-cancel-button")},h("common:cancel"))),s.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},k<me.length-1&&s.createElement(l.KM,{floated:"right",onClick:se,loading:z,disabled:z,"data-testid":"".concat(v,"-modal-next-button")},h("console:develop.features.authenticationProvider.wizards.buttons.next"),s.createElement(x.Z,{name:"arrow right"})),k===me.length-1&&s.createElement(l.KM,{floated:"right",onClick:se,loading:J,disabled:J,"data-testid":"".concat(v,"-modal-finish-button")},h("console:develop.features.authenticationProvider.wizards.buttons.finish")),k>0&&s.createElement(l.Qj,{floated:"right",onClick:function(){N(k)},"data-testid":"".concat(v,"-modal-previous-button")},s.createElement(x.Z,{name:"arrow left"}),h("console:develop.features.authenticationProvider.wizards.buttons.previous")))))))};function Ui(e){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(e)}function Gi(){Gi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new L(r||[]);return i(a,"_invoke",{value:T(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,a)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ui(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=m;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ui(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Zi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Fi(e){return function(e){if(Array.isArray(e))return Ki(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||qi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){if(e){if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xi.defaultProps={currentStep:0,"data-testid":"idp-edit-provisioning-connector-create-wizard"};var Bi=function(e){var t=e.identityProvider,n=e.outboundConnectors,r=e.isLoading,i=e.onUpdate,c=e.isReadOnly,u=e["data-testid"],f=(0,m.I0)(),p=(0,d.$)().t,h=Vi((0,s.useState)(!1),2),g=h[0],b=h[1],E=Vi((0,s.useState)(!1),2),S=E[0],I=E[1],O=Vi((0,s.useState)([]),2),P=O[0],A=O[1],T=Vi((0,s.useState)(void 0),2),C=T[0],_=T[1],L=Vi((0,s.useState)([]),2),N=L[0],k=L[1];(0,s.useEffect)((function(){A([]),function(){return M.apply(this,arguments)}().then((function(e){A(e)}))}),[t]);var D=function(e){return new Promise((function(n){(0,w.T_)(t.id,e).then((function(t){(0,w.PL)(e).then((function(r){var i;n({data:t,id:e,localMeta:null===(i=(0,hi.j)())||void 0===i?void 0:i.find((function(t){return t.connectorId===e})),meta:r})})).catch((function(e){(0,ve.x8)(e)}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?f((0,a.V_)({description:p("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:p("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.error.message")})):f((0,a.V_)({description:p("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.genericError.description"),level:o.QU.ERROR,message:p("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.genericError.message")}))}))}))};function M(){var e;return e=Gi().mark((function e(){var n,r,i,o;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Zi(t.provisioning.outboundConnectors.connectors),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=13;break}return o=i.value,e.t0=n,e.next=9,D(o.connectorId);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),r.e(e.t2);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})),M=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Hi(o,r,i,a,l,"next",e)}function l(e){Hi(o,r,i,a,l,"throw",e)}a(void 0)}))},M.apply(this,arguments)}var U=function(e){(0,w.Wm)(t.id,e).then((function(){f((0,a.V_)({description:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.description"),level:o.QU.SUCCESS,message:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.message")})),i(t.id)})).catch((function(e){(0,ve.hN)(e)}))},G=function(e,t){if(t){var n=P.find((function(e){return e.id==t}));n&&(_(n),b(!0))}},Z=function(e,t,n){var r=P.find((function(e){return e.id===n})).data;r.isEnabled=t.checked,U(r)},F=function(e){var t,n;return[{defaultChecked:null===(t=e.data)||void 0===t?void 0:t.isEnabled,label:p(null!==(n=e.data)&&void 0!==n&&n.isEnabled?"console:develop.features.authenticationProvider.forms.outboundConnectorAccordion.enable.0":"console:develop.features.authenticationProvider.forms.outboundConnectorAccordion.enable.1"),onChange:Z,type:"toggle"}]},H=function(e,t){if(t){var n=Fi(N);if(n.includes(t.accordionIndex)){var r=n.indexOf(t.accordionIndex);n.splice(r,1)}else n.push(t.accordionIndex);k(n)}};return s.createElement(l.pJ,{padded:"very"},s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:8},s.createElement(l.X6,{as:"h4"},p("console:develop.features.idp.forms.outboundProvisioningTitle")))),n.connectors.length>0?r?s.createElement(l.pO,null):s.createElement("div",{className:"default-provisioning-connector-section"},s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,null,s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.KM,{floated:"right",onClick:function(){return I(!0)},"data-testid":"".concat(u,"-add-connector-button")},s.createElement(x.Z,{name:"add"}),p("console:develop.features.authenticationProvider.buttons.addConnector"))))),s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,null,P.filter((function(e){return e.id!==pe.f.DEPRECATED_SCIM1_PROVISIONING_CONNECTOR_ID})).map((function(e,t){var n,r,i,o,a,l,d;return s.createElement(v.Us,{key:t,globalActions:[{disabled:null===(n=e.data)||void 0===n?void 0:n.isEnabled,icon:"trash alternate",onClick:G,type:"icon"}],authenticators:[{actions:F(e),content:s.createElement(sr,{mode:ze.Pk.EDIT,metadata:e.meta,initialValues:e.data,onSubmit:U,type:null===(r=e.meta)||void 0===r?void 0:r.name,"data-testid":"".concat(u,"-").concat(null===(i=e.meta)||void 0===i?void 0:i.name,"-content"),isReadOnly:c}),icon:{icon:null==e||null===(o=e.localMeta)||void 0===o?void 0:o.icon,verticalAlign:"middle"},id:null==e?void 0:e.id,title:null!==(a=null==e||null===(l=e.localMeta)||void 0===l?void 0:l.displayName)&&void 0!==a?a:null==e||null===(d=e.meta)||void 0===d?void 0:d.displayName,titleOptions:{flex:!0}}],"data-testid":"".concat(u,"-accordion"),accordionActiveIndexes:N,accordionIndex:t,handleAccordionOnClick:H})})))))):s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:8},s.createElement(de.Z,{hidden:!0}),s.createElement(j.Z,null,s.createElement(l.$J,{title:p("console:develop.features.authenticationProvider.placeHolders.emptyConnectorList.title"),subtitle:[p("console:develop.features.authenticationProvider.placeHolders.emptyConnectorList.subtitles.0"),p("console:develop.features.authenticationProvider.placeHolders.emptyConnectorList.subtitles.1")],imageSize:"tiny",action:s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.KM,{onClick:function(){return I(!0)},"data-testid":"".concat(u,"-add-connector-button")},s.createElement(x.Z,{name:"add"}),p("console:develop.features.authenticationProvider.buttons.addConnector"))),"data-testid":"".concat(u,"-empty-placeholder")})),s.createElement(de.Z,{hidden:!0})))),C&&s.createElement(l.cV,{onClose:function(){return b(!1)},type:"negative",open:g,assertion:null==C?void 0:C.meta.name,assertionHint:s.createElement("p",null,s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.confirmations.deleteConnector.assertionHint",tOptions:{name:null==C?void 0:C.meta.name}},"Please type ",s.createElement("strong",null,null==C?void 0:C.meta.name)," to confirm.")),assertionType:"input",primaryAction:p("common:confirm"),secondaryAction:p("common:cancel"),onSecondaryActionClick:function(){return b(!1)},onPrimaryActionClick:function(){return function(e){var n=[];P.map((function(t){t.id!==e.id&&n.push(t.data)}));var r={connectors:n,defaultConnectorId:""};(0,w.ez)(r,t.id).then((function(){f((0,a.V_)({description:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.success.description"),level:o.QU.SUCCESS,message:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.success.message")})),i(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?f((0,a.V_)({description:e.response.data.description,level:o.QU.ERROR,message:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.error.message")})):f((0,a.V_)({description:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.genericError.description"),level:o.QU.ERROR,message:p("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.genericError.message")}))})),_(void 0),b(!1)}(C)},"data-testid":"".concat(u,"-authenticator-delete-confirmation"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(u,"-authenticator-delete-confirmation")},p("console:develop.features.authenticationProvider.confirmations.deleteConnector.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(u,"-authenticator-delete-confirmation")},p("console:develop.features.authenticationProvider.confirmations.deleteConnector.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(u,"-authenticator-delete-confirmation")},p("console:develop.features.authenticationProvider.confirmations.deleteConnector.content"))),S&&s.createElement(xi,{closeWizard:function(){return I(!1)},updateIdentityProvider:i,identityProvider:t,onUpdate:i,"data-testid":"".concat(u,"-connector-create-wizard")}),null!=t&&t.roles&&!r?s.createElement(vi.Yr,null,s.createElement(pi,{idpRoles:null==t?void 0:t.roles,idpId:null==t?void 0:t.id,"data-testid":"".concat(u,"-roles"),isReadOnly:c,onUpdate:i})):s.createElement(l.pO,null))};function zi(e){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zi(e)}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Bi.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings"};var Xi=function(e){var t=e.editingIDP,n=e.advancedConfigurations,r=e.onUpdate,i=e.isReadOnly,c=e.isLoading,u=e.loader,f=e["data-testid"],p=e.templateType,v=e.implicitAssociationConfig,h=(0,m.I0)(),y=Wi((0,s.useState)(!1),2),g=y[0],b=y[1],E=(0,d.$)().t;return c?s.createElement(u,null):s.createElement(l.pJ,{padded:"very",className:"advanced-configuration-section"},p===S.bQ.IDP_TEMPLATE_IDS.TRUSTED_TOKEN_ISSUER?s.createElement(Ar,{config:v,onSubmit:function(e){b(!0),(0,w.Gj)(t.id,e).then((function(){h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateIDP.success.description"),level:o.QU.SUCCESS,message:E("console:develop.features.authenticationProvider.notifications.updateIDP.success.message")})),r(t.id)})).catch((function(e){(0,ve.fk)(e)})).finally((function(){b(!1)}))},isSubmitting:g}):s.createElement(Ee,{config:n,onSubmit:function(e){b(!0),(0,w.wI)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t.id},e)).then((function(){h((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.updateIDP.success.description"),level:o.QU.SUCCESS,message:E("console:develop.features.authenticationProvider.notifications.updateIDP.success.message")})),r(t.id)})).catch((function(e){(0,ve.fk)(e)})).finally((function(){b(!1)}))},"data-testid":f,isReadOnly:i,isSubmitting:g}))};Xi.defaultProps={"data-testid":"idp-edit-advance-settings"};var Ji=n(10594),eo=n(14969),to=function(e){var t=e.attribute,n=e.updateMapping,r=e.mapping,i=e.placeholder,o=e.isReadOnly,a=e["data-testid"],l=(0,d.$)().t;return s.createElement(Ji.Z.Row,{"data-testid":a},s.createElement(Ji.Z.Cell,null,null==t?void 0:t.displayName),s.createElement(s.Fragment,null,s.createElement(Ji.Z.Cell,{error:(0,Oe.Z)(r)},s.createElement(eo.Z,{placeholder:i,value:(0,Oe.Z)(r)?"":r,onChange:function(e){var r=e.target.value;n({claim:t,mappedValue:r})},required:!0,"data-testid":"".concat(a,"-input"),readOnly:o}),(0,Oe.Z)(r)&&s.createElement(f.Z,{basic:!0,color:"red",pointing:"left"},l("console:develop.features.authenticationProvider.forms.attributeSettings.attributeListItem.validation.empty")))))};to.defaultProps={"data-testid":"attribute-list-item"};var no=n(38314),ro=n(5043),io=n(80254);function oo(e){return function(e){if(Array.isArray(e))return co(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||lo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){if(e){if("string"==typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(e,t):void 0}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uo=function(e){var t=e.selectedAttributes,n=e.setSelectedAttributes,r=e.showAddModal,i=e.setShowAddModal,o=e.attributesList,a=e["data-testid"],c=(0,d.$)().t,u=ao((0,s.useState)([]),2),m=u[0],f=u[1],p=ao((0,s.useState)([]),2),v=p[0],h=p[1],y=ao((0,s.useState)([]),2),g=y[0],b=y[1],E=ao((0,s.useState)([]),2),S=E[0],I=E[1],O=ao((0,s.useState)([]),2),P=O[0],A=O[1],T=ao((0,s.useState)([]),2),C=T[0],_=T[1],w=ao((0,s.useState)(!1),2),L=w[0],N=w[1],R=ao((0,s.useState)(!1),2),k=R[0],D=R[1];(0,s.useEffect)((function(){_(k?g:[])}),[k]),(0,s.useEffect)((function(){A(L?m:[])}),[L]),(0,s.useEffect)((function(){if(r){var e=o.filter((function(e){return(0,Oe.Z)((0,no.Z)(t,(function(t){return t.claim.uri===e.uri})))}));f(e),h(e),b(t.map((function(e){return e.claim}))),I(t.map((function(e){return e.claim})))}else f([]),h([]),b([]),I([]);_([]),A([]),D(!1),N(!1)}),[r]);return s.createElement(U.Z,{open:r,size:"small",className:"user-attributes","data-testid":"".concat(a,"-modal")},s.createElement(U.Z.Header,{"data-testid":"".concat(a,"-modal-header")},c("console:develop.features.authenticationProvider.modals.attributeSelection.title"),s.createElement(l.X6,{subHeading:!0,ellipsis:!0,as:"h6"},c("console:develop.features.authenticationProvider.modals.attributeSelection.subTitle"))),s.createElement(U.Z.Content,{image:!0,"data-testid":"".concat(a,"-modal-content")},s.createElement(l.IX,{searchPlaceholder:c("console:develop.features.authenticationProvider.modals.attributeSelection.content.searchPlaceholder"),addItems:function(){var e=oo(g);(null==P?void 0:P.length)>0&&P.map((function(t){null!=e&&e.includes(t)||e.push(t)})),b(e),I(e),f(m.filter((function(t){return!(null!=e&&e.includes(t))}))),h(v.filter((function(t){return!(null!=e&&e.includes(t))}))),A(P.filter((function(t){return!(null!=e&&e.includes(t))}))),N(!1)},removeItems:function(){var e=oo(m);(null==C?void 0:C.length)>0&&C.map((function(t){null!=e&&e.includes(t)||e.push(t)})),f(e),h(e),b(null==g?void 0:g.filter((function(t){return!(null!=e&&e.includes(t))}))),I(null==S?void 0:S.filter((function(t){return!(null!=e&&e.includes(t))}))),_(C.filter((function(t){return!(null!=e&&e.includes(t))}))),D(!1)},handleUnelectedListSearch:function(e){var t=e.target.value;if(t.length>0){var n=m.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(t.toLowerCase())})),r=m.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}));h((0,ro.Z)((0,io.Z)(n,r),"displayName"))}else h(m)},handleSelectedListSearch:function(e){var t=e.target.value;t.length>0?I(S.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}))):I(g)},"data-testid":"".concat(a,"-modal-content")},s.createElement(l.Jv,{isListEmpty:!(v.length>0),listType:"unselected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){N(!L)},isHeaderCheckboxChecked:L,"data-testid":"".concat(a,"-modal-content-unselected-list"),emptyPlaceholderDefaultContent:c("console:manage.features.transferList.list.emptyPlaceholders.default")},null==v?void 0:v.map((function(e){return s.createElement(l.qT,{handleItemChange:function(){return function(e){var t=oo(P);null!=t&&t.includes(e)?(t.splice(t.indexOf(e),1),A(t)):(t.push(e),A(t))}(e)},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:P.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(a,"-modal-content-unselected-list-item-").concat(e.id)})}))),s.createElement(l.Jv,{isListEmpty:!(S.length>0),listType:"selected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){D(!k)},isHeaderCheckboxChecked:k,"data-testid":"".concat(a,"-modal-content-selected-list"),emptyPlaceholderDefaultContent:c("console:manage.features.transferList.list.emptyPlaceholders.default")},null==S?void 0:S.map((function(e){return s.createElement(l.qT,{handleItemChange:function(){return t=e,void(null!=(n=oo(C))&&n.includes(t)?(n.splice(n.indexOf(t),1),_(n)):(n.push(t),_(n)));var t,n},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:C.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(a,"-modal-content-selected-list-item-").concat(e.id)})}))))),s.createElement(U.Z.Actions,{"data-testid":"".concat(a,"-modal-actions")},s.createElement(l.Qj,{onClick:function(){i(!1)},"data-testid":"".concat(a,"-modal-cancel-button")},c("common:cancel")),s.createElement(l.KM,{onClick:function(){n(g.map((function(e){var n=t.find((function(t){return t.claim.uri===e.uri}));return(0,Oe.Z)(n)?{claim:e,mappedValue:""}:n}))),i(!1)},"data-testid":"".concat(a,"-modal-save-button")},c("common:save"))))};function so(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||fo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){if(e){if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}uo.defaultProps={"data-testid":"idp-edit-attribute-settings-attribute-selection-wizard"};var vo=function(e){var t,n,r=e.attributeList,i=e.setSelectedAttributesWithMapping,o=e.selectedAttributesWithMapping,a=e.uiProps,c=e.isReadOnly,u=e["data-testid"],m=(0,d.$)().t,f=mo((0,s.useState)(!1),2),p=f[0],v=f[1],h=mo((0,s.useState)(""),2),g=h[0],b=h[1],E=function(e){var t=e.target.value;b(t)},S=function(){v(!0)},I=function(e){i([].concat(so(o.filter((function(t){return t.claim.uri!==e.claim.uri}))),[e]))};return o||g?s.createElement(s.Fragment,null,s.createElement(y.Z.Row,{"data-testid":"".concat(u,"-section")},s.createElement(y.Z.Column,null,a.enablePrecedingDivider&&s.createElement(de.Z,null),s.createElement(l.X6,{as:"h4"},a.componentHeading),s.createElement(l.kW,null,a.hint),s.createElement(de.Z,{hidden:!0}),(null==o?void 0:o.length)>0?s.createElement(y.Z,{"data-testid":u,className:"user-role-edit-header-segment clearing attributes ml-0 mr-0"},s.createElement(y.Z.Row,null,s.createElement(Ji.Z,{"data-testid":"".concat(u,"-action-bar"),basic:"very",compact:!0},s.createElement(Ji.Z.Body,null,s.createElement(Ji.Z.Row,null,s.createElement(Ji.Z.Cell,null,s.createElement(eo.Z,{icon:s.createElement(x.Z,{name:"search"}),onChange:E,placeholder:m("console:develop.features.authenticationProvider.forms.attributeSettings.attributeSelection.searchAttributes.placeHolder"),floated:"left",size:"small","data-testid":"".concat(u,"-search")})),s.createElement(Ji.Z.Cell,{textAlign:"right"},s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{size:"medium",icon:"pencil",floated:"right",onClick:S,"data-testid":"".concat(u,"-edit-button")}))))))),s.createElement(y.Z.Row,null,s.createElement(Ji.Z,{"data-testid":"".concat(u,"-list"),singleLine:!0,compact:!0},s.createElement(Ji.Z.Header,null,s.createElement(Ji.Z.Row,null,s.createElement(Ji.Z.HeaderCell,null,s.createElement("strong",null,a.attributeColumnHeader)),s.createElement(Ji.Z.HeaderCell,null,s.createElement("strong",null,a.attributeMapColumnHeader)))),s.createElement(Ji.Z.Body,null,null==o||null===(t=o.filter((function(e){var t,n;return!!(0,Oe.Z)(g)||(null==e||null===(t=e.claim)||void 0===t||null===(n=t.displayName)||void 0===n?void 0:n.startsWith(g))})))||void 0===t||null===(n=t.sort((function(e,t){return e.claim.displayName.localeCompare(t.claim.displayName)})))||void 0===n?void 0:n.map((function(e){return s.createElement(to,{key:null==e?void 0:e.claim.id,attribute:null==e?void 0:e.claim,placeholder:a.attributeMapInputPlaceholderPrefix+(null==e?void 0:e.claim.displayName),updateMapping:I,mapping:null==e?void 0:e.mappedValue,"data-testid":"".concat(u,"-attribute-list-item-").concat(null==e?void 0:e.claim.id),isReadOnly:c})})))))):s.createElement(j.Z,{"data-testid":u},s.createElement(l.$J,{title:m("console:develop.features.authenticationProvider.placeHolders.noAttributes.title"),subtitle:[m("console:develop.features.authenticationProvider.placeHolders.noAttributes.subtitles.0")],action:s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(l.KM,{onClick:S,icon:"plus"},m("console:develop.features.authenticationProvider.buttons.addAttribute"))),"data-testid":"".concat(u,"-empty-placeholder")})))),s.createElement(uo,{attributesList:r,selectedAttributes:o,setSelectedAttributes:i,showAddModal:p,setShowAddModal:v,"data-testid":"".concat(u,"-wizard")})):null};vo.defaultProps={"data-testid":"attribute-selection"};var ho=function(e){var t=e.dropDownOptions,n=e.initialSubjectUri,i=e.initialRoleUri,o=e.claimMappingOn,a=e.updateRole,c=e.updateSubject,u=e.roleError,m=e.subjectError,f=e.isReadOnly,p=e.isMappingEmpty,v=e.isOIDC,h=e.isSaml,g=e.selectedClaimMappings,b=e["data-testid"],E=(0,d.$)().t,S=(0,r.Z)().UIConfig,I=function(e){return void 0!==(0,no.Z)(t,(function(t){return(null==t?void 0:t.value)===e}))?e:""};return s.createElement(s.Fragment,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,null,s.createElement(l.X6,{as:"h4"},E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.heading")),s.createElement(ii.Z,null,s.createElement(ii.Z.Select,{fluid:!0,options:t.concat({key:"default_subject",text:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.placeHolder"),value:""}),value:I(n),placeholder:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.placeHolder"),onChange:function(e,t){c(t.value.toString())},search:!0,fullTextSearch:!1,label:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.label"),"data-testid":"".concat(b,"-form-element-subject"),error:m&&{content:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.validation.empty"),pointing:"above"},readOnly:f,disabled:p})),s.createElement(l.kW,null,h?s.createElement(W.c,{i18nKey:"console:console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.hint"},"The attribute that identifies the user at the enterprise connection. When attributes are configured based on the authentication response of this connection, you can use one of them as the subject. Otherwise, the default ",s.createElement(l.EK,null,"saml2:Subject")," in the SAML response is used as the subject attribute."):s.createElement(W.c,{i18nKey:"console:console:develop.features.idp.forms.uriAttributeSettings.subject.hint"},"Specifies the attribute that identifies the user at the connection.")))),S.useRoleClaimAsGroupClaim&&s.createElement(s.Fragment,null,s.createElement(de.Z,{hidden:!0}),s.createElement(y.Z.Row,{columns:2},s.createElement(y.Z.Column,null,s.createElement(l.X6,{as:"h4"},E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.heading")),o&&s.createElement(ii.Z,null,s.createElement(ii.Z.Select,{fluid:!0,options:t.concat({key:"default_subject",text:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.placeHolder"),value:""}),value:I(i),placeholder:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.placeHolder"),onChange:function(e,t){a(t.value.toString())},search:!0,fullTextSearch:!1,label:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.label"),"data-testid":"".concat(b,"-form-element-role"),error:u&&{content:E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.validation.empty"),pointing:"above"},disabled:!o,readOnly:f}),s.createElement(l.kW,null,E("console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.hint"))),function(){if(!o)return v?s.createElement(l.v0,{type:"info",content:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.messageOIDC",tOptions:{attribute:ae.v.OIDC_ROLES_CLAIM}},"Please note that OpenID Connect attribute named",s.createElement("strong",null,ae.v.OIDC_ROLES_CLAIM),"will be considered as the default ",s.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")}):s.createElement(l.v0,{type:"info",content:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.messageSAML",tOptions:{attribute:ae.v.CLAIM_ROLES}},"Please note that ",s.createElement("strong",null,ae.v.CLAIM_ROLES),"attribute will be considered as the default ",s.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")});if(!(0,Oe.Z)(i))return null;if(S.isCustomClaimMappingEnabled&&!S.isCustomClaimMappingMergeEnabled){var e=function(){if(v||h){var e=null==g?void 0:g.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===ae.v.CLAIM_ROLES}));return null==e?void 0:e.mappedValue}return""}();return(0,Oe.Z)(e)?s.createElement(l.v0,{type:"info",content:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.mappedRolesAbsentMessage"},"With your current configuration, ",s.createElement("strong",null,"Group Attribute")," is not configured. You can select an attribute from the dropdown.")}):s.createElement(l.v0,{type:"info",content:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.mappedRolesPresentMessage",tOptions:{mappedRolesClaim:e,rolesClaim:ae.v.CLAIM_ROLES}},"Please note that ",s.createElement("strong",null,e),"which is mapped to the ",s.createElement("strong",null,ae.v.CLAIM_ROLES)," attribute will be considered as the default ",s.createElement("strong",null," Group Attribute")," with the current configuration. You can select an attribute from the dropdown.")})}return v?s.createElement(l.v0,{type:"info",content:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.messageOIDC",tOptions:{attribute:ae.v.OIDC_ROLES_CLAIM}},"Please note that OpenID Connect attribute named",s.createElement("strong",null,ae.v.OIDC_ROLES_CLAIM),"will be considered as the default ",s.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")}):s.createElement(l.v0,{type:"info",content:s.createElement(W.c,{i18nKey:"console:develop.features.authenticationProvider.forms.uriAttributeSettings.group.messageSAML",tOptions:{attribute:ae.v.CLAIM_ROLES}},"Please note that ",s.createElement("strong",null,ae.v.CLAIM_ROLES),"attribute will be considered as the default ",s.createElement("strong",null,"Group Attribute"),"as you have not added a custom attribute mapping.")})}()))))};ho.defaultProps={"data-testid":"idp-edit-attribute-settings-uri-attribute-settings"};n(11542),n(54004);function yo(e){return function(e){if(Array.isArray(e))return Eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||bo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){if(e){if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eo(e,t):void 0}}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var So=function(e){return e?1:0},Io="idp-attributes-mapping-list-item-form",Oo=function(e){var t=e.onSubmit,n=e.availableAttributeList,r=e.alreadyMappedAttributesList,i=(0,d.$)().t,o=go((0,s.useState)([]),2),a=o[0],l=o[1],c=go((0,s.useState)(),2),u=c[0],m=c[1],f=go((0,s.useState)(),2),p=f[0],v=f[1],h=go((0,s.useState)(),2),g=h[0],b=h[1];(0,s.useEffect)((function(){if(n){var e=yo(n);l(e)}}),[n]);return s.createElement(D.l0,{id:Io,onSubmit:function(e,n){var r={claim:yo(a).find((function(t){return t.id===e.localClaimId})),mappedValue:e.mappedValue};t(r),n.change("mappedValue",""),n.change("localClaimId",""),n.resetFieldState("mappedValue"),n.resetFieldState("localClaimId"),m(""),v("")},uncontrolledForm:!0},s.createElement(y.Z,null,s.createElement(y.Z.Row,{columns:2,key:1},s.createElement(y.Z.Column,{width:8,key:1},s.createElement(D.gN.Input,{required:!0,name:"mappedValue",inputType:"identifier",maxLength:120,minLength:1,label:i("console:develop.features.idp.forms.attributeSettings.attributeMapping.externalAttributeInput.label"),placeholder:i("console:develop.features.idp.forms.attributeSettings.attributeMapping.externalAttributeInput.placeHolder"),ariaLabel:"External IdP Attribute Mapping Value",validation:function(e){return e&&e.trim()?So(!M.I.url(e))&So(!M.I.isValidResourceName(e))?(b(!0),D.yo.INVALID_RESOURCE_ERROR):new Set(r.map((function(e){return e.mappedValue}))).has(e)?(b(!0),i("console:develop.features.idp.forms.attributeSettings.attributeMapping.externalAttributeInput.existingErrorMessage")):void b(!1):(b(!0),D.yo.FIELD_REQUIRED_ERROR)},listen:function(e){return m(e)},width:16})),s.createElement(y.Z.Column,{width:8,key:2},s.createElement(D.gN.Dropdown,{required:!0,search:!0,clearable:!0,width:16,options:a.map((function(e,t){return{content:s.createElement(Er.Z,{as:"h6",key:"attribute-option-".concat(t)},s.createElement(Er.Z.Content,null,null==e?void 0:e.displayName,s.createElement(Er.Z.Subheader,null,s.createElement("code",{className:"inline-code compact transparent"},e.uri)))),key:null==e?void 0:e.id,text:null==e?void 0:e.displayName,value:null==e?void 0:e.id}})),label:i("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeDropdown.label"),ariaLabel:"Local Claim Attribute",name:"localClaimId",placeholder:i("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeDropdown.placeHolder"),listen:function(e){return v(e)},noResultsMessage:i("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeDropdown.noResultsMessage")}))),s.createElement(y.Z.Row,{columns:1,key:2},s.createElement(y.Z.Column,{width:16,textAlign:"right"},s.createElement(D.gN.Button,{form:Io,disabled:g||!u||!p,buttonType:"primary_btn",type:"submit",name:"submit-button",label:i("console:develop.features.idp.forms.attributeSettings.attributeMapping.addAttributeButtonLabel"),ariaLabel:"Attribute Selection Form Submit Button"})))))};function Po(e){return function(e){if(Array.isArray(e))return Co(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||To(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||To(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(e,t){if(e){if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Co(e,t):void 0}}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _o=function(e){return e?1:0},wo="idp-attributes-mapping-list-item-form",Lo=function(e){var t,n,r,i,o=e.onSubmit,a=e.availableAttributeList,c=e.alreadyMappedAttributesList,u=e.mapping,m=(0,d.$)().t,f=(0,s.useRef)(null),p=Ao((0,s.useState)([]),2),v=p[0],h=p[1],g=Ao((0,s.useState)(),2),b=g[0],E=g[1],S=Ao((0,s.useState)(),2),I=S[0],O=S[1],P=Ao((0,s.useState)(),2),A=P[0],T=P[1];(0,s.useEffect)((function(){E(null==u?void 0:u.mappedValue),O(null==u?void 0:u.claim.id)}),[]),(0,s.useEffect)((function(){if(a){var e=Po(a);u&&u.mappedValue&&u.claim&&e.push(u.claim),h(e)}}),[a]);return s.createElement(D.l0,{id:wo,ref:f,onSubmit:function(e){var t={claim:v.find((function(t){return t.id===e.localClaimId})),mappedValue:e.mappedValue};o(t)},uncontrolledForm:!0,initialValues:u&&{localClaimId:null==u||null===(t=u.claim)||void 0===t?void 0:t.id,mappedValue:null==u?void 0:u.mappedValue}},s.createElement(y.Z,null,s.createElement(y.Z.Row,{columns:3},s.createElement(y.Z.Column,{width:7},s.createElement(D.gN.Input,{required:!0,name:"mappedValue",inputType:"identifier",maxLength:120,minLength:1,placeholder:m("console:develop.features.idp.forms.attributeSettings.attributeMapping.externalAttributeInput.placeHolder"),ariaLabel:"External IdP Attribute Mapping Value",validation:function(e){return e&&e.trim()?_o(!M.I.url(e))&_o(!M.I.isValidResourceName(e))?(T(!0),D.yo.INVALID_RESOURCE_ERROR):new Set(c.map((function(e){return e.mappedValue}))).has(e)?(null==u?void 0:u.mappedValue)===e?void T(!1):(T(!0),m("console:develop.features.idp.forms.attributeSettings.attributeMapping.externalAttributeInput.existingErrorMessage")):void T(!1):(T(!0),D.yo.FIELD_REQUIRED_ERROR)},listen:function(e){return E(e)},width:16})),s.createElement(y.Z.Column,{width:7},s.createElement("div",null,null==u||null===(n=u.claim)||void 0===n?void 0:n.displayName),s.createElement(l.GI,{content:null==u||null===(r=u.claim)||void 0===r?void 0:r.uri,inverted:!0,trigger:s.createElement(l.EK,null,null==u||null===(i=u.claim)||void 0===i?void 0:i.uri),position:"bottom left"})),s.createElement(y.Z.Column,{width:2,textAlign:"right"},s.createElement(D.gN.Button,{form:wo,disabled:A||!b||!I,icon:"checkmark",name:"submit-button",size:"small",ariaLabel:"Attribute Selection Form Submit Button",buttonType:"secondary_btn",onClick:function(){var e;return null==f||null===(e=f.current)||void 0===e?void 0:e.triggerSubmit()}})))))};function No(e){return function(e){if(Array.isArray(e))return Do(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||ko(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mo=function(e){var t=e.availableAttributesList,n=e.attributeMappingsListToShow,r=e.alreadyMappedAttributesList,i=e.onMappingDeleted,o=e.onMappingEdited,a=e.noDataPlaceholder,c=e.readOnly,u=(0,d.$)().t,m=Ro((0,s.useState)([]),2),f=m[0],p=m[1];return 0===n.length?s.createElement(Ji.Z.Row,null,s.createElement(Ji.Z.Cell,{colSpan:"3"},a)):s.createElement(s.Fragment,null,n.map((function(e,n){var a,d,m,v;return e.mappedValue?s.createElement(Ji.Z.Row,{key:n},f.includes(null==e||null===(a=e.claim)||void 0===a?void 0:a.id)?s.createElement(Ji.Z.Cell,{colSpan:"3"},s.createElement(Lo,{mapping:e,availableAttributeList:t,alreadyMappedAttributesList:r,onSubmit:function(t){return function(e,t){p(No(f.filter((function(e){return e!==t.claim.id})).filter((function(t){return t!==e.claim.id})))),o(t,e)}(t,e)}})):s.createElement(s.Fragment,null,s.createElement(Ji.Z.Cell,null,s.createElement("div",null,null==e?void 0:e.mappedValue)),s.createElement(Ji.Z.Cell,null,s.createElement("div",null,null==e||null===(d=e.claim)||void 0===d?void 0:d.displayName),s.createElement(l.GI,{content:null==e||null===(m=e.claim)||void 0===m?void 0:m.uri,inverted:!0,trigger:s.createElement(l.EK,null,null==e||null===(v=e.claim)||void 0===v?void 0:v.uri),position:"bottom left"})),c?null:s.createElement(Ji.Z.Cell,{textAlign:"right"},s.createElement(l.GI,{trigger:s.createElement(x.Z,{link:!0,className:"list-icon pr-4",size:"small",color:"grey",name:"pencil alternate",onClick:function(){var t;return p([].concat(No(f),[null==e||null===(t=e.claim)||void 0===t?void 0:t.id]))}}),position:"top right",content:u("common:edit"),inverted:!0}),s.createElement(l.GI,{trigger:s.createElement(x.Z,{link:!0,className:"list-icon pr-4",size:"small",color:"grey",name:"trash alternate",onClick:function(){return i(e)}}),position:"top right",content:u("common:remove"),inverted:!0})))):null})))};function jo(e){return function(e){if(Array.isArray(e))return Go(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Uo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Uo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){if(e){if("string"==typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(e,t):void 0}}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zo=function(e){var t=e.attributeList,n=e.alreadyMappedAttributesList,r=e.show,i=e.onClose,o=e.onSave,a=(0,d.$)().t,c=xo((0,s.useState)([]),2),u=c[0],m=c[1],f=xo((0,s.useState)([]),2),p=f[0],v=f[1],h=xo((0,s.useState)(!1),2),g=h[0],b=h[1],E=xo((0,s.useState)(),2),S=E[0],I=E[1];(0,s.useEffect)((function(){v(jo(t)),I(jo(n))}),[]),(0,s.useEffect)((function(){b(0===u.length)}),[u]);return s.createElement(U.Z,{open:r,onClose:i,dimmer:"blurring",size:"small",closeOnDimmerClick:!1},s.createElement(U.Z.Header,null,a("console:develop.features.idp.forms.attributeSettings.attributeMapping.modal.header")),s.createElement(U.Z.Content,{scrolling:!0,className:"edit-attribute-mapping"},s.createElement(y.Z,null,s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{width:16},s.createElement(Oo,{availableAttributeList:p,alreadyMappedAttributesList:S,onSubmit:function(e){var t=[].concat(jo(u),[e]),n=t.reduce((function(e,t){var n;return e.add(null==t||null===(n=t.claim)||void 0===n?void 0:n.id)}),new Set);m(t),v(jo(p.filter((function(e){return!n.has(e.id)})))),I([].concat(jo(S),[e]))}}))),s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,{width:16},g?s.createElement(l.$J,{title:a("console:develop.features.idp.forms.attributeSettings.attributeMapping.modal.placeholder.title"),subtitle:[s.createElement("p",{key:"empty-attributes-mapping"},a("console:develop.features.idp.forms.attributeSettings.attributeMapping.modal.placeholder.subtitle"))],image:null,imageSize:"tiny"}):s.createElement(Ji.Z,{singleLine:!0,compact:!0,fixed:!0},s.createElement(Ji.Z.Header,null,s.createElement(Ji.Z.Row,null,s.createElement(Ji.Z.HeaderCell,{width:"7"},s.createElement("strong",null,a("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeMapTable.externalAttributeColumnHeader"))),s.createElement(Ji.Z.HeaderCell,{width:"7"},s.createElement("strong",null,a("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeMapTable.mappedAttributeColumnHeader"))),s.createElement(Ji.Z.HeaderCell,{width:"2"}))),s.createElement(Ji.Z.Body,null,s.createElement(Mo,{key:"attribute-mapping-working-list",alreadyMappedAttributesList:S,onMappingDeleted:function(e){var t=u.filter((function(t){return t.claim.id!==e.claim.id}));m(jo(t)),v([].concat(jo(p),[e.claim])),I(jo(S.filter((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.id)===(null==e?void 0:e.claim.id)}))))},onMappingEdited:function(e,t){m([].concat(jo(u.filter((function(t){return t.claim.id!==e.claim.id}))),[t])),I([].concat(jo(S.filter((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.id)===(null==e?void 0:e.claim.id)}))),[t]))},attributeMappingsListToShow:u,availableAttributesList:p}))))))),s.createElement(U.Z.Actions,null,s.createElement(l.Qj,{onClick:i},a("common:cancel")),s.createElement(l.KM,{disabled:0===(null==u?void 0:u.length),onClick:function(){return o(jo(u))}},a("common:save"))))};function Fo(e){return function(e){if(Array.isArray(e))return qo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Vo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){if(e){if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Zo.defaultProps={"data-testid":"add-attribute-modal"};var Ko=function(e){var t=e.attributeList,n=e.mappedAttributesList,r=e.onAttributesSelected,i=e.isReadOnly,o=e["data-testid"],a=Ho((0,s.useState)(!1),2),c=a[0],u=a[1],m=Ho((0,s.useState)(void 0),2),f=m[0],p=m[1],v=Ho((0,s.useState)([]),2),h=v[0],g=v[1],b=(0,d.$)().t;(0,s.useEffect)((function(){var e,t=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(i.claim.id)}}catch(o){r.e(o)}finally{r.f()}g(t)}),[t]);return s.createElement(s.Fragment,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{computer:16,tablet:16,largeScreen:16,widescreen:16},s.createElement(l.X6,{as:"h4"},b("console:develop.features.idp.forms.attributeSettings.attributeMapping.heading")),s.createElement(l.X6,{as:"h6",color:"grey"},b("console:develop.features.idp.forms.attributeSettings.attributeMapping.subheading")),n&&n.length>0?s.createElement(s.Fragment,null,s.createElement(y.Z.Row,{className:"user-role-edit-header-segment attributes"},s.createElement(Ji.Z,{"data-testid":"".concat(o,"-action-bar"),basic:"very",compact:!0},s.createElement(Ji.Z.Body,null,s.createElement(Ji.Z.Row,null,s.createElement(Ji.Z.Cell,{collapsing:!0,width:"10"},s.createElement(D.l0,{id:"idp-attribute-selection-v2-form",onSubmit:function(){},uncontrolledForm:!1},s.createElement(D.gN.Input,{icon:"search",iconPosition:"left",inputType:"default",maxLength:120,minLength:1,width:16,placeholder:b("console:develop.features.idp.forms.attributeSettings.attributeMapping.search.placeHolder"),listen:function(e){return p(e)},ariaLabel:"Search Field",name:"searchQuery"}))),s.createElement(Ji.Z.Cell,{textAlign:"right"},!i&&s.createElement(l.KM,{onClick:function(){return u(!0)},"data-testid":"".concat(o,"-list-layout-add-button")},s.createElement(x.Z,{name:"plus"}),b("console:develop.features.idp.forms.attributeSettings.attributeMapping.placeHolder.action"))))))),s.createElement(j.Z,{className:"user-role-edit-header-segment attributes"},s.createElement(y.Z.Row,null,s.createElement(Ji.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(o,"-list"),fixed:!0},s.createElement(Ji.Z.Header,null,s.createElement(Ji.Z.Row,null,s.createElement(Ji.Z.HeaderCell,{width:"10"},s.createElement("strong",null,b("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeMapTable.externalAttributeColumnHeader"))),s.createElement(Ji.Z.HeaderCell,{width:"10"},s.createElement("strong",null,b("console:develop.features.idp.forms.attributeSettings.attributeMapping.attributeMapTable.mappedAttributeColumnHeader"))),s.createElement(Ji.Z.HeaderCell,{width:"2"}))),s.createElement(Ji.Z.Body,null,s.createElement(Mo,{alreadyMappedAttributesList:Fo(n),attributeMappingsListToShow:n.filter((function(e){return!f||(e.mappedValue.startsWith(f)||e.claim.id.startsWith(f))})),noDataPlaceholder:s.createElement(l.$J,{action:s.createElement(l.Qj,{onClick:function(){return p(void 0)}},b("console:manage.placeholders.emptySearchResult.action")),title:b("console:manage.placeholders.emptySearchResult.title"),subtitle:[b("console:manage.placeholders.emptySearchResult.subtitles.0",{query:f}),b("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(o,"-empty-search-placeholder")}),availableAttributesList:Fo(t.filter((function(e){return!h.includes(e.id)}))),onMappingDeleted:function(e){r(Fo(null==n?void 0:n.filter((function(t){return t.claim.id!==e.claim.id}))))},onMappingEdited:function(e,t){r([].concat(Fo(n.filter((function(t){return t.claim.id!==e.claim.id}))),[t]))},readOnly:i})))))):s.createElement(j.Z,{component:!0,"data-testid":o},s.createElement(l.$J,{title:b("console:develop.features.idp.forms.attributeSettings.attributeMapping.placeHolder.title"),subtitle:[b("console:develop.features.idp.forms.attributeSettings.attributeMapping.placeHolder.subtitle")],action:!i&&s.createElement(l.KM,{onClick:function(){return u(!0)}},s.createElement(x.Z,{name:"plus"}),b("console:develop.features.idp.forms.attributeSettings.attributeMapping.placeHolder.action")),"data-testid":"".concat(o,"-empty-placeholder")})))),c&&s.createElement(Zo,{attributeList:Fo(t.filter((function(e){return!h.includes(e.id)}))),alreadyMappedAttributesList:Fo(n),show:c,onClose:function(){u(!1)},onSave:function(e){r([].concat(Fo(n),Fo(e))),u(!1)}}))};Ko.defaultProps={"data-testid":"attributes-selection-v2"};var Bo=function(e,t){return(0,Oe.Z)(e)?t:null==e?void 0:e.map((function(e){var t;if(null!=e&&null!==(t=e.claim)&&void 0!==t&&t.id&&null!=e&&e.mappedValue)return{displayName:e.mappedValue,id:e.claim.id,uri:e.mappedValue}}))},zo=function(e,t){return(0,Oe.Z)(e)?t.map((function(e){if(null!=e&&e.uri)return{key:e.id,text:e.uri,value:e.uri}})):e.map((function(e){var t;if(null!=e&&e.mappedValue)return{key:null==e||null===(t=e.claim)||void 0===t?void 0:t.id,text:null==e?void 0:e.mappedValue,value:null==e?void 0:e.mappedValue}}))};function Qo(e){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(e)}function Yo(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Jo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ta=function(e){var t=e.idpId,n=e.initialClaims,i=e.isLoading,c=e.onUpdate,u=e.provisioningAttributesEnabled,f=e.hideIdentityClaimAttributes,p=e.isReadOnly,h=e.isRoleMappingsEnabled,g=e.loader,b=e.isOIDC,E=e.isSaml,S=e["data-testid"],I=(0,m.I0)(),O=(0,d.$)().t,P=(0,r.Z)().UIConfig,A=Xo((0,s.useState)([]),2),T=A[0],C=A[1],_=Xo((0,s.useState)([]),2),L=_[0],N=_[1],k=Xo((0,s.useState)([]),2),D=k[0],M=k[1],j=Xo((0,s.useState)(),2),x=j[0],U=j[1],G=Xo((0,s.useState)(),2),Z=G[0],F=G[1],H=Xo((0,s.useState)(!1),2),V=H[0],q=H[1],K=Xo((0,s.useState)(void 0),1)[0],B=Xo((0,s.useState)(!1),2),z=B[0],Q=B[1],Y=Xo((0,s.useState)(!0),2),$=Y[0],X=Y[1];(0,s.useEffect)((function(){X(!0),(0,br.WN)(null).then((function(e){C(null==e?void 0:e.map((function(e){return{displayName:e.displayName,id:e.id,uri:e.claimURI}}))),X(!1)})).catch((function(e){X(!1),function(e){e.response&&e.response.data&&e.response.data.description&&v.h.dispatch((0,a.V_)({description:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.error.message")})),v.h.dispatch((0,a.V_)({description:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.genericError.description"),level:o.QU.ERROR,message:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.genericError.message")}))}(e)}))}),[]);(0,s.useEffect)((function(){(0,Oe.Z)(T)||(function(e,t,n){var r,i;t(null==e||null===(r=e.userIdClaim)||void 0===r?void 0:r.uri),n(null==e||null===(i=e.roleClaim)||void 0===i?void 0:i.uri)}(n,U,F),function(e,t){var n;t(null==e||null===(n=e.mappings)||void 0===n?void 0:n.map((function(e){return{claim:e.localClaim,mappedValue:e.idpClaim}})))}(n,N),function(e,t){var n;t(null==e||null===(n=e.provisioningClaims)||void 0===n?void 0:n.map((function(e){var t,n,r;return{claim:{displayName:null==e||null===(t=e.claim)||void 0===t?void 0:t.uri,id:null==e||null===(n=e.claim)||void 0===n?void 0:n.uri,uri:null==e||null===(r=e.claim)||void 0===r?void 0:r.uri},mappedValue:e.defaultValue}})))}(n,M))}),[T]),(0,s.useEffect)((function(){(0,Oe.Z)(L)?(M(D.filter((function(e){return T.find((function(t){return t.uri===e.claim.uri}))}))),(0,Oe.Z)(null==T?void 0:T.find((function(e){return e.uri===x})))&&U("")):(M(D.filter((function(e){return function(e,t){return void 0!==(0,no.Z)(t,(function(t){return t.mappedValue===e.claim.uri}))}(e,L)}))),(0,Oe.Z)(null==L?void 0:L.find((function(e){return e.mappedValue===Z})))&&F(""),(0,Oe.Z)(null==L?void 0:L.find((function(e){return e.mappedValue===x})))&&U(""))}),[L]);var J=function(){q(!0);var e=!0,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){$o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);(0,Oe.Z)(null==L?void 0:L.filter((function(e){return(0,Oe.Z)(e.mappedValue)})))||(e=!1),r.mappings=L.map((function(e){return{idpClaim:e.mappedValue,localClaim:e.claim}})),u&&((0,Oe.Z)(null==D?void 0:D.filter((function(e){return(0,Oe.Z)(e.mappedValue)})))||(e=!1),r.provisioningClaims=D.map((function(e){return{claim:e.claim,defaultValue:e.mappedValue}})));var i=T.find((function(e){return e.uri===x}));if(r.userIdClaim=i||{uri:x},h)if((0,Oe.Z)(L))r.roleClaim={uri:""};else{var l=T.find((function(e){return e.uri===Z}));r.roleClaim=l||{uri:Z}}e?(q(!1),Q(!0),function(e,t,n,r){return(0,w.GY)(e,t).then((function(){r(e),(0,w.Am)(e,{mappings:n,outboundProvisioningRoles:[""]}).then((function(){r(e),v.h.dispatch((0,a.V_)({description:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateAttributes.success.description"),level:o.QU.SUCCESS,message:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateAttributes.success.message")}))})).catch((function(e){(0,ve.St)(e)}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description&&v.h.dispatch((0,a.V_)({description:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.error.message")})),v.h.dispatch((0,a.V_)({description:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.genericError.description"),level:o.QU.ERROR,message:it.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.genericError.message")}))}))}(t,r,K,c).finally((function(){Q(!1)}))):I((0,a.V_)({description:O("console:develop.features.idp.notifications.submitAttributeSettings.error.description"),level:o.QU.WARNING,message:O("console:develop.features.idp.notifications.submitAttributeSettings.error.message")}))};return(0,s.useEffect)((function(){null!=K&&J()}),[K]),i||$?s.createElement(g,null):s.createElement(l.pJ,{padded:"very"},s.createElement(y.Z,{className:"attributes-settings"},s.createElement("div",{className:"form-container with-max-width"},!(null!=P&&P.isCustomClaimMappingEnabled)&&s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,null,s.createElement(l.v0,{type:"warning",content:s.createElement(W.c,null,s.createElement("strong",null,"Custom Attribute Mapping")," is disabled in your system configuration. This might affect certain flows related to the connection. Proceed with caution.")}),s.createElement(de.Z,{hidden:!0}))),s.createElement(y.Z.Row,{columns:1},s.createElement(y.Z.Column,null,s.createElement(Ko,{onAttributesSelected:function(e){N(Yo(e))},attributeList:f?T.filter((function(e){var t=e.uri;return!/identity/.test(t)})):T,mappedAttributesList:Yo(L),isReadOnly:p}))),s.createElement(de.Z,{hidden:!0}),L&&s.createElement(ho,{dropDownOptions:zo(L,T).filter((function(e){return!(0,Oe.Z)(e)})),initialRoleUri:Z,initialSubjectUri:x,claimMappingOn:h&&!(0,Oe.Z)(L),updateRole:F,updateSubject:U,"data-testid":"".concat(S,"-uri-attribute-settings"),roleError:V&&!Z,subjectError:V&&!x,isReadOnly:p,isMappingEmpty:(0,Oe.Z)(L),isOIDC:b,isSaml:E,selectedClaimMappings:L}),s.createElement(de.Z,{hidden:!0}),u&&D&&s.createElement(vo,{attributeList:Bo(L,T).filter((function(e){return!(0,Oe.Z)(null==e?void 0:e.uri)})),selectedAttributesWithMapping:D,setSelectedAttributesWithMapping:M,uiProps:{attributeColumnHeader:(0,Oe.Z)(L)?O("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeColumnHeader.0"):O("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeColumnHeader.1"),attributeMapColumnHeader:O("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeMapColumnHeader"),attributeMapInputPlaceholderPrefix:O("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeMapInputPlaceholderPrefix"),componentHeading:O("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.componentHeading"),enablePrecedingDivider:!1,hint:O("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.hint")},"data-testid":"".concat(S,"-provisioning-attribute-selection"),isReadOnly:p}),s.createElement(de.Z,{hidden:!0}),s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,null,s.createElement(R.di,{when:R.TA.IDP_EDIT},s.createElement(be.Z,{primary:!0,size:"small",loading:z,disabled:z,onClick:J,"data-testid":"".concat(S,"-update-button")},O("common:update"))))))))};ta.defaultProps={"data-testid":"idp-edit-attribute-settings",hideIdentityClaimAttributes:!1,provisioningAttributesEnabled:!0};var na=n(4829),ra=n(79890),ia=n(16782),oa=n(87089),aa=n(52037),la=n(62574);function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(){ua=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new L(r||[]);return i(a,"_invoke",{value:T(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,I=S&&S(S(N([])));I&&I!==n&&r.call(I,a)&&(E=I);var O=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ca(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=m;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ca(t)+" is not iterable")}return g.prototype=b,i(O,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function sa(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fa=function(e){var t=e.editingIDP,n=e.isSetStrongerAuth,r=e.defaultListItemLimit,c=e.showListItemActions,u=e.onListItemClick,p=e.selection,h=e.isRenderedOnPortal,y=e.isLoading,g=e.loader,b=e["data-componentid"],E=(0,m.I0)(),S=(0,pr.z)().organizationType,I=(0,m.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),O=da((0,s.useState)(),2),P=O[0],A=O[1],T=da((0,s.useState)([]),2),C=T[0],_=T[1],L=da((0,s.useState)(0),2),N=L[0],R=L[1],k=da((0,s.useState)(!0),2),D=k[0],M=k[1],j=da((0,s.useState)(""),2),U=j[0],G=j[1],Z=(0,m.v9)((function(e){return e.config.ui.features})),F=(0,m.v9)((function(e){return e.application.templates})),H=(0,m.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.groupedTemplates})),V=da((0,s.useState)(!1),2),q=V[0],K=V[1],B=(0,d.$)().t;(0,s.useEffect)((function(){M(!0),(0,w.yz)(t.id).then(function(){var e,t=(e=ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t.count),!(t.count>0)){e.next=8;break}return n=t.connectedApps.map((function(e){return(0,fe.sl)(e.appId)})),e.next=5,Promise.all(n.map((function(e){return e.catch((function(e){E((0,a.V_)({description:(null==e?void 0:e.description)||B("console:develop.features.idp.connectedApps.genericError.description"),level:o.QU.ERROR,message:(null==e?void 0:e.message)||B("console:develop.features.idp.connectedApps.genericError.message")}))}))})));case 5:r=e.sent,A(r),_(r);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){sa(o,r,i,a,l,"next",e)}function l(e){sa(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()).catch((function(e){E((0,a.V_)({description:(null==e?void 0:e.description)||B("console:develop.features.idp.connectedApps.genericError.description"),level:o.QU.ERROR,message:(null==e?void 0:e.message)||B("console:develop.features.idp.connectedApps.genericError.message")}))})).finally((function(){M(!1)}))}),[]),(0,s.useEffect)((function(){void 0===F&&(K(!0),aa.e.getApplicationTemplates().catch((function(e){E((0,a.V_)({description:(null==e?void 0:e.description)||B("console:develop.features.applications.notifications.fetchTemplates.genericError.description"),level:o.QU.ERROR,message:(null==e?void 0:e.message)||B("console:develop.features.applications.notifications.fetchTemplates.genericError.message")}))})).finally((function(){K(!1)})))}),[F,H]);var z=function(e,r,i,o){if(n){var a;if(null==I||null===(a=I.legacyMode)||void 0===a||!a.applicationListSystemApps){if(o===ia.jo.CONSOLE_APP_NAME)return void v.m8.push({hash:"tab=".concat(la.w.LOGIN_FLOW),pathname:v.$x.getPaths().get("CONSOLE_SETTINGS")});if(o===ia.jo.MY_ACCOUNT_APP_NAME)return void v.m8.push({pathname:v.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"#tab=".concat(ia.jo.MY_ACCOUNT_LOGIN_FLOW_TAB)})}v.m8.push({pathname:v.$x.getPaths().get("APPLICATION_SIGN_IN_METHOD_EDIT").replace(":id",e).replace(":tabName",i),search:"?".concat(ia.jo.APP_STATE_STRONG_AUTH_PARAM_KEY,"=\n                ").concat(ia.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE),state:{id:t.id,name:t.name}})}else{var l;if(null==I||null===(l=I.legacyMode)||void 0===l||!l.applicationListSystemApps){if(o===ia.jo.CONSOLE_APP_NAME)return void v.m8.push({hash:"tab=".concat(la.w.LOGIN_FLOW),pathname:v.$x.getPaths().get("CONSOLE_SETTINGS")});if(o===ia.jo.MY_ACCOUNT_APP_NAME)return void v.m8.push({pathname:v.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"#tab=".concat(S===na.$.SUBORGANIZATION?ia.jo.SUB_ORG_MY_ACCOUNT_LOGIN_FLOW_TAB:ia.jo.MY_ACCOUNT_LOGIN_FLOW_TAB)})}v.m8.push({pathname:v.$x.getPaths().get("APPLICATION_SIGN_IN_METHOD_EDIT").replace(":id",e).replace(":tabName",i),search:r===oa.Ch.READ?"?".concat(ia.jo.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):"",state:{id:t.id,name:t.name}})}},Q=function(){return 0===C.length&&0!==N?s.createElement(l.$J,{image:(0,v.jF)().emptySearch,imageSize:"tiny",title:B("console:develop.placeholders.emptySearchResult.title"),subtitle:[B("console:develop.placeholders.emptySearchResult.subtitles.0",{query:U}),B("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-componentid":"".concat(b,"-empty-search-placeholder")}):0===N?s.createElement(l.$J,{className:h?"":"list-placeholder mr-0",image:(0,v.jF)().newList,imageSize:"tiny",subtitle:[B("console:develop.features.idp.connectedApps.placeholders.emptyList",{idpName:t.name})],"data-componentid":"".concat(b,"-empty-placeholder")}):null},Y=function(e){var t=P.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())}));_(t)};return D?s.createElement(g,null):s.createElement(l.pJ,{padded:"very"},s.createElement(l.X6,{as:"h4"},B("console:develop.features.idp.connectedApps.header",{idpName:t.name})),s.createElement(de.Z,{hidden:!0}),P&&s.createElement(eo.Z,{icon:s.createElement(x.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value.trim();G(t),t.length>0?Y(t):_(P)},placeholder:B("console:develop.features.idp.connectedApps.placeholders.search"),floated:"left",size:"small",style:{width:"250px"},"data-componentid":"".concat(b,"-searched")}),s.createElement(l.wQ,{className:"connected-applications-table",isLoading:y||q,loadingStateOptions:{count:null!=r?r:v.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:!n&&function(){if(c)return[{"data-componentid":"".concat(b,"-item-edit-button"),hidden:function(){return!(0,i.cr)(null==Z?void 0:Z.applications,ia.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))},icon:function(){return"caret right"},onClick:function(e,t){z(t.id,t.access,"#tab=".concat(ia.jo.SIGN_IN_METHOD_TAB_URL_FRAG),t.name)},popupText:function(){return B("console:develop.features.idp.connectedApps.action")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n="";if(new Set([ia.jo.CUSTOM_APPLICATION_SAML,ia.jo.CUSTOM_APPLICATION_OIDC,ia.jo.CUSTOM_APPLICATION_PASSIVE_STS]).has(e.templateId))n=F&&F instanceof Array&&F.length>0&&F.find((function(e){return e.id===ia.jo.CUSTOM_APPLICATION})).name;else{var r=F&&F instanceof Array&&F.length>0&&F.find((function(t){return t.id===e.templateId}));if(null!=r&&r.templateGroup){var i=r.templateGroup;n=H&&H instanceof Array&&H.length>0&&H.find((function(e){return e.id===i||e.templateGroup===i})).name}}return s.createElement(Er.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(b,"-item-heading")},e.image?s.createElement(l.JT,{size:"mini",name:e.name,image:e.image,spaced:"right","data-componentid":"".concat(b,"-item-image")}):s.createElement(l.JT,{image:s.createElement(l.Xo,{name:e.name,size:"mini","data-componentid":"".concat(b,"-item-image-inner")}),size:"mini",spaced:"right","data-componentid":"".concat(b,"-item-image")}),s.createElement(Er.Z.Content,null,e.name,(null===(t=e.advancedConfigurations)||void 0===t?void 0:t.fragment)&&s.createElement(f.Z,{size:"mini"},B("console:develop.features.applications.list.labels.fragment")),s.createElement("div",null,n&&s.createElement(f.Z,{className:"no-margin-left",size:"tiny"},n))))},title:B("console:develop.features.applications.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:B("console:develop.features.applications.list.columns.actions")}],data:C,onRowClick:function(e,t){z(t.id,t.access,"#tab=".concat(ia.jo.SIGN_IN_METHOD_TAB_URL_FRAG),t.name),u&&u(e,t)},placeholders:Q(),selectable:p,showHeader:ra.applicationListConfig.enableTableHeaders,transparent:!(y||q)&&null!==Q(),"data-componentid":"".concat(b,"-data-table")}))};fa.defaultProps={"data-componentid":"idp-edit-connected-apps",selection:!0,showListItemActions:!0};var pa=n(57477);function va(e){return function(e){if(Array.isArray(e))return ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ya(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||ya(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){if(e){if("string"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ba=function(e){var t=e.closeWizard,n=e.updateList,r=e.idpId,i=e.groupsList,c=e["data-componentid"],u=(0,d.$)().t,f=(0,m.I0)(),p=ha((0,s.useState)(!1),2),v=p[0],h=p[1],g=ha((0,s.useState)(""),2),b=g[0],E=g[1];return s.createElement(U.Z,{open:!0,className:"wizard create-role-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!1,"data-componentid":c,as:ii.Z,onSubmit:function(){h(!0);var e=[].concat(va(i),[{id:"",name:b.trim()}]);if(i.some((function(e){return e.name===b.trim()})))return f((0,a.V_)({description:u("extensions:console.identityProviderGroups.createGroupWizard.notifications.duplicateGroupError.description"),level:o.QU.ERROR,message:u("extensions:console.identityProviderGroups.createGroupWizard.notifications.duplicateGroupError.message")})),t(),void h(!1);(0,w.Ro)(r,e).then((function(){f((0,a.V_)({description:u("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.success.description"),level:o.QU.SUCCESS,message:u("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.success.message")})),t(),n()})).catch((function(){f((0,a.V_)({description:u("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.genericError.description"),level:o.QU.ERROR,message:u("extensions:console.identityProviderGroups.createGroupWizard.notifications.createIdentityProviderGroup.genericError.message")}))})).finally((function(){h(!1)}))},id:"create-idp-group-form"},s.createElement(U.Z.Header,{className:"wizard-header"},u("console:manage.features.roles.addRoleWizard.heading",{type:"Group"}),s.createElement(l.X6,{as:"h6"},u("extensions:console.identityProviderGroups.createGroupWizard.subHeading"))),s.createElement(U.Z.Content,{className:"pb-6",scrolling:!0},s.createElement(y.Z,null,s.createElement(y.Z.Row,{columns:1,key:1},s.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10,key:"identityProviderGroupName"},s.createElement(ii.Z.Input,{name:"identityProviderGroupName",label:u("extensions:console.identityProviderGroups.createGroupWizard.groupNameLabel"),placeholder:u("extensions:console.identityProviderGroups.createGroupWizard.groupNamePlaceHolder"),onChange:function(e){return E(e.target.value)},value:b,required:!0,maxLength:ae.v.CLAIM_CONFIG_FIELD_MAX_LENGTH,minLength:ae.v.CLAIM_CONFIG_FIELD_MIN_LENGTH,width:16,"data-componentid":"".concat(c,"-group-name")}),s.createElement(l.kW,null,u("extensions:console.identityProviderGroups.createGroupWizard.groupNameHint")))))),s.createElement(U.Z.Actions,null,s.createElement(y.Z,null,s.createElement(y.Z.Row,{column:1,key:1},s.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return t()},"data-componentid":"".concat(c,"-cancel-button")},u("common:cancel"))),s.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.KM,{floated:"right","data-componentid":"".concat(c,"-finish-button"),disabled:b.trim().length<=0||v,loading:v,type:"submit"},u("common:create")))))))};function Ea(e){return function(e){if(Array.isArray(e))return Oa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ia(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Ia(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){if(e){if("string"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(e,t):void 0}}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ba.defaultProps={"data-componentid":"identity-provider-group-create-wizard"};var Pa=function(e){var t=e.allowedScopes,n=e.featureConfig,r=e.readOnly,c=e.idpId,u=e.isGroupListLoading,f=e["data-componentid"],p=(0,d.$)().t,h=(0,m.I0)(),y=Sa((0,s.useState)(!1),2),g=y[0],b=y[1],E=Sa((0,s.useState)(!1),2),S=E[0],I=E[1],O=Sa((0,s.useState)(!1),2),P=O[0],A=O[1],T=Sa((0,s.useState)([]),2),C=T[0],_=T[1],L=Sa((0,s.useState)(void 0),2),N=L[0],k=L[1],D=Sa((0,s.useState)(""),2),M=D[0],j=D[1],U=(0,w.MZ)(c),G=U.data,Z=U.isLoading,F=U.mutate,H=U.error;(0,s.useEffect)((function(){G instanceof pa.u||H?K():G&&_(G)}),[G]),(0,s.useEffect)((function(){if(M){var e=null==G?void 0:G.filter((function(e){return e.name.toLowerCase().includes(M.toLowerCase())}));_(e)}else _(G)}),[M]);var V,q,K=function(){h((0,a.V_)({description:p("extensions:console.identityProviderGroups.groupsList.notifications.fetchGroups.genericError.description"),level:o.QU.ERROR,message:p("extensions:console.identityProviderGroups.groupsList.notifications.fetchGroups.genericError.message")}))};return s.createElement(s.Fragment,null,s.createElement(l.PS,{showTopActionPanel:!(u||Z||(0,Oe.Z)(M)&&0===(null==C?void 0:C.length)),listItemLimit:v.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,showPagination:!1,onPageChange:function(){return null},totalPages:Math.ceil((null==C?void 0:C.length)/v.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),"data-componentId":"".concat(f,"-list-layout"),leftActionPanel:s.createElement("div",{className:"advanced-search-wrapper aligned-left fill-default p-1 pl-3 pr-3"},s.createElement(eo.Z,{className:"with-add-on mt-3","data-componentId":"".concat(f,"-list-search-input"),icon:"search",iconPosition:"left",onChange:function(e){return j(e.target.value)},placeholder:p("extensions:console.identityProviderGroups.groupsList.searchByName"),value:M,floated:"right",size:"small",transparent:!0}),s.createElement(R.di,{when:R.TA.GROUP_WRITE},s.createElement(l.KM,{"data-testid":"user-mgt-roles-list-update-button",size:"medium",icon:s.createElement(x.Z,{name:"add"}),floated:"right",onClick:function(){return b(!0)}},s.createElement(x.Z,{name:"add"}),p("extensions:console.identityProviderGroups.groupsList.newGroup"))))},s.createElement(l.wQ,{className:"idp-groups-table",isLoading:u||Z,loadingStateOptions:{count:1,imageType:"square"},actions:[{hidden:function(){var e,o;return!(0,i.hasRequiredScopes)(null==n?void 0:n.identityProviders,null==n||null===(e=n.identityProviders)||void 0===e||null===(o=e.scopes)||void 0===o?void 0:o.update,t)||r},icon:function(){return"trash alternate"},onClick:function(e,t){k(t),A(!0)},popupText:function(){return it.I18n.instance.t("common:delete")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return s.createElement(Er.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(f,"-item-heading")},s.createElement(l.JT,{image:s.createElement(l.Xo,{name:e.name,size:"mini","data-testid":"".concat(f,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(f,"-item-image")}),s.createElement(Er.Z.Content,null,e.name))},title:null},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:C,onRowClick:function(){return null},placeholders:M&&0===(null==C?void 0:C.length)?s.createElement(l.$J,{"data-testid":"".concat(f,"-search-empty-placeholder"),action:s.createElement(l.Qj,{"data-testid":"".concat(f,"-search-empty-placeholder-clear-button"),onClick:function(){return j("")}},p("console:manage.features.roles.list.emptyPlaceholders.search.action")),image:(0,v.jF)().emptySearch,imageSize:"tiny",title:p("console:manage.features.roles.list.emptyPlaceholders.search.title"),subtitle:[p("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.0",{searchQuery:M}),p("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.1")]}):0===(null==C?void 0:C.length)?(0,i.hasRequiredScopes)(null==n?void 0:n.groups,null==n||null===(V=n.groups)||void 0===V||null===(q=V.scopes)||void 0===q?void 0:q.create,t)?s.createElement(l.$J,{"data-testid":"".concat(f,"-empty-list-empty-placeholder"),action:s.createElement(l.KM,{"data-testid":"".concat(f,"-empty-list-empty-placeholder-add-button"),onClick:function(){return b(!0)}},s.createElement(x.Z,{name:"add"}),p("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.action",{type:"Group"})),image:(0,v.jF)().newList,imageSize:"tiny",title:p("extensions:console.applicationRoles.connectorGroups.placeholder.title"),subtitle:[p("extensions:console.applicationRoles.connectorGroups.placeholder.subTitle.0"),p("extensions:console.applicationRoles.connectorGroups.placeholder.subTitle.1")]}):s.createElement(l.$J,{"data-testid":"".concat(f,"-empty-list-empty-placeholder"),image:(0,v.jF)().newList,imageSize:"tiny",title:p("extensions:console.identityProviderGroups.groupsList.noGroupsAvailable"),subtitle:[p("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"})]}):null,transparent:null,showHeader:!1,"data-testid":f})),s.createElement(l.cV,{primaryActionLoading:S,"data-componentid":"".concat(f,"-delete-confirmation-modal"),onClose:function(){return A(!1)},type:"negative",open:P,assertionHint:p("extensions:develop.emailProviders.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:p("common:confirm"),secondaryAction:p("common:cancel"),onSecondaryActionClick:function(){return A(!1)},onPrimaryActionClick:function(){var e;I(!0),(e=Ea(C.filter((function(e){return e.id!==N.id}))),(0,w.Ro)(c,e).then((function(){return h((0,a.V_)({description:p("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.success.description"),level:o.QU.SUCCESS,message:p("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.success.message")})),F(),Promise.resolve()})).catch((function(){return h((0,a.V_)({description:p("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.genericError.description"),level:o.QU.ERROR,message:p("extensions:console.identityProviderGroups.groupsList.notifications.deleteGroup.genericError.message")})),Promise.reject()}))).finally((function(){I(!1),A(!1)}))},closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-componentid":"".concat(f,"-delete-confirmation-modal-header")},p("extensions:develop.emailProviders.confirmationModal.header")),s.createElement(l.cV.Message,{"data-componentid":"".concat(f,"-delete-confirmation-modal-message"),attached:!0,negative:!0},p("extensions:console.identityProviderGroups.groupsList.confirmation.deleteGroup.message")),s.createElement(l.cV.Content,null,p("extensions:console.identityProviderGroups.groupsList.confirmation.deleteGroup.content",{groupName:null==N?void 0:N.name}))),g&&s.createElement(ba,{idpId:c,groupsList:C,closeWizard:function(){return b(!1)},updateList:function(){return F()}}))};function Aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Pa.defaultProps={"data-componentid":"identity-provider-groups-list"};var Ca=function(e){var t=e.editingIDP,n=e.isReadOnly,i=e.isOIDC,c=e["data-componentid"],u=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),f=(0,m.v9)((function(e){return e.config.ui.features})),p=(0,r.Z)().UIConfig,v=(0,m.I0)(),h=(0,d.$)().t,g=Aa((0,s.useState)(""),2),b=g[0],E=g[1],S=(0,w.$V)(null==t?void 0:t.id),I=S.data,O=S.isLoading,P=S.error;(0,s.useEffect)((function(){I instanceof pa.u||P?A():I&&E(T())}),[I]);var A=function(){v((0,a.V_)({description:h("extensions:console.identityProviderGroups.claimConfigs.notifications.fetchConfigs.genericError.description"),level:o.QU.ERROR,message:h("extensions:console.identityProviderGroups.claimConfigs.notifications.fetchConfigs.genericError.message")}))},T=function(){var e;if((null==I||null===(e=I.mappings)||void 0===e?void 0:e.length)>0){var t=I.mappings.find((function(e){return e.localClaim.uri===ae.v.LOCAL_DIALECT_GROUP_CLAIM}));return t?t.idpClaim:""}return""};return O?s.createElement(l.pJ,{padded:!0},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(s.Fragment,null,function(){var e,n,r;if(!p)return null;if(p.useRoleClaimAsGroupClaim)return s.createElement(l.v0,{header:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),content:s.createElement(s.Fragment,null,s.createElement("p",null,"Please note that the attribute selected in the Group section of the ",s.createElement("strong",null,"Attributes tab")," as the ",s.createElement("strong",null,"Group Attribute")," is used to identify groups at the Connection."),s.createElement("p",null,"For modifications to the ",s.createElement("strong",null,"Group Attribute"),", please go to the Group section in the ",s.createElement("strong",null,"Attributes tab"),".")),"data-componentid":"".concat(c,"-group-attribute-message"),info:!0});var o=i?ae.v.STANDARD_DIALECT_GROUP_CLAIM:ae.v.LOCAL_DIALECT_GROUP_CLAIM,a=s.createElement(l.v0,{header:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),content:i?s.createElement(W.c,{i18nKey:"extensions:console.identityProviderGroups.claimConfigs.groupAttributeMessageOIDC",tOptions:{attribute:o}},"Please note that OpenID Connect attribute named ",s.createElement("strong",null,o)," will be considered as the default ",s.createElement("strong",null,"Group Attribute")," as you have not added a custom attribute mapping."):s.createElement(W.c,{i18nKey:"extensions:console.identityProviderGroups.claimConfigs.groupAttributeMessageSAML",tOptions:{attribute:o}},"Please note that ",s.createElement("strong",null,o)," attribute will be considered as the default ",s.createElement("strong",null,"Group Attribute")," as you have not added a custom attribute mapping."),"data-componentid":"".concat(c,"-group-attribute-message"),info:!0});return 0===(null!==(e=null==t||null===(n=t.claims)||void 0===n||null===(r=n.mappings)||void 0===r?void 0:r.length)&&void 0!==e?e:0)?a:(0,Oe.Z)(b)?p.isCustomClaimMappingEnabled&&!p.isCustomClaimMappingMergeEnabled?s.createElement(l.v0,{header:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),content:s.createElement("p",null,"Please note that you have enabled custom attribute mapping, but have not added a custom attribute mapping for the connection's groups attribute. Go to the ",s.createElement("strong",null,"Attributes tab")," to add a custom attribute mapping for the connection's groups attribute."),"data-componentid":"".concat(c,"-group-attribute-message"),info:!0}):a:s.createElement(l.pJ,{padded:"very"},s.createElement(y.Z,null,s.createElement(y.Z.Row,null,s.createElement(y.Z.Column,{width:8},s.createElement(ii.Z,{id:"idp-group-attributes-form"},s.createElement(ii.Z.Input,{name:"groupAttribute",label:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributeLabel"),placeholder:h("extensions:console.identityProviderGroups.claimConfigs.groupAttributePlaceholder"),readOnly:!0,maxLength:ae.v.CLAIM_CONFIG_FIELD_MAX_LENGTH,minLength:ae.v.CLAIM_CONFIG_FIELD_MIN_LENGTH,"data-componentid":"".concat(c,"-group-attribute-input"),value:b,onChange:function(e){E(e.target.value)},width:16}),s.createElement(l.kW,null,"The attribute from the connection that will be mapped to the organization's group attribute. For modifications, please go to the",s.createElement("strong",null," Attributes tab"),"."))))))}(),s.createElement(de.Z,{hidden:!0}),s.createElement(l.pJ,{padded:"very"},s.createElement(Pa,{idpId:null==t?void 0:t.id,featureConfig:f,readOnly:n,allowedScopes:u,isGroupListLoading:!1})))};Ca.defaultProps={"data-componentid":"identity-provider-groups-tab"};var _a=n(58900);function wa(e){return function(e){if(Array.isArray(e))return Ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Na(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Na(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){if(e){if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ra(e,t):void 0}}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ka=function(e){var t=e.idpId,n=e.isLoading,r=e.jitProvisioningConfigurations,i=e.onUpdate,c=e.isReadOnly,u=e.loader,f=e["data-testid"],p=(0,m.I0)(),v=(0,pr.z)(),h=v.isSuperOrganization,y=v.isFirstLevelOrganization,g=(0,d.$)().t,b=La((0,s.useState)([]),2),E=b[0],S=b[1];return(0,s.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),h()||y()?(0,_a.ow)().then((function(t){e.push.apply(e,wa(t.data)),S(e)})).catch((function(){S(e)})):S(e)}),[]),n?s.createElement(u,null):s.createElement(l.pJ,{padded:"very"},s.createElement(gr,{idpId:t,initialValues:r,onSubmit:function(e){(0,w.Lv)(t,e).then((function(){p((0,a.V_)({description:g("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.success.description"),level:o.QU.SUCCESS,message:g("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.success.message")})),i(t)})).catch((function(){p((0,a.V_)({description:g("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.genericError.description"),level:o.QU.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.genericError.message")}))}))},useStoreList:E,"data-testid":f,isReadOnly:c}))};ka.defaultProps={"data-testid":"idp-edit-jit-provisioning-settings"};var Da=n(53397);function Ma(e){return function(e){if(Array.isArray(e))return Ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||xa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ga=function(e){var t=e.connectionSettingsMetaData,r=e.identityProvider,o=e.isLoading,a=e.isSaml,c=e.isOidc,u=e.onDelete,d=e.onUpdate,f=e.template,p=e.type,v=e.isReadOnly,h=e.isAutomaticTabRedirectionEnabled,y=e.setIsAutomaticTabRedirectionEnabled,g=e.tabIdentifier,E=e["data-testid"],S=(0,m.v9)((function(e){return e.config.ui.features})),I=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),O=ja((0,s.useState)(void 0),2),P=O[0],A=O[1],T=ja((0,s.useState)(0),2),C=T[0],_=T[1],w=ja((0,s.useState)(!1),2),L=w[0],N=w[1],R=ja((0,s.useState)(!1),2),k=R[0],D=R[1],M=(0,s.useMemo)((function(){var e,t;return(0,i.hasRequiredScopes)(null==S?void 0:S.applications,null==S||null===(e=S.applications)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.read,I)}),[S,I]),j=r.federatedAuthenticators.defaultAuthenticatorId===ae.v.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID,x=(null==r?void 0:r.federatedAuthenticators.defaultAuthenticatorId)===pe.f.SAML_AUTHENTICATOR_ID||(null==r?void 0:r.federatedAuthenticators.defaultAuthenticatorId)===pe.f.OIDC_AUTHENTICATOR_ID,U=new URLSearchParams(location.search),G={alias:r.alias,certificate:r.certificate,homeRealmIdentifier:r.homeRealmIdentifier,isFederationHub:r.isFederationHub},Z={isEnabled:r.implicitAssociation.isEnabled,lookupAttribute:r.implicitAssociation.lookupAttribute},F=function(e){d(e,h&&g?g:$()[C]["data-tabid"])},H=function(){return s.createElement(l.pJ,{padded:!0},s.createElement(l.pO,{inline:"centered",active:!0}))},V=function(){var e,t;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Dr,{hideIdPLogoEditField:null===(e=b.identityProviderConfig.utils)||void 0===e?void 0:e.hideLogoInputFieldInIdPGeneralSettingsForm(null==r||null===(t=r.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId),templateType:p,isSaml:a,isOidc:c,editingIDP:r,isLoading:o,onDelete:u,onUpdate:F,"data-testid":"".concat(E,"-general-settings"),isReadOnly:v,loader:H}))},q=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(ta,{idpId:r.id,initialClaims:r.claims,initialRoleMappings:r.roles.mappings,isLoading:o,onUpdate:F,hideIdentityClaimAttributes:a&&b.identityProviderConfig.utils.hideIdentityClaimAttributes(r.federatedAuthenticators.defaultAuthenticatorId),isRoleMappingsEnabled:a||b.identityProviderConfig.utils.isRoleMappingsEnabled(r.federatedAuthenticators.defaultAuthenticatorId),"data-testid":"".concat(E,"-attribute-settings"),provisioningAttributesEnabled:a||b.identityProviderConfig.utils.isProvisioningAttributesEnabled(r.federatedAuthenticators.defaultAuthenticatorId),isReadOnly:v,loader:H,isOIDC:c,isSaml:a}))},K=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(ti,{connectionSettingsMetaData:t,identityProvider:r,isLoading:o,onUpdate:F,"data-testid":"".concat(E,"-authenticator-settings"),isReadOnly:v,loader:H}))},B=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Bi,{identityProvider:r,outboundConnectors:null===(e=r.provisioning)||void 0===e?void 0:e.outboundConnectors,isLoading:o,onUpdate:F,"data-testid":"".concat(E,"-outbound-provisioning-settings"),isReadOnly:v,loader:H}))},z=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(ka,{idpId:r.id,jitProvisioningConfigurations:null===(e=r.provisioning)||void 0===e?void 0:e.jit,isLoading:o,onUpdate:F,"data-testid":"".concat(E,"-jit-provisioning-settings"),isReadOnly:v,loader:H}))},Q=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Xi,{editingIDP:r,advancedConfigurations:G,implicitAssociationConfig:Z,onUpdate:F,"data-testid":"".concat(E,"-advance-settings"),isReadOnly:v,isLoading:o,loader:H,templateType:p}))},Y=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(fa,{editingIDP:r,isReadOnly:v,isLoading:o,loader:H,"data-componentid":"".concat(E,"-connected-apps-settings")}))},W=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Ca,{editingIDP:r,isReadOnly:v,isLoading:o,loader:H,isOIDC:c,"data-componentid":"".concat(E,"-groups-settings")}))};(0,s.useEffect)((function(){N("trusted-token-issuer"===p),D("expert-mode-idp"===p)}),[p]),(0,s.useEffect)((function(){var e,i,o,a;if(!P&&null!=t&&null!==(e=t.edit)&&void 0!==e&&null!==(i=e.tabs)&&void 0!==i&&i.quickStart&&null!=r&&r.id){var l,c,u=[];if("string"==typeof(null==t||null===(o=t.edit)||void 0===o||null===(a=o.tabs)||void 0===a?void 0:a.quickStart))u=b.identityProviderConfig.editIdentityProvider.getTabExtensions({content:(0,s.lazy)((function(){var e,r;return n(34830)("./".concat(null==t||null===(e=t.edit)||void 0===e||null===(r=e.tabs)||void 0===r?void 0:r.quickStart,"/quick-start"))})),identityProvider:r,template:f});else u=b.identityProviderConfig.editIdentityProvider.getTabExtensions({content:(0,s.lazy)((function(){return n.e(5672).then(n.bind(n,5672))})),identityProvider:r,quickStartContent:null==t||null===(l=t.edit)||void 0===l||null===(c=l.tabs)||void 0===c?void 0:c.quickStart,template:f});Array.isArray(u)&&u.length>0&&(U.get(ae.v.IDP_STATE_URL_SEARCH_PARAM_KEY)||_(1)),A(u)}}),[f,P,r,t]);var $=function(){var e,t=[];P&&P.length>0&&t.push.apply(t,Ma(P)),X(p,vr.VR.GENERAL)&&t.push({"data-tabid":ae.v.GENERAL_TAB_ID,menuItem:"General",render:V}),X(p,vr.VR.SETTINGS)&&!j&&t.push({"data-tabid":ae.v.SETTINGS_TAB_ID,menuItem:"Settings",render:K});var n,r=a&&b.identityProviderConfig.editIdentityProvider.attributesSettings,i=c;(!X(p,vr.VR.USER_ATTRIBUTES)||j||p===Da.b.IDP_TEMPLATE_IDS.OIDC&&!i||p===Da.b.IDP_TEMPLATE_IDS.SAML&&!r||t.push({"data-tabid":ae.v.ATTRIBUTES_TAB_ID,menuItem:"Attributes",render:q}),X(p,vr.VR.CONNECTED_APPS)&&M&&t.push({"data-tabid":ae.v.CONNECTED_APPS_TAB_ID,menuItem:"Connected Apps",render:Y}),X(p,vr.VR.IDENTITY_PROVIDER_GROUPS)&&null!=S&&null!==(e=S.identityProviderGroups)&&void 0!==e&&e.enabled&&!j&&t.push({"data-tabid":ae.v.IDENTITY_PROVIDER_GROUPS_TAB_ID,menuItem:"Groups",render:W}),X(p,vr.VR.OUTBOUND_PROVISIONING)&&b.identityProviderConfig.editIdentityProvider.showOutboundProvisioning&&!j&&t.push({"data-tabid":ae.v.OUTBOUND_PROVISIONING_TAB_ID,menuItem:"Outbound Provisioning",render:B}),X(p,vr.VR.JIT_PROVISIONING)&&b.identityProviderConfig.editIdentityProvider.showJitProvisioning&&!j)&&t.push({"data-tabid":ae.v.JIT_PROVISIONING_TAB_ID,menuItem:null===(n=b.identityProviderConfig.jitProvisioningSettings)||void 0===n?void 0:n.menuItemName,render:z});return X(p,vr.VR.ADVANCED)&&b.identityProviderConfig.editIdentityProvider.showAdvancedSettings&&!j&&t.push({"data-tabid":ae.v.ADVANCED_TAB_ID,menuItem:"Advanced",render:Q}),t},X=function(e,t){var n=b.identityProviderConfig.editIdentityProvider.isTabEnabledForIdP(e,t);return void 0===n||n};return r&&!o&&(j||L||x||k||P)?s.createElement(l.M$,{isLoading:o,"data-testid":"".concat(E,"-resource-tabs"),panes:$(),defaultActiveIndex:C,onTabChange:function(e,t){_(t.activeIndex),h&&y(!1)},isAutomaticTabRedirectionEnabled:h,tabIdentifier:g}):s.createElement(H,null)};Ga.defaultProps={"data-testid":"idp-edit"};var Za=n(87431),Fa=n(46581),Ha=n(31992);function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){Ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Va(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Va(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ya=function(e){var t,n,h,y=e.location,g=e["data-testid"],b=(0,m.I0)(),E=(0,d.$)().t,S=(0,r.Z)().UIConfig,I=(0,Za.z)(),O=(0,s.useRef)(null),P=null==S?void 0:S.connectionResourcesUrl,A=za((0,s.useState)(void 0),2),T=A[0],L=A[1],N=za((0,s.useState)(void 0),2),R=N[0],k=N[1],D=za((0,s.useState)([]),2),M=D[0],j=D[1],x=za((0,s.useState)(void 0),2),U=x[0],G=x[1],Z=za((0,s.useState)(void 0),2),F=Z[0],H=Z[1],V=(0,m.v9)((function(e){return e.config.ui.features})),q=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),K=(0,m.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.productName})),B=za((0,s.useState)(!1),2),z=B[0],Q=B[1],Y=za((0,s.useState)(),2),W=Y[0],$=Y[1],X=za((0,s.useState)(!1),2),J=X[0],ee=X[1],te=za((0,s.useState)(void 0),2),ne=te[0],re=te[1],ie=za((0,s.useState)(void 0),2),oe=ie[0],le=ie[1],ce=(0,s.useMemo)((function(){var e,t;return!(0,i.hasRequiredScopes)(null==V?void 0:V.identityProviders,null==V||null===(e=V.identityProviders)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,q)}),[V,q]);(0,s.useEffect)((function(){if(R&&Array.isArray(R)&&R.length>0){var e=R.map((function(e){return"enterprise-oidc-idp"===e.id||"enterprise-saml-idp"===e.id?Ka(Ka({},e),{},{templateGroup:"enterprise-protocols"}):e}));Ha.K.reorderConnectionTemplates(e).then((function(e){j(e)}))}}),[R]),(0,s.useEffect)((function(){M&&Array.isArray(M)&&M.length>0&&Ha.K.categorizeTemplates(M).then((function(e){var t;e.filter((function(e){e.templates=(0,u.Z)(e.templates,["comingSoon"],["desc"])})),I(null===(t=e[0])||void 0===t?void 0:t.templates)})).catch((function(){I([])}))}),[M]),(0,s.useEffect)((function(){if(O||F){var e=O.current;e&&e.offsetWidth<e.scrollWidth&&Q(!0)}}),[O,F]),(0,s.useEffect)((function(){if(p.identityProviderConfig){var e=y.pathname.split("/"),t=e[e.length-1],n=(0,c.Z)(p.identityProviderConfig.authenticators,t);null!=n&&n.isEnabled?fe(t,null==n?void 0:n.useAuthenticatorsAPI):me(t)}}),[p.identityProviderConfig]),(0,s.useEffect)((function(){ue()}),[]);var ue=function(){var e=arguments.length>1?arguments[1]:void 0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e=null==y?void 0:y.state),void 0!==e&&(ee(!0),$(e))};(0,s.useEffect)((function(){if(U&&ve.Zs.isConnectorIdentityProvider(U))if(null!=S&&S.connectionTemplates&&(null==S?void 0:S.connectionTemplates)instanceof Array&&(null==S?void 0:S.connectionTemplates.length)>0){U.templateId||(U.templateId=ae.v.EXPERT_MODE_TEMPLATE_ID);var e={},t=U.templateId;if(!t){var n,r=null==U||null===(n=U.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId;r===ae.v.FACEBOOK_AUTHENTICATOR_ID?t=ae.v.IDP_TEMPLATE_IDS.FACEBOOK:r===ae.v.GOOGLE_OIDC_AUTHENTICATOR_ID?t=ae.v.IDP_TEMPLATE_IDS.GOOGLE:r===ae.v.OIDC_AUTHENTICATOR_ID?t=ae.v.IDP_TEMPLATE_IDS.OIDC:r===ae.v.SAML_AUTHENTICATOR_ID?t=ae.v.IDP_TEMPLATE_IDS.SAML:r===ae.v.GITHUB_AUTHENTICATOR_ID?t=ae.v.IDP_TEMPLATE_IDS.GITHUB:r===ae.v.APPLE_AUTHENTICATOR_ID&&(t=ae.v.IDP_TEMPLATE_IDS.APPLE)}if(t===ae.v.IDP_TEMPLATE_IDS.OIDC||t===ae.v.IDP_TEMPLATE_IDS.SAML){var i,o=null==S?void 0:S.connectionTemplates.find((function(e){return"enterprise-protocols"===e.id}));e=null==o||null===(i=o.subTemplates)||void 0===i?void 0:i.find((function(e){return e.id===t}))}else e=null==S?void 0:S.connectionTemplates.find((function(e){return e.id===t}));L(e)}else se()}),[null==S?void 0:S.connectionTemplates,U]),(0,s.useEffect)((function(){T&&(null==T?void 0:T.id)!==ae.v.TRUSTED_TOKEN_TEMPLATE_ID&&(null==T?void 0:T.id)!==ae.v.EXPERT_MODE_TEMPLATE_ID&&(null==T?void 0:T.id)!==ae.v.IDP_TEMPLATE_IDS.OIDC&&(null==T?void 0:T.id)!==ae.v.IDP_TEMPLATE_IDS.SAML&&de(T.id)}),[T]);var se=function(){(0,w.Ty)().then((function(e){k(e)}))},de=function(e){le(!0),(0,w.fh)(e).then((function(e){re(e)})).catch((function(e){(0,ve.p1)(e)})).finally((function(){le(!1)}))},me=function(e){H(!0),(0,w.Wv)(e).then((function(e){G(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?b((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getIDP.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getIDP.error.message")})):b((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getIDP.genericError.description"),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getIDP.genericError.message")}))})).finally((function(){H(!1)}))},fe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H(!0);var n=function(t){t(e).then((function(e){G(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?b((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getConnectionDetails.error.description",{description:e.response.data.description}),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getConnectionDetails.error.message")})):b((0,a.V_)({description:E("console:develop.features.authenticationProvider.notifications.getConnectionDetails.genericError.description"),level:o.QU.ERROR,message:E("console:develop.features.authenticationProvider.notifications.getConnectionDetails.genericError.message")}))})).finally((function(){H(!1)}))};n(t?_.hc:_.Rz)},he=function(){v.m8.push(v.$x.getPaths().get("IDP"))};return s.createElement(l.O9,{pageTitle:"Edit Connection",isLoading:F,loadingStateOptions:{count:5,imageType:"square"},title:function(e){return e?ve.Zs.isConnectorIdentityProvider(e)?s.createElement(s.Fragment,null,e.name,!1===F&&e.name&&function(e){return e&&ve.Zs.isConnectorIdentityProvider(e)?null!=e&&e.isEnabled?s.createElement(l._x,{popupHeader:E("console:develop.features.authenticationProvider.popups.appStatus.enabled.header"),popupSubHeader:E("console:develop.features.authenticationProvider.popups.appStatus.enabled.content"),labelColor:"green"}):s.createElement(l._x,{popupHeader:E("console:develop.features.authenticationProvider.popups.appStatus.disabled.header"),popupSubHeader:E("console:develop.features.authenticationProvider.popups.appStatus.disabled.content"),labelColor:"grey"}):null}(e)):(e.id===pe.f.FIDO_AUTHENTICATOR_ID&&(e.displayName=p.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.friendlyName||e.displayName||e.name):null}(U),contentTopMargin:!0,description:function(e){var t,n,r,i;return e?ve.Zs.isConnectorIdentityProvider(e)?s.createElement("div",{className:"with-label ellipsis",ref:O},(null==T?void 0:T.name)&&s.createElement(f.Z,{size:"small"},"Expert Mode"===T.name?"Custom Connector":null==T?void 0:T.name),s.createElement(l.GI,{disabled:!z,content:null==e||null===(r=e.description)||void 0===r?void 0:r.replaceAll("{{productName}}",K),trigger:s.createElement("span",null,null==e||null===(i=e.description)||void 0===i?void 0:i.replaceAll("{{productName}}",K))})):s.createElement("div",{className:"with-label ellipsis",ref:O},null!=e&&e.description?s.createElement(l.GI,{disabled:!z,content:null==e||null===(t=e.description)||void 0===t?void 0:t.replaceAll("{{productName}}",K),trigger:s.createElement("span",null,null==e||null===(n=e.description)||void 0===n?void 0:n.replaceAll("{{productName}}",K))}):Fa.C.getAuthenticatorDescription(e.id)):null}(U),image:function(e){var t,n,r=ve.Zs.isOrganizationSSOConnection(null==e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId);return e?ve.Zs.isConnectorIdentityProvider(e)&&!r?e.image?s.createElement(l.JT,{hoverable:!1,name:e.name,image:ve.Zs.resolveConnectionResourcePath(P,null==e?void 0:e.image),size:"tiny"}):s.createElement(l.Xo,{hoverable:!1,name:e.name,size:"tiny",floated:"left"}):s.createElement(l.JT,{hoverable:!1,name:e.name,image:r?Fa.C.getAuthenticatorIcon(null===(n=e.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId):Fa.C.getAuthenticatorIcon(null==e?void 0:e.id),size:"tiny"}):s.createElement(l.JT,{hoverable:!1,isLoading:!0,size:"tiny"})}(U),backButton:{"data-testid":"".concat(g,"-page-back-button"),onClick:function(){v.m8.push(v.$x.getPaths().get("IDP"))},text:E("console:develop.pages.authenticationProviderTemplate.backButton")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(g,"-page-layout")},ve.Zs.isConnectorIdentityProvider(U)?s.createElement(Ga,{connectionSettingsMetaData:ne,identityProvider:U,isLoading:F||oe,onDelete:he,onUpdate:function(e,t){me(e),ue(!1,t)},isGoogle:void 0===(null==T?void 0:T.name)?void 0:T.name===vr.u9.GOOGLE,isSaml:void 0===(null==U||null===(t=U.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)?void 0:(null==U||null===(n=U.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)===pe.f.SAML_AUTHENTICATOR_ID,isOidc:void 0===(null==U||null===(h=U.federatedAuthenticators)||void 0===h?void 0:h.defaultAuthenticatorId)?void 0:U.federatedAuthenticators.defaultAuthenticatorId===pe.f.OIDC_AUTHENTICATOR_ID,"data-testid":g,template:T,type:null==T?void 0:T.id,isReadOnly:ce,isAutomaticTabRedirectionEnabled:J,setIsAutomaticTabRedirectionEnabled:ee,tabIdentifier:W}):s.createElement(C,{authenticator:U,isLoading:F,onDelete:he,onUpdate:function(e){if(p.identityProviderConfig){var t=(0,c.Z)(p.identityProviderConfig.authenticators,e);fe(e,null==t?void 0:t.useAuthenticatorsAPI)}},type:null==U?void 0:U.id,isReadOnly:ce}))};Ya.defaultProps={"data-testid":"idp-edit-page"};const Wa=Ya},24729:e=>{e.exports=[[e.id,".authenticator-settings-dynamic-input-field input{background-color:#fff}.authenticator-settings-dynamic-input-field .MuiFormControl-root.MuiTextField-root{margin-top:5px}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0b3Itc2V0dGluZ3MtZm9ybS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRCxxQkFBcUIsQ0FBQyxtRkFBbUYsY0FBYyIsImZpbGUiOiJhdXRoZW50aWNhdG9yLXNldHRpbmdzLWZvcm0uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hdXRoZW50aWNhdG9yLXNldHRpbmdzLWR5bmFtaWMtaW5wdXQtZmllbGQgaW5wdXR7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5hdXRoZW50aWNhdG9yLXNldHRpbmdzLWR5bmFtaWMtaW5wdXQtZmllbGQgLk11aUZvcm1Db250cm9sLXJvb3QuTXVpVGV4dEZpZWxkLXJvb3R7bWFyZ2luLXRvcDo1cHh9Il19 */","",""]]}}]);