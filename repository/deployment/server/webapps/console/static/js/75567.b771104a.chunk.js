"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[75567,62117,42325,11584],{75567:(e,t,n)=>{n.r(t);n(42325),n(11584)},11584:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(81816),o=n(52983),a=n(9202),l=n(54221),i=n(30640),s=n(49238),u=n(22969);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const d=function(){var e=(0,a.$)().t,t=(0,l.v9)((function(e){return e.config.ui.features})),n=c((0,o.useState)(void 0),2),f=n[0],d=n[1],p=c((0,o.useState)(),2),m=p[0],y=p[1],v=c((0,o.useState)(!1),2),g=v[0],h=v[1],b=function(e){h(!0),(0,s.xQ)(e).then((function(e){200===e.status&&y(e.data)})).catch((function(){})).finally((function(){h(!1)}))};(0,o.useEffect)((function(){var e=i.m8.location.pathname.split("/"),t=e[e.length-1];d(t),b(t)}),[]);return o.createElement(r.Xg,{isLoading:g,title:m&&null!=m&&m.displayName?null==m?void 0:m.displayName:e("console:manage.pages.rolesEdit.title"),backButton:{onClick:function(){i.m8.push(i.$x.getPaths().get("ROLES"))},text:e("console:manage.pages.rolesEdit.backButton",{type:"roles"})},titleTextAlign:"left",bottomMargin:!1},o.createElement(u.EditRole,{roleObject:m,roleId:f,onRoleUpdate:function(){b(f)},featureConfig:t}))}},42325:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(14603),o=n(90268),a=n(81816),l=n(46440),i=n(38314),s=n(67127),u=n(52983),c=n(9202),f=n(54221),d=n(74691),p=n(30640),m=n(49238),y=n(85814),v=n(58900),g=n(22969),h=n(62117);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=[{key:1,text:"Name",value:"name"},{key:3,text:"Created date",value:"createdDate"},{key:4,text:"Last updated",value:"lastUpdated"}];const R=function(){var e,t,n,b,S,w,O=(0,f.I0)(),R=(0,c.$)().t,j=(0,f.v9)((function(e){return e.config})),C=E((0,u.useState)(!1),2),k=C[0],T=C[1],x=E((0,u.useState)(0),1)[0],I=E((0,u.useState)(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),L=I[0],N=I[1],U=E((0,u.useState)(0),2),M=U[0],D=U[1],_=E((0,u.useState)(!1),2),z=_[0],Q=_[1],W=E((0,u.useState)(!1),2),Z=W[0],B=W[1],H=E((0,u.useState)([]),2)[1],$=E((0,u.useState)(void 0),1)[0],q=E((0,u.useState)("all"),1)[0],V=E((0,u.useState)(""),2),F=V[0],G=V[1],K=E((0,u.useState)(!1),1)[0],J=E((0,u.useState)(!1),2),X=J[0],Y=J[1],ee=E((0,u.useState)(!1),2),te=ee[0],ne=ee[1],re=E((0,u.useState)(),2),oe=re[0],ae=re[1],le=E((0,u.useState)(),2),ie=le[0],se=le[1],ue=E((0,u.useState)(A[0]),2),ce=ue[0],fe=ue[1],de="isRoleHelpShown";(0,u.useEffect)((function(){""==F&&pe(),me()&&(O((0,p.rq)(!0)),T(!k),ye())}),[0!=(null==oe||null===(e=oe.Resources)||void 0===e?void 0:e.length)]),(0,u.useEffect)((function(){pe(),B(!1)}),[Z]),(0,u.useEffect)((function(){ve()}),[]),(0,u.useEffect)((function(){pe()}),[q]),(0,u.useEffect)((function(){pe()}),[$]);var pe=function(){Y(!0),(0,m.Sd)($).then((function(e){if(200===e.status){var t=e.data.Resources;t&&t instanceof Array&&(e.data.Resources=t.filter((function(e){var t,n;return(null===(t=e.displayName)||void 0===t||!t.includes(y.Fn))&&((null===(n=e.displayName)||void 0===n||!n.includes(y.eT))&&("system"!==e.displayName&&("everyone"!==e.displayName&&e)))})),ae(e.data),ge(0,L,e.data))}})).finally((function(){Y(!1)}))},me=function(){var e,t,n=p.Wj.getUserPreferences();return!((0,s.Z)(n)||null!==(e=n.identityAppsSettings)&&void 0!==e&&null!==(t=e.devPortal)&&void 0!==t&&t[de])},ye=function(){var e,t=p.Wj.getUserPreferences();if(!(0,s.Z)(t)&&null!=t&&null!==(e=t.identityAppsSettings)&&void 0!==e&&e.devPortal){var n=(0,l.Z)(t);n.identityAppsSettings.devPortal[de]=!0,p.Wj.setUserPreferences(n)}},ve=function(){var e=[{key:-2,text:"All user stores",value:null},{key:-1,text:"Primary",value:"primary"}],t={key:null,text:"",value:""};(0,v.ow)().then((function(n){0===e.length&&e.push(t),n.data.map((function(n,r){t={key:r,text:n.name,value:n.name},e.push(t)})),H(e)})),H(e)},ge=function(e,t,n){var r,o=P(P(P({},n),n.Resources),{},{Resources:null==n||null===(r=n.Resources)||void 0===r?void 0:r.slice(e,t+e)});se(o)},he=function(e){null!==e&&"displayName sw "!==e?function(e){var t={filter:e,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:1};G(e),(0,m.QW)(t).then((function(e){if(200===e.status){var t=null==e?void 0:e.data,n=P(P(P({},t),null==t?void 0:t.Resources),{},{Resources:null==t?void 0:t.Resources});ae(n),se(n)}}))}(e):pe()},be=function(){return u.createElement(p.nC,{"data-testid":"role-mgt-roles-list-advanced-search",onFilter:he,filterAttributeOptions:[{key:0,text:"Name",value:"displayName"}],filterAttributePlaceholder:R("console:manage.features.roles.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:R("console:manage.features.roles.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:R("console:manage.features.roles.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:R("console:manage.features.roles.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co",triggerClearQuery:te})},Se=[{content:u.createElement(a.UG,{source:h.default,"data-testid":"role-help-panel-configs-tab-markdown-renderer"}),heading:"Help",hidden:!1,icon:{icon:u.createElement(d.Z,{disabled:!0,size:"large",name:"question circle outline",className:"ml-0"})}}];return u.createElement(a.ix,{activeIndex:x,sidebarDirection:"right",sidebarMiniEnabled:!0,tabs:Se,onHelpPanelPinToggle:function(){return p.JK.togglePanelPin()},isPinned:p.JK.isPanelPinned(),icons:{close:(0,p.km)().close,pin:(0,p.km)().pin,unpin:(0,p.km)().unpin},sidebarToggleTooltip:R("console:develop.features.helpPanel.actions.open"),pinButtonTooltip:R("console:develop.features.helpPanel.actions.pin"),unpinButtonTooltip:R("console:develop.features.helpPanel.actions.unPin"),onHelpPanelVisibilityChange:function(e){O((0,p.rq)(e)),T(!k)},visible:k},u.createElement(a.Xg,{action:(X||!(!F&&(null==ie||null===(t=ie.Resources)||void 0===t?void 0:t.length)<=0))&&u.createElement(a.KM,{"data-testid":"role-mgt-roles-list-add-button",onClick:function(){return Q(!0)}},u.createElement(d.Z,{"data-testid":"role-mgt-roles-list-add-button-icon",name:"add"}),R("console:manage.features.roles.list.buttons.addButton",{type:"Role"})),title:R("console:manage.pages.roles.title"),description:"Create roles and assign permissions to collectively manage access to the ".concat(j.ui.productName," console.")},!K&&u.createElement(a.PS,{advancedSearch:be(),currentListSize:L,listItemLimit:L,onItemsPerPageDropdownChange:function(e,t){N(t.value),ge(M,t.value,oe)},onPageChange:function(e,t){var n=(t.activePage-1)*L;D(n),ge(n,L,oe)},onSortStrategyChange:function(e,t){fe((0,i.Z)(A,(function(e){return t.value===e.value})))},sortStrategy:ce,showPagination:(null==ie||null===(n=ie.Resources)||void 0===n?void 0:n.length)>0,showTopActionPanel:X||!(!F&&(null==ie||null===(b=ie.Resources)||void 0===b?void 0:b.length)<=0),totalPages:Math.ceil((null==oe||null===(S=oe.Resources)||void 0===S?void 0:S.length)/L),totalListSize:null==oe||null===(w=oe.Resources)||void 0===w?void 0:w.length},u.createElement(g.RoleList,{advancedSearch:be(),"data-testid":"role-mgt-roles-list",handleRoleDelete:function(e){(0,m.iy)(e.id).then((function(){var e;e={description:R("console:manage.features.roles.notifications.deleteRole.success.description"),level:r.QU.SUCCESS,message:R("console:manage.features.roles.notifications.deleteRole.success.message")},O((0,o.V_)(e)),B(!0)}))},showHeader:!0,showRoleType:!1,isGroup:!1,isLoading:X,onEmptyListPlaceholderActionClick:function(){return Q(!0)},onSearchQueryClear:function(){ne(!te),G(null),pe()},roleList:ie,searchQuery:F})),z&&u.createElement(g.CreateRoleWizard,{"data-testid":"role-mgt-create-role-wizard",isAddGroup:!1,closeWizard:function(){return Q(!1)},updateList:function(){return B(!0)},submitStep:"UserList"})))}},62117:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r="## Roles\nA collection of scopes related to accessing different resources in the system. These will be used to control the access levels in the console app or accessing system APIs. There will be a predefined set of roles. Also, organization admins can create more roles by selecting multiple scopes to Manage Applications, Manage Users, Manage Organization, etc.\n\n**Note:** Only collaborator users can be assigned with a role.\n\n### Scope\nCollection of system permissions.\n\n### Permission\nPermission is an access level for a system.\n"}}]);