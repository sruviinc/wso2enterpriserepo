"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[49966],{49966:(e,t,n)=>{n.r(t),n.d(t,{EditAPIResource:()=>f});var o=n(14603),r=n(90268),s=n(81816),i=n(52983),a=n(9202),c=n(54221),u=n(28183),l=n(15522),d=n(55379);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,s,i,a=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=s.call(n)).done)&&(a.push(o.value),a.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var f=function(e){var t=e.featureConfig,n=e.isReadOnly,R=e.isManagedByChoreo,f=e.apiResourceData,A=e.isAPIResourceDataLoading,I=e.mutateAPIResource,m=(0,a.$)().t,P=(0,c.I0)(),E=p((0,i.useState)(!1),2),g=E[0],v=E[1],y=function(e,t){v(!0),(0,l.updateAPIResource)(f.id,e).then((function(){P((0,r.V_)({description:m("extensions:develop.apiResource.notifications.updateAPIResource.success.description"),level:o.QU.SUCCESS,message:m("extensions:develop.apiResource.notifications.updateAPIResource.success.message")})),I()})).catch((function(e){switch(null==e?void 0:e.code){case d.APIResourcesConstants.UNAUTHORIZED_ACCESS:P((0,r.V_)({description:m("extensions:develop.apiResource.notifications.updateAPIResource.unauthorizedError.description"),level:o.QU.ERROR,message:m("extensions:develop.apiResource.notifications.updateAPIResource.unauthorizedError.message")}));break;case d.APIResourcesConstants.NO_VALID_API_RESOURCE_ID_FOUND:case d.APIResourcesConstants.API_RESOURCE_NOT_FOUND:P((0,r.V_)({description:m("extensions:develop.apiResource.notifications.updateAPIResource.notFoundError.description"),level:o.QU.ERROR,message:m("extensions:develop.apiResource.notifications.updateAPIResource.notFoundError.message")}));break;case d.APIResourcesConstants.PERMISSION_ALREADY_EXISTS:P((0,r.V_)({description:m("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.description"),level:o.QU.ERROR,message:m("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.message")}));break;case d.APIResourcesConstants.INVALID_REQUEST_PAYLOAD:P((0,r.V_)({description:m("extensions:develop.apiResource.notifications.updateAPIResource.invalidPayloadError.description"),level:o.QU.ERROR,message:m("extensions:develop.apiResource.notifications.updateAPIResource.invalidPayloadError.message")}));break;default:P((0,r.V_)({description:m("extensions:develop.apiResource.notifications.updateAPIResource.genericError.description"),level:o.QU.ERROR,message:m("extensions:develop.apiResource.notifications.updateAPIResource.genericError.message")}))}})).finally((function(){v(!1),t&&t()}))};return i.createElement(s.M$,{isLoading:A,panes:[{menuItem:m("extensions:develop.apiResource.tabs.general.label"),render:function(){return i.createElement(s.M$.Pane,{controlledSegmentation:!0,attached:!1},i.createElement(u.GeneralAPIResource,{apiResourceData:f,isAPIResourceDataLoading:A,featureConfig:t,isReadOnly:n,isManagedByChoreo:R,isSubmitting:g,handleUpdateAPIResource:y}))}},{menuItem:m("extensions:develop.apiResource.tabs.permissions.label"),render:function(){return i.createElement(s.M$.Pane,{controlledSegmentation:!0,attached:!1},i.createElement(u.PermissionAPIResource,{apiResourceData:f,isAPIResourceDataLoading:A,isSubmitting:g,isReadOnly:n,isManagedByChoreo:R,handleUpdateAPIResource:y}))}},{menuItem:m("extensions:develop.apiResource.tabs.authorization.label"),render:function(){return i.createElement(s.M$.Pane,{controlledSegmentation:!0,attached:!1},i.createElement(u.AuthorizationAPIResource,{apiResourceData:f,isAPIResourceDataLoading:A}))}}]})}}}]);