"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[28183,27264,1025,78095],{27264:(e,t,n)=>{n.r(t),n.d(t,{AuthorizationAPIResource:()=>s});var o=n(59206),r=n(81816),a=n(52983),i=n(9202),s=function(e){var t=e.apiResourceData,n=e.isAPIResourceDataLoading,s=e["data-componentid"],c=(0,i.$)().t,l=(0,r.fQ)().getLink;return n?a.createElement(r.pO,{dimmer:!0}):a.createElement(a.Fragment,null,a.createElement(r.pJ,{padded:"very"},a.createElement(o.l0,{"data-componentid":"".concat(s,"-form"),onSubmit:function(){return null},id:"".concat(s,"-form"),uncontrolledForm:!1},a.createElement(o.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:c("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.label"),hint:a.createElement(a.Fragment,null,c("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.hint"),a.createElement(r.eb,{link:l("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},c("extensions:common.learnMore"))),width:16,defaultValue:t.requiresAuthorization,readOnly:!0,"data-componentid":"".concat(s,"-authorize")}))))};s.defaultProps={"data-componentid":"authorization-api-resource"}},15576:(e,t,n)=>{n.r(t),n.d(t,{GeneralAPIResource:()=>P});var o=n(31092),r=n(7955),a=n(14603),i=n(90268),s=n(59206),c=n(81816),l=n(52983),d=n(9202),u=n(39990),m=n(54221),p=n(2653),f=n(30640),R=n(41008),g=n(56254);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var v="apiResource-general-details",P=function(e){var t=e.isReadOnly,n=e.isManagedByChoreo,A=e.isSubmitting,P=e.handleUpdateAPIResource,b=e.apiResourceData,y=e.isAPIResourceDataLoading,E=e["data-componentid"],I=(0,d.$)().t,x=(0,m.I0)(),S=h((0,l.useState)(!0),2),C=S[0],O=S[1],w=h((0,l.useState)(!1),2),L=w[0],N=w[1],z=h((0,l.useState)(!1),2),U=z[0],_=z[1],k=h((0,l.useState)(void 0),2),D=k[0],V=k[1];return y?l.createElement(c.pO,{dimmer:!0}):l.createElement(l.Fragment,null,n&&l.createElement(o.Z,{severity:"warning"},l.createElement(u.c,{i18nKey:"extensions:develop.apiResource.tabs.choreoApiEditWarning"},"Updating this API resource will create unforeseen errors as this is an API resource managed by Choreo. ",l.createElement("b",null,"Proceed with caution."))),l.createElement(c.pJ,{padded:"very"},l.createElement(s.l0,{"data-testid":"".concat(E,"-form"),onSubmit:function(e){var t;P({displayName:null===(t=e.displayName)||void 0===t?void 0:t.toString().trim()})},id:v,validate:function(e){var t,n={displayName:void 0};return null!==(t=e.displayName)&&void 0!==t&&t.toString().trim()?O(!1):(n.displayName=I("extensions:develop.apiResource.tabs.general.form.fields.name.emptyValidate"),O(!0)),n},uncontrolledForm:!1},b.displayName&&l.createElement(s.gN.Input,{ariaLabel:"Site title input field",inputType:"name",name:"displayName",label:I("extensions:develop.apiResource.tabs.general.form.fields.name.label"),placeholder:I("extensions:develop.apiResource.tabs.general.form.fields.name.placeholder"),readOnly:t,required:!0,initialValue:b.displayName,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(E,"-general-form-displayName")}),b.identifier&&l.createElement(s.gN.Input,{ariaLabel:"Site title input field",inputType:"url",name:"identifier",label:I("extensions:develop.apiResource.tabs.general.form.fields.identifier.label"),readOnly:!0,required:!0,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(E,"-general-form-identifier")},l.createElement(c.OR,{value:b.identifier})),l.createElement(s.gN.Button,{form:v,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:t,disabled:A||C,loading:A,"data-componentid":"".concat(E,"-submit-button"),label:I("extensions:develop.apiResource.tabs.general.form.updateButton")}))),l.createElement(l.Fragment,null,!t&&l.createElement(r.di,{when:p.T.API_RESOURCES_DELETE},l.createElement(c.v9,{sectionHeader:I("extensions:develop.apiResource.tabs.general.dangerZoneGroup.header")},l.createElement(c.cN,{"data-testid":"".concat(E,"-danger-zone"),actionTitle:I("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.button"),header:I("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.header"),subheader:I("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.subHeading"),onActionClick:function(){_(!0),V(b)},isButtonDisabled:!1})))),D&&l.createElement(c.cV,{primaryActionLoading:L,onClose:function(){return _(!1)},type:"negative",open:U,assertionHint:I("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){_(!1)},onPrimaryActionClick:function(){return e=D.id,N(!0),void(0,R.deleteAPIResource)(e).then((function(){x((0,i.V_)({description:I("extensions:develop.apiResource.notifications.deleteAPIResource.success.description"),level:a.QU.SUCCESS,message:I("extensions:develop.apiResource.notifications.deleteAPIResource.success.message")})),_(!1),f.m8.push(g.APIResourcesConstants.getPaths().get("API_RESOURCES"))})).catch((function(e){switch(null==e?void 0:e.code){case g.APIResourcesConstants.UNAUTHORIZED_ACCESS:x((0,i.V_)({description:I("extensions:develop.apiResource.notifications.deleteAPIResource.unauthorizedError.description"),level:a.QU.ERROR,message:I("extensions:develop.apiResource.notifications.deleteAPIResource.unauthorizedError.message")}));break;case g.APIResourcesConstants.NO_VALID_API_RESOURCE_ID_FOUND:case g.APIResourcesConstants.API_RESOURCE_NOT_FOUND:x((0,i.V_)({description:I("extensions:develop.apiResource.notifications.deleteAPIResource.notFoundError.description"),level:a.QU.ERROR,message:I("extensions:develop.apiResource.notifications.deleteAPIResource.notFoundError.message")}));break;default:x((0,i.V_)({description:I("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description"),level:a.QU.ERROR,message:I("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))}})).finally((function(){N(!1),V(void 0)}));var e},"data-testid":"".concat(E,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(E,"-delete-confirmation-modal-header")},I("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(E,"-delete-confirmation-modal-message")},I("extensions:develop.apiResource.confirmations.deleteAPIResource.message")),l.createElement(c.cV.Content,{"data-testid":"".concat(E,"-delete-confirmation-modal-content")},I("extensions:develop.apiResource.confirmations.deleteAPIResource.content"))))};P.defaultProps={"data-componentid":"general-api-resource"}},28183:(e,t,n)=>{n.r(t),n.d(t,{AuthorizationAPIResource:()=>o.AuthorizationAPIResource,GeneralAPIResource:()=>r.GeneralAPIResource,PermissionAPIResource:()=>a.PermissionAPIResource,PermissionListAPIResource:()=>i.PermissionListAPIResource});var o=n(27264),r=n(15576),a=n(1025),i=n(16892)},1025:(e,t,n)=>{n.r(t),n.d(t,{PermissionAPIResource:()=>h});var o=n(31092),r=n(89101),a=n(13318),i=n(81816),s=n(30640),c=n(52983),l=n(9202),d=n(39990),u=n(74691),m=n(14969),p=n(16892),f=n(78095);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var h=function(e){var t=e.apiResourceData,n=e.isAPIResourceDataLoading,g=e.isSubmitting,h=e.isReadOnly,A=e.isManagedByChoreo,v=e.handleUpdateAPIResource,P=e["data-componentid"],b=(0,l.$)().t,y=R((0,c.useState)([]),2),E=y[0],I=y[1],x=R((0,c.useState)([]),2),S=x[0],C=x[1],O=R((0,c.useState)(null),2),w=O[0],L=O[1],N=R((0,a.cC)(),2),z=N[0],U=N[1],_=R((0,c.useState)(""),2),k=_[0],D=_[1];(0,c.useEffect)((function(){t&&(I(t.permissions),C(t.permissions))}),[t,w]);return c.createElement(c.Fragment,null,A&&c.createElement(o.Z,{severity:"warning"},c.createElement(d.c,{i18nKey:"extensions:develop.apiResource.tabs.choreoApiEditWarning"},"Updating this API resource will create unforeseen errors as this is an API resource managed by Choreo. ",c.createElement("b",null,"Proceed with caution."))),c.createElement(i.pJ,{className:"padded",loading:n},c.createElement(r.Z,{container:!0,className:"mb-1"},c.createElement(r.Z,{xs:8},c.createElement(i.X6,{as:"h4",compact:!0},b("extensions:develop.apiResource.tabs.permissions.title")),c.createElement(i.X6,{as:"h6",color:"grey",subHeading:!0,className:"mb-5"},b("extensions:develop.apiResource.tabs.permissions.subTitle"))),c.createElement(r.Z,{xs:4,alignItems:"flex-end"},0!==(null==E?void 0:E.length)&&c.createElement(i.KM,{"data-componentid":"".concat(P,"-add-permission-button"),size:"medium",floated:"right",onClick:function(){return U()}},c.createElement(u.Z,{name:"add"}),b("extensions:develop.apiResource.tabs.permissions.button")))),c.createElement(i.PS,{showTopActionPanel:!n&&(null==E?void 0:E.length)>0,showPagination:!1,onPageChange:function(){return null},totalPages:100,"data-testid":"".concat(P,"-list-layout"),totalListSize:null==E?void 0:E.length,leftActionPanel:c.createElement("div",{className:"advanced-search-wrapper aligned-left fill-default"},c.createElement(m.Z,{className:"advanced-search with-add-on","data-testid":"".concat(P,"-list-search-input"),icon:"search",iconPosition:"left",onChange:function(e){var t=e.target.value;D(t),t.length>0?C(E.filter((function(e){return e.displayName.toLowerCase().includes(t.toLowerCase())}))):C(E)},placeholder:b("extensions:develop.apiResource.tabs.permissions.search"),floated:"right",size:"small",value:k}))},E?c.createElement(p.PermissionListAPIResource,{isAPIResourceDataLoading:n,isReadOnly:h,permissionList:E,serachedPermissionList:S,isSubmitting:g,clearSearchPermission:function(){D(""),C(E)},setRemovePermission:L,setTriggerAddAPIResourcePermissionModal:U}):c.createElement(i.$J,{subtitle:[b("extensions:develop.apiResource.apiResourceError.subtitles.0"),b("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:b("extensions:develop.apiResource.apiResourceError.title"),image:(0,s.jF)().genericError,imageSize:"tiny"}))),z&&c.createElement(f.AddAPIResourcePermission,{closeWizard:function(){return U()},handleUpdateAPIResource:v}),w&&c.createElement(i.cV,{primaryActionLoading:g,open:null!==w,onClose:function(){return L(null)},type:"negative",assertionHint:b("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.assertionHint"),assertionType:"checkbox",primaryAction:b("common:confirm"),secondaryAction:b("common:cancel"),onSecondaryActionClick:function(){return L(null)},onPrimaryActionClick:function(){v({deletedPermissions:[w.id]},(function(){return L(null)}))},"data-testid":"".concat(P,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(i.cV.Header,{"data-testid":"".concat(P,"-delete-confirmation-modal-header")},b("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.header")),c.createElement(i.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(P,"-delete-confirmation-modal-message")},b("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.message")),c.createElement(i.cV.Content,{"data-testid":"".concat(P,"-delete-confirmation-modal-content")},b("extensions:develop.apiResource.confirmations.deleteAPIResourcePermission.content"))))};h.defaultProps={"data-componentid":"permission-api-resource"}},78095:(e,t,n)=>{n.r(t),n.d(t,{AddAPIResource:()=>o.AddAPIResource,AddAPIResourcePermission:()=>r.AddAPIResourcePermission});var o=n(41723),r=n(972)}}]);