"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[52816,90917],{52816:(e,t,n)=>{n.r(t),n.d(t,{GroupList:()=>f});var l=n(7955),a=n(83374),i=n(81816),o=n(52983),r=n(9202),s=n(54221),c=n(74691),u=n(97860),d=n(90917),m=n(30640),p=n(37721),g=n(99839);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,i,o,r=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(l=i.call(n)).done)&&(r.push(l.value),r.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return r}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var f=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,h=e.handleGroupDelete,f=e.isLoading,v=e.readOnlyUserStores,E=e.featureConfig,R=e.onEmptyListPlaceholderActionClick,S=e.onSearchQueryClear,b=e.groupList,A=e.selection,I=e.searchQuery,T=e.showListItemActions,C=e.selectedUserStoreOption,O=e["data-testid"],N=(0,r.$)().t,U=(0,s.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),w=y((0,o.useState)(!1),2),P=w[0],_=w[1],L=y((0,o.useState)(),2),k=L[0],G=L[1],M=function(e){m.m8.push(m.$x.getPaths().get("GROUP_EDIT").replace(":id",e))},F=function(){return I&&0===(null==b?void 0:b.length)?o.createElement(i.$J,{"data-testid":"".concat(O,"-search-empty-placeholder"),action:o.createElement(i.Qj,{"data-testid":"".concat(O,"-search-empty-placeholder-clear-button"),onClick:S},N("console:manage.features.roles.list.emptyPlaceholders.search.action")),image:(0,m.jF)().emptySearch,imageSize:"tiny",title:N("console:manage.features.roles.list.emptyPlaceholders.search.title"),subtitle:[N("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.0",{searchQuery:I}),N("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.1")]}):0!==(null==b?void 0:b.length)?o.createElement(o.Fragment,null,o.createElement(l.di,{when:l.TA.GROUP_WRITE},o.createElement(i.$J,{"data-testid":"".concat(O,"-empty-list-empty-placeholder"),action:(C===g.CONSUMER_USERSTORE||C===p.J.ALL_GROUPS)&&o.createElement(i.KM,{"data-testid":"".concat(O,"-empty-list-empty-placeholder-add-button"),onClick:R},o.createElement(c.Z,{name:"add"}),N("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.action",{type:"Group"})),image:(0,m.jF)().newList,imageSize:"tiny",title:"No groups available",subtitle:[N("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"})]})),o.createElement(l.di,{when:[],notWhen:l.TA.GROUP_WRITE},o.createElement(i.$J,{"data-testid":"".concat(O,"-empty-list-empty-placeholder"),image:(0,m.jF)().newList,imageSize:"tiny",title:"No groups available",subtitle:[N("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"})]}))):null};return o.createElement(o.Fragment,null,o.createElement(i.wQ,{showHeader:!0,className:"groups-list",externalSearch:t,isLoading:f,loadingStateOptions:{count:null!=n?n:m.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(T){var e=[{hidden:function(){var e,t;return!(0,a.cr)(null==E?void 0:E.groups,p.J.FEATURE_DICTIONARY.get("GROUP_READ"))||!(0,a.hasRequiredScopes)(null==E?void 0:E.groups,null==E||null===(e=E.groups)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.create,U)},icon:function(e){var t,n,l=(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,a.cr)(null==E?void 0:E.groups,p.J.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||null!=v&&v.includes(l.toString())?"eye":"pencil alternate"},onClick:function(e,t){return M(t.id)},popupText:function(e){var t,n,l=(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,a.cr)(null==E?void 0:E.groups,p.J.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||null!=v&&v.includes(l.toString())?N("common:view"):N("common:edit")},renderer:"semantic-icon"}];return e.push({hidden:function(e){var t,n,l,i,o=(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,a.hasRequiredScopes)(null==E?void 0:E.groups,null==E||null===(l=E.groups)||void 0===l||null===(i=l.scopes)||void 0===i?void 0:i.delete,U)||(null==v?void 0:v.includes(o.toString()))||o.toString()!==g.CONSUMER_USERSTORE},icon:function(){return"trash alternate"},onClick:function(e,t){G(t),_(!P)},popupText:function(){return N("console:manage.features.roles.list.popups.delete",{type:"Group"})},renderer:"semantic-icon"}),e}}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return o.createElement(u.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(O,"-item-heading")},o.createElement(i.JT,{image:o.createElement(i.Xo,{name:(0,d.resolveGroupName)(e),size:"mini","data-testid":"".concat(O,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(O,"-item-image")}),o.createElement(u.Z.Content,null,o.createElement("div",{className:"mt-1"},(0,d.resolveGroupName)(e)," ")))},title:N("console:manage.features.groups.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"type",id:"type",key:"type",render:function(e){var t=(0,a.tF)(e.displayName);return t===g.CONSUMER_USERSTORE?g.CONSUMER_USERSTORE:t.toUpperCase()},title:o.createElement(o.Fragment,null,N("console:manage.features.groups.list.columns.source"),o.createElement(i.GI,{trigger:o.createElement("div",{className:"inline"},o.createElement(c.Z,{disabled:!0,name:"info circle",className:"link pointing pl-1"})),content:"Where group is managed.",position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}))},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:b,onRowClick:function(e,t){var n,l;(0,a.hasRequiredScopes)(null==E?void 0:E.groups,null==E||null===(n=E.groups)||void 0===n||null===(l=n.scopes)||void 0===l?void 0:l.create,U)&&M(null==t?void 0:t.id)},placeholders:F(),selectable:A,transparent:!f&&null!==F(),"data-testid":O}),P&&o.createElement(i.cV,{"data-testid":"".concat(O,"-delete-item-confirmation-modal"),onClose:function(){return _(!1)},type:"negative",open:P,assertionHint:N("console:manage.features.roles.list.confirmations.deleteItem.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return _(!1)},onPrimaryActionClick:function(){h(k),_(!1)},closeOnDimmerClick:!1},o.createElement(i.cV.Header,null,N("console:manage.features.roles.list.confirmations.deleteItem.header")),o.createElement(i.cV.Message,{attached:!0,negative:!0},N("console:manage.features.roles.list.confirmations.deleteItem.message",{type:"group"})),o.createElement(i.cV.Content,null,N("console:manage.features.roles.list.confirmations.deleteItem.content",{type:"group"}))))};f.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0}},90917:(e,t,n)=>{n.r(t),n.d(t,{resolveGroupName:()=>l});var l=function(e){var t,n;return(null==e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[1]:null==e?void 0:e.displayName}}}]);