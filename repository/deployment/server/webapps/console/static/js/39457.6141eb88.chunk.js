"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[39457],{39457:(e,n,a)=>{a.r(n),a.d(n,{ValidationConfigEditPage:()=>h,default:()=>f});var t=a(83374),r=a(14603),i=a(90268),o=a(59206),l=a(81816),s=a(52983),c=a(9202),m=a(54221),d=a(16184),u=a(94635),I=a(75917),N=a(91478),O=a(30640),_=a(80617),A=a(9447),L=a(85585),T=a(15746);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function g(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function R(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?g(Object(a),!0).forEach((function(n){S(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function S(e,n,a){return(n=function(e){var n=function(e,n){if("object"!==p(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,n||"default");if("object"!==p(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===p(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,r,i,o,l=[],s=!0,c=!1;try{if(i=(a=a.call(e)).next,0===n){if(Object(a)!==a)return;s=!1}else for(;!(s=(t=i.call(a)).done)&&(l.push(t.value),l.length!==n);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var E="validation-config-form",h=function(e){var n=e["data-componentid"],a=(0,m.I0)(),p=(0,s.useRef)(null),g=(0,c.$)().t,v=(0,l.fQ)().getLink,h=(0,m.v9)((function(e){var n,a;return null==e||null===(n=e.config)||void 0===n||null===(a=n.ui)||void 0===a?void 0:a.isPasswordInputValidationEnabled})),f=(0,m.v9)((function(e){var n,a;return null==e||null===(n=e.config)||void 0===n||null===(a=n.ui)||void 0===a?void 0:a.features})),F=(0,m.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.allowedScopes})),D=C((0,s.useState)(!1),2),b=D[0],P=D[1],V=C((0,s.useState)(void 0),2),M=V[0],U=V[1],y=C((0,s.useState)(!0),1)[0],x=C((0,s.useState)(!1),2),w=x[0],G=x[1],W=C((0,s.useState)(!1),2),q=W[0],X=W[1],H=C((0,s.useState)(void 0),2),j=H[0],k=H[1],Q=C((0,s.useState)(!0),2),Z=Q[0],B=Q[1],$=C((0,s.useState)(!1),2),z=$[0],Y=$[1],J=C((0,s.useState)(!1),2),K=J[0],ee=J[1],ne=C((0,s.useState)(void 0),2),ae=ne[0],te=ne[1],re=C((0,s.useState)([]),2),ie=re[0],oe=re[1],le=(0,s.useMemo)((function(){var e,n;return!(0,t.hasRequiredScopes)(null==f?void 0:f.governanceConnectors,null==f||null===(e=f.governanceConnectors)||void 0===e||null===(n=e.scopes)||void 0===n?void 0:n.update,F)}),[f,F]),se=N.serverConfigurationConfig.usePasswordHistory(),ce=se.data,me=se.error,de=se.mutate,ue=N.serverConfigurationConfig.usePasswordExpiry(),Ie=ue.data,Ne=ue.error,Oe=ue.mutate,_e=(0,L.W)(h),Ae=_e.data,Le=_e.error,Te=_e.mutate;(0,s.useEffect)((function(){h||ge()}),[]),(0,s.useEffect)((function(){!ce||!Ie||h&&!Ae||!h&&!ie&&(null==ie?void 0:ie.length)>0||pe()}),[ce,Ae,Ie,ie]),(0,s.useEffect)((function(){void 0!==M&&(k(R({},M)),null!=M&&M.uniqueCharacterValidatorEnabled&&G(!0),null!=M&&M.consecutiveCharacterValidatorEnabled&&X(!0),B(!1))}),[M]),(0,s.useEffect)((function(){var e,n,t,o,l,s;if(Le||me||Ne)if(null!=Le&&null!==(e=Le.response)&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.description){var c,m;if(404===(null==Le||null===(c=Le.response)||void 0===c?void 0:c.status))return;a((0,i.V_)({description:null!==(m=Le.response.data.description)&&void 0!==m?m:g("console:manage.features.validation.fetchValidationConfigData.error.description"),level:r.QU.ERROR,message:g("console:manage.features.validation.fetchValidationConfigData.error.message")}))}else if(null!=me&&null!==(t=me.response)&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.description){var d,u;if(404===(null==me||null===(d=me.response)||void 0===d?void 0:d.status))return;a((0,i.V_)({description:null!==(u=Le.response.data.description)&&void 0!==u?u:g("console:manage.features.validation.fetchValidationConfigData.error.description"),level:r.QU.ERROR,message:g("console:manage.features.validation.fetchValidationConfigData.error.message")}))}else if(null!=Ne&&null!==(l=Ne.response)&&void 0!==l&&null!==(s=l.data)&&void 0!==s&&s.description){var I;if(404===(null==Ne||null===(I=Ne.response)||void 0===I?void 0:I.status))return;a((0,i.V_)({description:Ne.response.data.description,level:r.QU.ERROR,message:g("console:manage.features.validation.fetchValidationConfigData.error.message")}))}else a((0,i.V_)({description:g("console:manage.features.validation.fetchValidationConfigData.genericError.description"),level:r.QU.ERROR,message:g("console:manage.features.validation.fetchValidationConfigData.genericError.message")}))}),[Le,me,Ne]);var pe=function(){var e,n=null===N.serverConfigurationConfig||void 0===N.serverConfigurationConfig?void 0:N.serverConfigurationConfig.processInitialValues((0,A.P_)(Ae),ce,Y);(n=N.serverConfigurationConfig.processPasswordExpiryInitialValues(n,Ie,ee),h)||(n=ie.reduce((function(e,n){var a=_.e9.encodeConnectorPropertyName(n.name);return R(R({},e),{},S({},a,n.value))}),n),te("true"===(null===(e=n)||void 0===e?void 0:e[_.e9.encodeConnectorPropertyName(_.vH.PASSWORD_POLICY_ENABLE)])));U(n)},ge=function(){(0,_.PP)(_.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,_.vH.PASSWORD_POLICY_CONNECTOR_ID).then((function(e){oe(null==e?void 0:e.properties)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?a((0,i.V_)({description:g("console:manage.features.governanceConnectors.notifications.getConnector.error.description",{description:e.response.data.description}),level:r.QU.ERROR,message:g("console:manage.features.governanceConnectors.notifications.getConnector.error.message")})):a((0,i.V_)({description:g("console:manage.features.governanceConnectors.notifications.getConnector.genericError.description"),level:r.QU.ERROR,message:g("console:manage.features.governanceConnectors.notifications.getConnector.genericError.message")}))}))},Re=function(e){var n=R({},e),t=N.serverConfigurationConfig.processPasswordPoliciesSubmitData(n,!h);if(e.uniqueCharacterValidatorEnabled&&"0"===e.minUniqueCharacters&&(n.minUniqueCharacters="1"),e.consecutiveCharacterValidatorEnabled&&"0"===e.maxConsecutiveCharacters&&(n.maxConsecutiveCharacters="1"),function(e){var n=!1,t="";return y&&(Number(e.minLength)<T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE?(n=!0,t=g("console:manage.features.validation.validationError.minLimitError")):Number(e.maxLength)>T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE?(n=!0,t=g("console:manage.features.validation.validationError.maxLimitError")):Number(e.minLength)>Number(e.maxLength)?(n=!0,t=g("console:manage.features.validation.validationError.minMaxMismatch")):e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>Number(e.minLength)?(n=!0,t=g("console:manage.features.validation.validationError.uniqueChrMismatch")):e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>Number(e.minLength)?(n=!0,t=g("console:manage.features.validation.validationError.consecutiveChrMismatch")):Number(e.minLowerCaseCharacters)+Number(e.minUpperCaseCharacters)+Number(e.minSpecialCharacters)+Number(e.minNumbers)>Number(e.minLength)&&(n=!0,t=g("console:manage.features.validation.validationError.invalidConfig"))),!n||(a((0,i.V_)({description:t,level:r.QU.ERROR,message:g("console:manage.features.validation.validationError.wrongCombination")})),!1)}(n)){P(!0);var o=[t];h&&o.push((0,L.s)(n,null,Ae[0])),Promise.all(o).then((function(){de(),Oe(),h?Te():ge(),a((0,i.V_)({description:g("console:manage.features.validation.notifications.success.description"),level:r.QU.SUCCESS,message:g("console:manage.features.validation.notifications.success.message")}))})).catch((function(e){var n,t,o,l,s,c,m,d,u,I,N;null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.description?a((0,i.V_)({description:null!==(o=null!==(l=null==e||null===(s=e.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.description)&&void 0!==l?l:null==e||null===(m=e.response)||void 0===m||null===(d=m.data)||void 0===d?void 0:d.detail)&&void 0!==o?o:g("console:manage.features.validation.notifications.error.description"),level:r.QU.ERROR,message:null!==(u=null==e||null===(I=e.response)||void 0===I||null===(N=I.data)||void 0===N?void 0:N.message)&&void 0!==u?u:g("console:manage.features.validation.notifications.error.message")})):a((0,i.V_)({description:g("console:manage.features.validation.notifications.genericError.description"),level:r.QU.ERROR,message:g("console:manage.features.validation.notifications.genericError.message")}))})).finally((function(){P(!1)}))}};return s.createElement(l.Xg,{pageTitle:g("console:manage.features.validation.pageTitle"),title:s.createElement(s.Fragment,null,g("console:manage.features.validation.pageTitle")),description:s.createElement(s.Fragment,null,g("console:manage.features.validation.description"),s.createElement(l.eb,{link:v("manage.validation.passwordValidation.learnMore")},g("common:learnMore"))),"data-componentid":"".concat(n,"-page-layout"),backButton:{"data-testid":"".concat(n,"-page-back-button"),onClick:function(){O.m8.push(O.$x.getPaths().get("LOGIN_AND_REGISTRATION"))},text:g("console:manage.features.governanceConnectors.goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0},s.createElement(d.R,{innerRef:p},s.createElement(u.Z,{className:"mt-3"},s.createElement(u.Z.Row,{columns:1},s.createElement(u.Z.Column,{width:16},s.createElement(l.pJ,{className:"form-wrapper",padded:"very"},s.createElement("div",{className:"validation-configurations password-validation-configurations"},Z?s.createElement(l.pO,null):s.createElement(o.l0,{id:E,initialValues:M,uncontrolledForm:!0,validate:null,onSubmit:function(e){return Re(e)},enableReInitialize:!0},y&&s.createElement("div",{className:"validation-configurations-form"},N.serverConfigurationConfig.passwordExpiryComponent(n,K,ee,g,le),s.createElement(I.Z,{className:"mt-4 mb-5"}),N.serverConfigurationConfig.passwordHistoryCountComponent(n,z,Y,g,le)),h?s.createElement("div",{className:"validation-configurations-form"},s.createElement("div",{className:"criteria"},s.createElement("label",null,"Must be between"),s.createElement(o.gN.Input,{ariaLabel:"minLength",inputType:"number",name:"minLength",validation:function(e,n){var a=parseInt(e),t=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=n.maxLength?parseInt(n.maxLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:j.maxLength?j.maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,listen:function(e){k(R(R({},j),{},{minLength:e}))},readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-length")}),s.createElement("label",null,"and"),s.createElement(o.gN.Input,{ariaLabel:"maxLength",inputType:"number",name:"maxLength",validation:function(e,n){var a=parseInt(e),t=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){k(R(R({},j),{},{maxLength:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,labelPosition:"top",minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-max-length")}),s.createElement("label",null,"characters")),s.createElement("label",{className:"labelName"},"Must contain at least"),s.createElement("div",{className:"criteria rule mt-3"},s.createElement(o.gN.Input,{ariaLabel:"minNumbers",inputType:"number",name:"minNumbers",validation:function(e,n){var a=parseInt(e),t=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(R(R({},j),{},{minNumbers:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:le,disabled:!1,"data-componentid":"".concat(n,"-min-numbers")}),s.createElement("label",null,"numbers (0-9).")),s.createElement("div",{className:"criteria rule"},s.createElement(o.gN.Input,{ariaLabel:"minUpperCaseCharacters",inputType:"number",name:"minUpperCaseCharacters",validation:function(e,n){var a=parseInt(e),t=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(R(R({},j),{},{minUpperCaseCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-upper-case-characters")}),s.createElement("label",null,"upper-case characters (A-Z).")),s.createElement("div",{className:"criteria rule"},s.createElement(o.gN.Input,{ariaLabel:"minLowerCaseCharacters",inputType:"number",name:"minLowerCaseCharacters",validation:function(e,n){var a=parseInt(e),t=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(R(R({},j),{},{minLowerCaseCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-lower-case-characters")}),s.createElement("label",null,"lower-case characters (a-z).")),s.createElement("div",{className:"criteria rule"},s.createElement(o.gN.Input,{ariaLabel:"minSpecialCharacters",inputType:"number",name:"minSpecialCharacters",validation:function(e,n){var a=parseInt(e),t=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){k(R(R({},j),{},{minSpecialCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!1,"data-testid":"".concat(n,"-min-special-characters")}),s.createElement("label",null,"special characters (!@#$%^&*).")),s.createElement("div",{className:"criteria"},s.createElement(o.gN.Checkbox,{ariaLabel:"uniqueCharacterValidatorEnabled",name:"uniqueCharacterValidatorEnabled",required:!1,label:"Must contain at least",listen:function(e){G(e)},width:16,"data-testid":"".concat(n,"-unique-chr-enable"),readOnly:le}),s.createElement(o.gN.Input,{ariaLabel:"minUniqueCharacters",inputType:"number",name:"minUniqueCharacters",validation:function(e,n){var a=parseInt(e);if(a<1)return g("common:minValidation",{min:1});var t=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>t?g("common:maxValidation",{max:t}):void 0},min:1,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"min",value:Number(M.minUniqueCharacters)>0?M.minUniqueCharacters:1,listen:function(e){k(R(R({},j),{},{minUniqueCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!w,"data-testid":"".concat(n,"-min-unique-chr")}),s.createElement("label",null,"unique characters.")),s.createElement("div",{className:"criteria"},s.createElement(o.gN.Checkbox,{ariaLabel:"consecutiveCharacterValidatorEnabled",name:"consecutiveCharacterValidatorEnabled",label:"Must not contain more than",required:!1,disabled:!1,listen:function(e){X(e)},width:16,"data-testid":"".concat(n,"-consecutive-chr-enable"),readOnly:le}),s.createElement(o.gN.Input,{ariaLabel:"maxConsecutiveCharacters",inputType:"number",name:"maxConsecutiveCharacters",validation:function(e,n){var a=parseInt(e);if(a<1)return g("common:minValidation",{min:1});var t=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>t?g("common:maxValidation",{max:t}):void 0},min:1,max:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"max",value:Number(M.maxConsecutiveCharacters)>0?M.maxConsecutiveCharacters:1,listen:function(e){k(R(R({},j),{},{maxConsecutiveCharacters:e}))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!q,"data-testid":"".concat(n,"-max-consecutive-chr")}),s.createElement("label",null,"repeated characters."))):s.createElement(s.Fragment,null,s.createElement(o.gN.Checkbox,{className:"toggle mb-4",ariaLabel:"passwordPolicy.enable",name:_.e9.encodeConnectorPropertyName("passwordPolicy.enable"),required:!1,checked:ae,label:_.e9.resolveFieldLabel("Password Policies","passwordPolicy.enable","Validate passwords based on a policy pattern"),width:16,"data-componentid":"".concat(n,"-enable-password-policy"),listen:function(e){return te(e)},readOnly:le}),s.createElement("div",{className:"validation-configurations-form mt-3 mb-3"},s.createElement("div",{className:"criteria"},s.createElement("label",null,"Must be between"),s.createElement(o.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:_.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),validation:function(e,n){var a=parseInt(e),t=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=n.maxLength?parseInt(n.maxLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:j.maxLength?j.maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,listen:function(e){k(R(R({},j),{},S({},_.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),e)))},width:2,required:!0,hidden:!1,placeholder:"min",maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!ae,"data-testid":"".concat(n,"-min-length")}),s.createElement("label",null,"and"),s.createElement(o.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:_.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),validation:function(e,n){var a=parseInt(e),t=n.minLength?parseInt(n.minLength):T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(a<t)return g("common:minValidation",{min:t});var r=T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE;return a>r?g("common:maxValidation",{max:r}):void 0},min:j.minLength?j.minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_VALUE,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){k(R(R({},j),{},S({},_.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),e)))},maxLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MAX_LENGTH,labelPosition:"top",minLength:T.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:le,disabled:!ae,"data-testid":"".concat(n,"-max-length")}),s.createElement("label",null,"characters"))),s.createElement(o.gN.Input,{ariaLabel:"passwordPolicy.pattern",inputType:"text",name:_.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),type:"text",width:12,required:!0,placeholder:"Enter password pattern regex",labelPosition:"top",minLength:3,maxLength:100,readOnly:le,listen:function(e){k(R(R({},j),{},S({},_.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),e)))},"data-componentid":"".concat(n,"-password-pattern-regex"),label:_.e9.resolveFieldLabel("Password Validation","passwordPolicy.pattern","Password pattern regex"),disabled:!ae}),s.createElement(l.kW,{className:"mb-4"},_.e9.resolveFieldHint("Password Validation","passwordPolicy.pattern","Length of the OTP for SMS and e-mail verifications. OTP length must be 4-10.")),s.createElement(o.gN.Input,{ariaLabel:"passwordPolicy.errorMsg",inputType:"text",name:_.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),type:"text",width:12,required:!0,placeholder:"Enter password pattern regex",labelPosition:"top",minLength:3,maxLength:100,readOnly:le,listen:function(e){k(R(R({},j),{},S({},_.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),e)))},"data-componentid":"".concat(n,"-password-policy-error-msg"),label:_.e9.resolveFieldLabel("Password Validation","passwordPolicy.errorMsg","Error message on pattern violation"),disabled:!ae}),s.createElement(l.kW,null,_.e9.resolveFieldHint("Password Validation","passwordPolicy.errorMsg","This error message will be displayed when a pattern violation is detected."))),s.createElement(o.gN.Button,{form:E,size:"small",buttonType:"primary_btn",ariaLabel:"Validation configuration update button",name:"update-button","data-testid":"".concat(n,"-submit-button"),loading:b,label:g("common:update"),hidden:le})))))))))};h.defaultProps={"data-componentid":"validation-config-edit-page"};const f=h}}]);