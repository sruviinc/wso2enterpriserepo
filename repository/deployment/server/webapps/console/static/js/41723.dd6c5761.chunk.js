"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[41723,12801,50443,39064,45273],{41723:(e,t,r)=>{r.r(t),r.d(t,{AddAPIResource:()=>E});var i=r(14603),n=r(90268),a=r(13318),o=r(81816),s=r(52983),c=r(9202),l=r(54221),d=r(21921),u=r(94635),p=r(74691),m=r(44985),A=r(30640),f=r(15522),R=r(12801),I=r(55379),v=r(39064);function S(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw n}}return s}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}var E=function(e){var t,r=e.closeWizard,g=e.currentStep,b=e.lastStepFormType,E=e["data-componentid"],P=(0,c.$)().t,h=(0,l.I0)(),O=y((0,a.cC)(),2),w=O[0],z=O[1],T=y((0,a.cC)(),2),x=T[0],C=T[1],Z=y((0,s.useState)(!1),2),_=Z[0],N=Z[1],L=y((0,s.useState)(void 0),2),W=L[0],j=L[1],k=y((0,s.useState)(void 0),2),F=k[0],V=k[1],U=y((0,s.useState)(!0),2),B=U[0],D=U[1],M=y((0,s.useState)(new Map),2),H=M[0],Q=M[1],Y=y((0,s.useState)(g),2),q=Y[0],X=Y[1],G=y((0,s.useState)(v.AddAPIResourceWizardStepsFormTypes.BASIC_DETAILS),2),K=G[0],$=G[1],J=y((0,s.useState)(!1),2),ee=J[0],te=J[1],re=y((0,s.useState)(!1),2),ie=re[0],ne=re[1],ae=function(){switch(K){case v.AddAPIResourceWizardStepsFormTypes.BASIC_DETAILS:z();break;case v.AddAPIResourceWizardStepsFormTypes.PERMISSIONS:var e,r;(null==W||null===(e=W.get("displayName"))||void 0===e?void 0:e.toString().trim())!==(null==W||null===(r=W.get("identifier"))||void 0===r?void 0:r.toString().trim())&&C(),oe();break;case v.AddAPIResourceWizardStepsFormTypes.AUTHORIZATION:t()}},oe=function(){var e=q+1;X(e),$(se[e].addAPIResourceWizardStepsFormType)},se=[{addAPIResourceWizardStepsFormType:v.AddAPIResourceWizardStepsFormTypes.BASIC_DETAILS,content:s.createElement(m.AddAPIResourceBasic,{initalBasicDetails:F,setBasicDetails:V,triggerSubmission:w,submitCallback:oe,isIdentifierValidationLoading:ee,setIdentifierValidationLoading:te}),icon:(0,R.getAPIResourceWizardStepIcons)().general,title:P("extensions:develop.apiResource.wizard.addApiResource.steps.basic.stepTitle")},{addAPIResourceWizardStepsFormType:v.AddAPIResourceWizardStepsFormTypes.PERMISSIONS,content:s.createElement(m.AddAPIResourcePermissions,{setPermissionsList:Q,initialPermissions:H,triggerAddPermission:x,setAddPermission:C,setLatestPermissionFormValues:j,isPermissionValidationLoading:ie,setPermissionValidationLoading:ne}),icon:(0,R.getAPIResourceWizardStepIcons)().permissions,title:P("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.stepTitle")},{addAPIResourceWizardStepsFormType:v.AddAPIResourceWizardStepsFormTypes.AUTHORIZATION,content:s.createElement(m.AddAPIResourceAuthorization,{triggerSubmission:function(e){t=e},initalRequiredAuthorizationValue:B,setRequiredAuthorization:D,submitCallback:function(e){N(!0);var t={displayName:F.displayName,gwName:I.APIResourcesConstants.EMPTY_STRING,identifier:F.identifier,permissions:S(H.values()),requiresAuthorization:e};(0,f.createAPIResource)(t).then((function(e){h((0,n.V_)({description:P("extensions:develop.apiResource.notifications.addAPIResource.success.description"),level:i.QU.SUCCESS,message:P("extensions:develop.apiResource.notifications.addAPIResource.success.message")})),A.m8.push(I.APIResourcesConstants.getPaths().get("API_RESOURCE_EDIT").replace(":id",e.id))})).catch((function(e){switch(null==e?void 0:e.code){case I.APIResourcesConstants.UNAUTHORIZED_ACCESS:h((0,n.V_)({description:P("extensions:develop.apiResource.notifications.addAPIResource.unauthorizedError.description"),level:i.QU.ERROR,message:P("extensions:develop.apiResource.notifications.addAPIResource.unauthorizedError.message")}));break;case I.APIResourcesConstants.API_RESOURCE_ALREADY_EXISTS:h((0,n.V_)({description:P("extensions:develop.apiResource.notifications.addAPIResource.alreadyExistsError.description"),level:i.QU.ERROR,message:P("extensions:develop.apiResource.notifications.addAPIResource.alreadyExistsError.message")}));break;case I.APIResourcesConstants.PERMISSION_ALREADY_EXISTS:h((0,n.V_)({description:P("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.description"),level:i.QU.ERROR,message:P("extensions:develop.apiResource.notifications.addAPIResource.permissionAlreadyExistsError.message")}));break;case I.APIResourcesConstants.INVALID_REQUEST_PAYLOAD:h((0,n.V_)({description:P("extensions:develop.apiResource.notifications.addAPIResource.invalidPayloadError.description"),level:i.QU.ERROR,message:P("extensions:develop.apiResource.notifications.addAPIResource.invalidPayloadError.message")}));break;default:h((0,n.V_)({description:P("extensions:develop.apiResource.notifications.addAPIResource.genericError.description"),level:i.QU.ERROR,message:P("extensions:develop.apiResource.notifications.addAPIResource.genericError.message")}))}})).finally((function(){N(!1),r()}))}}),icon:(0,R.getAPIResourceWizardStepIcons)().authorize,title:P("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.stepTitle")}];return s.createElement(d.Z,{"data-testid":E,open:!0,className:"wizard api-resource-create-wizard",dimmer:"blurring",onClose:r,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(d.Z.Header,{className:"wizard-header"},P("extensions:develop.apiResource.wizard.addApiResource.title"),s.createElement(o.X6,{as:"h6"},P("extensions:develop.apiResource.wizard.addApiResource.subtitle"))),s.createElement(d.Z.Content,{scrolling:!0,className:"steps-container"},s.createElement(o.Rg.Group,{current:q},se.map((function(e){return s.createElement(o.Rg.Step,{key:e.title,icon:e.icon,title:e.title})})))),s.createElement(d.Z.Content,{className:"content-container",scrolling:!0},se[q].content),s.createElement(d.Z.Actions,null,s.createElement(u.Z,null,s.createElement(u.Z.Row,{column:1},s.createElement(u.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(o.Qj,{tabIndex:6,"data-testid":"".concat(E,"-cancel-button"),floated:"left",onClick:function(){return r()}},P("extensions:develop.apiResource.wizard.addApiResource.cancelButton"))),s.createElement(u.Z.Column,{mobile:8,tablet:8,computer:8},K!==b&&s.createElement(o.KM,{tabIndex:7,"data-testid":"".concat(E,"-next-button"),floated:"right",onClick:function(){return ae()},loading:ee,disabled:ee},P("extensions:develop.apiResource.wizard.addApiResource.nextButton"),s.createElement(p.Z,{name:"arrow right"})),K===b&&s.createElement(o.KM,{tabIndex:8,"data-testid":"".concat(E,"-finish-button"),floated:"right",onClick:function(){return ae()},loading:_||ie},P("extensions:develop.apiResource.wizard.addApiResource.submitButton")),q>0&&s.createElement(o.Qj,{tabIndex:9,"data-testid":"".concat(E,"-previous-button"),floated:"right",onClick:function(){return X(e=q-1),void $(se[e].addAPIResourceWizardStepsFormType);var e},loading:_},s.createElement(p.Z,{name:"arrow left"}),P("extensions:develop.apiResource.wizard.addApiResource.previousButton")))))))};E.defaultProps={currentStep:0,"data-componentid":"add-api-resource",lastStepFormType:v.AddAPIResourceWizardStepsFormTypes.AUTHORIZATION}},12801:(e,t,r)=>{r.r(t),r.d(t,{getAPIResourceWizardStepIcons:()=>i.getAPIResourceWizardStepIcons});var i=r(50443)},50443:(e,t,r)=>{r.r(t),r.d(t,{getAPIResourceWizardStepIcons:()=>o});var i=r(14776),n=r(62211),a=r(24941),o=function(){return{authorize:i.r,general:n.r,permissions:a.r}}},45273:(e,t,r)=>{var i;r.r(t),r.d(t,{AddAPIResourceWizardStepsFormTypes:()=>i}),function(e){e.BASIC_DETAILS="BasicDetails",e.AUTHORIZATION="Authorization",e.PERMISSIONS="Permission"}(i||(i={}))},39064:(e,t,r)=>{r.r(t),r.d(t,{AddAPIResourceWizardStepsFormTypes:()=>i.AddAPIResourceWizardStepsFormTypes});var i=r(45273)},14776:(e,t,r)=>{r.d(t,{r:()=>u});var i,n,a,o=r(52983),s=["title","titleId"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=function(e,t){var r=e.title,d=e.titleId,u=l(e,s);return o.createElement("svg",c({id:"account-policy-icon",xmlns:"http://www.w3.org/2000/svg",className:"icon",width:14,height:14,viewBox:"0 0 16.782 19.097",ref:t,"aria-labelledby":d},u),r?o.createElement("title",{id:d},r):null,i||(i=o.createElement("path",{id:"Path_233",className:"path",d:"M89.988,127.019a5.035,5.035,0,1,0,5.035-5.035A5.041,5.041,0,0,0,89.988,127.019Zm3.357,3.538v-.181a1.678,1.678,0,1,1,3.356,0v.181a3.911,3.911,0,0,1-3.356,0Zm5.594-3.538a3.9,3.9,0,0,1-1.176,2.794,2.8,2.8,0,0,0-5.481,0,3.915,3.915,0,1,1,6.656-2.794Zm0,0",transform:"translate(-86.632 -117.435)",fill:"#464646"})),n||(n=o.createElement("path",{id:"Path_234",className:"path",d:"M183.337,183.655a1.678,1.678,0,1,0-1.678,1.678A1.68,1.68,0,0,0,183.337,183.655Zm-1.678.559a.559.559,0,1,1,.559-.559A.56.56,0,0,1,181.659,184.214Zm0,0",transform:"translate(-173.267 -175.189)",fill:"#464646"})),a||(a=o.createElement("path",{id:"Path_235",className:"path",d:"M8.391,0,0,3.623V6.658A13.431,13.431,0,0,0,8.171,19l.22.094L8.612,19A13.431,13.431,0,0,0,16.782,6.658V3.623Zm7.272,6.658A12.311,12.311,0,0,1,8.391,17.877,12.311,12.311,0,0,1,1.119,6.658v-2.3l7.272-3.14,7.272,3.14Zm0,0",fill:"#464646"})))},u=(0,o.forwardRef)(d)},24941:(e,t,r)=>{r.d(t,{r:()=>l});var i,n=r(52983),a=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=function(e,t){var r=e.title,c=e.titleId,l=s(e,a);return n.createElement("svg",o({id:"key-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",style:{enableBackground:"new 0 0 14 14"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},l),r?n.createElement("title",{id:c},r):null,i||(i=n.createElement("path",{className:"path fill primary",d:"M.292,14A.292.292,0,0,1,0,13.708V11.375a.291.291,0,0,1,.086-.206l1.081-1.082V9.625a.292.292,0,0,1,.292-.292h.463l.413-.412V8.458a.292.292,0,0,1,.292-.292h.463L3.5,7.754V7.292A.292.292,0,0,1,3.792,7h.463l.292-.292-.377-.377a.291.291,0,0,1,.076-.467L4.766,5.6a4.606,4.606,0,0,1-.1-.937A4.667,4.667,0,1,1,8.4,9.234l-.26.521a.292.292,0,0,1-.467.076l-.377-.377-4.46,4.46A.3.3,0,0,1,2.625,14ZM1.75,10.209a.294.294,0,0,1-.085.206L.583,11.5v1.921H2.5L7.086,8.835a.292.292,0,0,1,.412,0l.3.3.183-.365a.292.292,0,0,1,.334-.152A4.081,4.081,0,1,0,5.25,4.667a4.116,4.116,0,0,0,.135,1.022.293.293,0,0,1-.152.334L4.867,6.2l.3.3a.291.291,0,0,1,0,.412L4.581,7.5a.291.291,0,0,1-.206.086H4.083v.292A.291.291,0,0,1,4,8.081l-.583.583a.291.291,0,0,1-.206.086H2.917v.292a.289.289,0,0,1-.086.206l-.583.584a.294.294,0,0,1-.206.085H1.75Zm.086,1.956a.292.292,0,0,1,0-.412L5.918,7.669a.291.291,0,0,1,.412.412L2.247,12.164a.291.291,0,0,1-.412,0Zm7.5-8.956a1.458,1.458,0,1,1,1.458,1.458A1.46,1.46,0,0,1,9.333,3.209Zm.583,0a.875.875,0,1,0,.875-.875A.876.876,0,0,0,9.916,3.209Z"})))},l=(0,n.forwardRef)(c)}}]);