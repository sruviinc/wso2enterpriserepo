(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[80746,64322,1818,63381,94721,52213,48264,3497],{64322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteGuestUser:()=>r.deleteGuestUser,deleteInvite:()=>r.deleteInvite,generateInviteLink:()=>r.generateInviteLink,getInvitedUserList:()=>r.getInvitedUserList,getUserStores:()=>i.getUserStores,resendInvite:()=>r.resendInvite,sendInvite:()=>r.sendInvite,updateInvite:()=>r.updateInvite,useInvitedUsersList:()=>r.useInvitedUsersList});var r=n(1818),i=n(63381)},1818:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteGuestUser:()=>g,deleteInvite:()=>p,generateInviteLink:()=>y,getInvitedUserList:()=>d,resendInvite:()=>h,sendInvite:()=>f,updateInvite:()=>v,useInvitedUsersList:()=>m});var r=n(93967),i=n(57477),o=n(14603),a=n(85850),s=n(43991),l=n(26187),u=n(99839),c=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),d=function(){var e={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,url:l.h.getState().config.endpoints.inviteEndpoint};return c(e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{"Content-Type":"application/json"},method:o.f2.GET,url:l.h.getState().config.endpoints.inviteEndpoint},n=(0,s.Z)(e?t:null),r=n.data,i=n.error;return{data:r,error:i,isLoading:!i&&!r,isValidating:n.isValidating,mutate:n.mutate}},f=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:l.h.getState().config.endpoints.inviteEndpoint};return c(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var t={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.DELETE,url:l.h.getState().config.endpoints.inviteEndpoint+"/"+e};return c(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},v=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:l.h.getState().config.endpoints.inviteEndpoint+"/"+e};return c(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},g=function(e){var t={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.DELETE,url:l.h.getState().config.endpoints.userEndpoint+"/"+e};return c(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},h=function(e){var t={headers:{"Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:l.h.getState().config.endpoints.resendEndpoint.replace("{}",e)};return c(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},y=function(e,t){var n={data:{username:e,userstore:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:a.De.resolveServerHost()+l.h.getState().config.endpoints.inviteLinkEndpoint};return c(n).then((function(e){if(201!==e.status)throw new i.u(u.UsersConstants.INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t,n,r,o,a;throw new i.u(null!==(t=null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)&&void 0!==t?t:u.UsersConstants.RESOURCE_NOT_FOUND_ERROR_MESSAGE,e.stack,null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.code,e.request,e.response,e.config)}))}},63381:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getUserStores:()=>u});var r=n(93967),i=n(57477),o=n(14603),a=n(30640),s=n(99839),l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),u=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{requiredAttributes:s.UsersConstants.USER_STORE_PROPERTY_READ_ONLY},url:a.h.getState().config.endpoints.userStores};return l(e).then((function(e){if(200!==e.status)throw new i.u(s.UsersConstants.INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t,n,r,o,a;throw new i.u(null!==(t=null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)&&void 0!==t?t:s.UsersConstants.RESOURCE_NOT_FOUND_ERROR_MESSAGE,e.stack,null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.code,e.request,e.response,e.config)}))}},52213:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InvitationStatus:()=>r.InvitationStatus,InviteUserStatus:()=>r.InviteUserStatus,InviteValidationStatus:()=>r.InviteValidationStatus});var r=n(48264)},48264:(e,t,n)=>{"use strict";var r,i,o;n.r(t),n.d(t,{InvitationStatus:()=>o,InviteUserStatus:()=>r,InviteValidationStatus:()=>i}),function(e){e.PENDING="PENDING",e.EXPIRED="EXPIRED"}(r||(r={})),function(e){e.ACCEPTED="ACCEPTED",e.EXPIRED="EXPIRED",e.REJECTED="REJECTED"}(i||(i={})),function(e){e.ACCEPTED="Accepted",e.PENDING="Pending",e.EXPIRED="Expired"}(o||(o={}))},41509:(e,t,n)=>{"use strict";n.d(t,{O:()=>s,h:()=>l});var r=n(93967),i=n(14603),o=n(26187),a=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),s=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:o.h.getState().config.endpoints.guests};return a(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},l=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:o.h.getState().config.endpoints.guestsList+"/"+e};return a(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},67627:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(14603),i=n(43991),o=n(26187),a=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{"Content-Type":"application/json"},method:r.f2.GET,url:o.h.getState().config.endpoints.guestsList},n=(0,i.Z)(e?t:null),a=n.data,s=n.error;return{data:a,error:s,isLoading:!s&&!a,isValidating:n.isValidating,mutate:n.mutate}}},91977:(e,t,n)=>{"use strict";var r,i,o;n.d(t,{YV:()=>i,jI:()=>o}),function(e){e.EVERYONE="everyone",e.SYSTEM="system",e.SELFSIGNUP="selfsignup"}(r||(r={})),function(e){e.SUCCESS="Successful",e.FAIL="Failed"}(i||(i={})),function(e){e.ERROR_CODE_USER_NOT_FOUND="OUI-10011",e.ERROR_CODE_ACTIVE_INVITATION_EXISTS="OUI-10018",e.ERROR_CODE_INVITED_USER_EMAIL_NOT_FOUND="OUI-10030",e.ERROR_CODE_USER_ALREADY_EXISTS_INVITED_ORGANIZATION="OUI-10032"}(o||(o={}))},80746:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>We});var r=n(83374),i=n(14603),o=n(90268),a=n(83831),s=n(81816),l=n(99839),u=n(52213),c=n(52983),d=n(9202),m=n(54221),f=n(74691),p=n(5873),v=n(30640),g=n(96627),h=n(80617),y=n(58900),E=n(77499),S=n(26021),b=n(67627),I=n(97860),O=n(64322),R=n(89423),C=n(41509);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t,n=e.guestUsersList,a=e.getGuestUsersList,l=e.isGuestUsersRequestLoading,f=e.invitationStatusOption,p=e.searchQuery,g=e.onSearchQueryClear,h=e.userTypeSelection,y=e["data-componentid"],E=(0,d.$)().t,S=(0,m.I0)(),b=A((0,c.useState)(!1),2),U=b[0],w=b[1],T=A((0,c.useState)(void 0),2),P=T[0],N=T[1],L=A((0,c.useState)(!1),2),_=L[0],j=L[1],D=A((0,c.useState)(void 0),2),k=D[0],V=D[1],M=A((0,c.useState)(!1),2),x=M[0],z=M[1],Z=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),F=(0,m.v9)((function(e){return e.config.ui.features})),W=function(e){z(!0),h===R.rb.EXTERNAL?function(e){return(0,C.h)(e).then((function(){S((0,o.V_)({description:E("console:manage.features.invite.notifications.deleteInvite.success.description"),level:i.QU.SUCCESS,message:E("console:manage.features.invite.notifications.deleteInvite.success.message")})),a()})).catch((function(e){var t,n,r,a,s,l,u,c,d,m,f;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?S((0,o.V_)({description:null!==(r=null!==(a=null==e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.description)&&void 0!==a?a:null==e||null===(u=e.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.detail)&&void 0!==r?r:E("console:manage.features.invite.notifications.deleteInvite.error.description"),level:i.QU.ERROR,message:null!==(d=null==e||null===(m=e.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.message)&&void 0!==d?d:E("console:manage.features.invite.notifications.deleteInvite.error.message")})):S((0,o.V_)({description:E("console:manage.features.invite.notifications.deleteInvite.genericError.description"),level:i.QU.ERROR,message:E("console:manage.features.invite.notifications.deleteInvite.genericError.message")}))}))}(e).finally((function(){z(!1),w(!1),a()})):function(e){return(0,O.deleteInvite)(e).then((function(){S((0,o.V_)({description:E("console:manage.features.invite.notifications.deleteInvite.success.description"),level:i.QU.SUCCESS,message:E("console:manage.features.invite.notifications.deleteInvite.success.message")})),a()})).catch((function(e){var t,n,r,a,s,l,u,c,d,m,f;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?S((0,o.V_)({description:null!==(r=null!==(a=null==e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.description)&&void 0!==a?a:null==e||null===(u=e.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.detail)&&void 0!==r?r:E("console:manage.features.invite.notifications.deleteInvite.error.description"),level:i.QU.ERROR,message:null!==(d=null==e||null===(m=e.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.message)&&void 0!==d?d:E("console:manage.features.invite.notifications.deleteInvite.error.message")})):S((0,o.V_)({description:E("console:manage.features.invite.notifications.deleteInvite.genericError.description"),level:i.QU.ERROR,message:E("console:manage.features.invite.notifications.deleteInvite.genericError.message")}))}))}(e).finally((function(){z(!1),w(!1),a()}))},Q=function(e){z(!0),function(e){return(0,O.resendInvite)(e).then((function(){S((0,o.V_)({description:E("console:manage.features.invite.notifications.resendInvite.success.description"),level:i.QU.SUCCESS,message:E("console:manage.features.invite.notifications.resendInvite.success.message")}))})).catch((function(e){var t,n,r,a,s,l,u,c,d,m,f;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?S((0,o.V_)({description:null!==(r=null!==(a=null==e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.description)&&void 0!==a?a:null==e||null===(u=e.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.detail)&&void 0!==r?r:E("console:manage.features.invite.notifications.resendInvite.error.description"),level:i.QU.ERROR,message:null!==(d=null==e||null===(m=e.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.message)&&void 0!==d?d:E("console:manage.features.invite.notifications.resendInvite.error.message")})):S((0,o.V_)({description:E("console:manage.features.invite.notifications.resendInvite.genericError.description"),level:i.QU.ERROR,message:E("console:manage.features.invite.notifications.resendInvite.genericError.message")}))}))}(e).finally((function(){z(!1),j(!1),a()}))},H=function(){return p&&0===(null==n?void 0:n.length)?c.createElement(s.$J,{action:c.createElement(s.Qj,{onClick:g},E("console:manage.features.invite.placeholder.emptySearchResultPlaceholder.clearButton")),image:(0,v.jF)().emptySearch,imageSize:"tiny",title:E("console:manage.features.invite.placeholder.emptySearchResultPlaceholder.title"),subtitle:[E("console:manage.features.invite.placeholder.emptySearchResultPlaceholder.subTitle.0",{query:p}),E("console:manage.features.invite.placeholder.emptySearchResultPlaceholder.subTitle.1")]}):0===(null==n?void 0:n.length)?f===u.InvitationStatus.EXPIRED?c.createElement(s.$J,{image:(0,v.jF)().newList,imageSize:"tiny",subtitle:[h===R.rb.EXTERNAL?E("console:manage.features.parentOrgInvitations.emptyPlaceholder.noExpiredInvitations"):E("console:manage.features.parentOrgInvitations.emptyPlaceholder.noCollaboratorUserInvitations")]}):c.createElement(s.$J,{image:(0,v.jF)().newList,imageSize:"tiny",subtitle:[h===R.rb.EXTERNAL?E("console:manage.features.parentOrgInvitations.emptyPlaceholder.noPendingInvitations"):"There are no collaborator users with pending invitations at the moment."]}):c.createElement(s.$J,{image:(0,v.jF)().newList,imageSize:"tiny",subtitle:[E("console:manage.features.parentOrgInvitations.emptyPlaceholder.noInvitations")]})};return c.createElement(c.Fragment,null,c.createElement(s.wQ,{showSearch:!0,isLoading:l,loadingStateOptions:{count:5,imageType:"circular"},placeholders:H(),actions:[{hidden:function(){var e,t;return h===R.rb.EXTERNAL||!(0,r.hasRequiredScopes)(null==F?void 0:F.users,null==F||null===(e=F.users)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,Z)},icon:function(){return"redo alternate"},onClick:function(e,t){V(t),j(!0)},popupText:function(){return"resend"},renderer:"semantic-icon"},{"data-componentid":"".concat(y,"-users-list-item-delete-invitation-button"),hidden:function(){var e,t;return!(0,r.hasRequiredScopes)(null==F?void 0:F.users,null==F||null===(e=F.users)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,Z)},icon:function(){return"trash alternate"},onClick:function(e,t){N(t),w(!0)},popupText:function(){return"delete"},renderer:"semantic-icon"}],data:n,columns:(t=[{allowToggleVisibility:!1,dataIndex:"email",id:"email",key:0,render:function(e){return c.createElement(I.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(y,"-item-image")},c.createElement(s.Yt,{"data-componentid":"".concat(y,"-item-image-inner"),name:e.email,size:"mini",image:e.email,spaced:"right"}),c.createElement(I.Z.Content,null,h===R.rb.EXTERNAL?null==e?void 0:e.username:null==e?void 0:e.email))},title:"User"},{allowToggleVisibility:!1,dataIndex:"status",id:"status",key:1,render:function(e){var t=e.status;return c.createElement(I.Z,{as:"h6","data-componentid":"".concat(y,"-invite-status")},c.createElement(I.Z.Content,null,c.createElement(I.Z.Subheader,null,t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())))},textAlign:"left",title:"Invitation Status"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:3,textAlign:"right",title:""}],t),onRowClick:null,showHeader:!1,transparent:!l&&null!==H()}),U&&c.createElement(s.cV,{primaryActionLoading:x,"data-componentid":"".concat(y,"-confirmation-modal"),onClose:function(){return w(!1)},type:"negative",open:U,assertion:P.email,assertionHint:E("console:manage.features.invite.confirmationModal.deleteInvite.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return w(!1)},onPrimaryActionClick:function(){return W(P.id)},closeOnDimmerClick:!1},c.createElement(s.cV.Header,{"data-componentid":"".concat(y,"-confirmation-modal-header")},E("console:manage.features.invite.confirmationModal.deleteInvite.header")),c.createElement(s.cV.Message,{"data-componentid":"".concat(y,"-confirmation-modal-message"),attached:!0,negative:!0},E("console:manage.features.invite.confirmationModal.deleteInvite.message")),c.createElement(s.cV.Content,{"data-componentid":"".concat(y,"-confirmation-modal-content")},E("console:manage.features.invite.confirmationModal.deleteInvite.content"))),_&&c.createElement(s.cV,{primaryActionLoading:x,"data-componentid":"".concat(y,"-confirmation-modal"),onClose:function(){return j(!1)},type:"warning",open:_,assertion:k.email,assertionHint:E("console:manage.features.invite.confirmationModal.resendInvite.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return j(!1)},onPrimaryActionClick:function(){return Q(k.id)},closeOnDimmerClick:!1},c.createElement(s.cV.Header,{"data-componentid":"".concat(y,"-confirmation-modal-header")},E("console:manage.features.invite.confirmationModal.resendInvite.header")),c.createElement(s.cV.Message,{"data-componentid":"".concat(y,"-confirmation-modal-message"),attached:!0,warning:!0},E("console:manage.features.invite.confirmationModal.resendInvite.message")),c.createElement(s.cV.Content,{"data-componentid":"".concat(y,"-confirmation-modal-content")},E("console:manage.features.invite.confirmationModal.resendInvite.content"))))},T=n(96433),P=n(73949),N=n(28438),L=n(67680),_=n(32745);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t,n=e.advancedSearch,l=e.defaultListItemLimit,u=e.onUserDelete,p=e.isLoading,h=e.readOnlyUserStores,y=e.featureConfig,E=e.onColumnSelectionChange,b=e.onListItemClick,O=e.onSearchQueryClear,C=e.realmConfigs,A=e.searchQuery,U=e.selection,w=e.showListItemActions,j=e.showMetaContent,D=e.userMetaListContent,V=e.usersList,z=e.isReadOnlyUserStore,Z=e["data-testid"],F=(0,d.$)().t,W=(0,m.I0)(),Q=(0,g.z)().isSubOrganization,H=M((0,c.useState)(!1),2),X=H[0],G=H[1],Y=M((0,c.useState)(void 0),2),q=Y[0],J=Y[1],B=M((0,c.useState)(!1),2),$=B[0],K=B[1],ee=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),te=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.providedUsername})),ne=function(e){v.m8.push(v.$x.getPaths().get("USER_EDIT").replace(":id",e))},re=function(e){var t,n,i,o=(0,r.WX)(null==e?void 0:e.userName);return null!==(t=e.name)&&void 0!==t&&t.givenName?e.name.givenName[0]:null!==(n=e.name)&&void 0!==n&&n.familyName?e.name.familyName[0]:e.emails[0]?e.emails[0][0]:(i=o,new RegExp(/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi).test(i)?"":o[0])},ie=function(){return A?c.createElement(s.$J,{action:c.createElement(s.Qj,{onClick:O},F("console:manage.features.users.usersList.search.emptyResultPlaceholder.clearButton")),image:(0,v.jF)().emptySearch,imageSize:"tiny",title:F("console:manage.features.users.usersList.search.emptyResultPlaceholder.title"),subtitle:[F("console:manage.features.users.usersList.search.emptyResultPlaceholder.subTitle.0",{query:A}),F("console:manage.features.users.usersList.search.emptyResultPlaceholder.subTitle.1")]}):0===V.totalResults?c.createElement(s.$J,{"data-testid":"".concat(Z,"-empty-placeholder"),image:(0,v.jF)().newList,imageSize:"tiny",title:F(z?"console:manage.features.users.usersList.list.emptyResultPlaceholder.emptyUsers":"console:manage.features.users.usersList.list.emptyResultPlaceholder.title"),subtitle:z?[F("console:manage.features.users.usersList.list.emptyResultPlaceholder.subTitle.0")]:[F("console:manage.features.users.usersList.list.emptyResultPlaceholder.subTitle.0"),F("console:manage.features.users.usersList.list.emptyResultPlaceholder.subTitle.1"),F("console:manage.features.users.usersList.list.emptyResultPlaceholder.subTitle.2")]}):null};return c.createElement(c.Fragment,null,c.createElement(s.wQ,{className:"users-table",externalSearch:n,isLoading:p,loadingStateOptions:{count:null!=l?l:v.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},actions:function(){if(w){var e=[{"data-testid":"users-list-item-edit-button",hidden:function(){return!(0,r.cr)(null==y?void 0:y.users,R._F.FEATURE_DICTIONARY.get("USER_READ"))},icon:function(e){var t,n,i,o,a=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,r.hasRequiredScopes)(null==y?void 0:y.users,null==y||null===(i=y.users)||void 0===i||null===(o=i.scopes)||void 0===o?void 0:o.update,ee)||!(0,r.cr)(null==y?void 0:y.users,R._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=h&&h.includes(a.toString())?"eye":"pencil alternate"},onClick:function(e,t){return ne(null==t?void 0:t.id)},popupText:function(e){var t,n,i,o,a,s=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,r.hasRequiredScopes)(null==y?void 0:y.users,null==y||null===(i=y.users)||void 0===i||null===(o=i.scopes)||void 0===o?void 0:o.update,ee)||!(0,r.cr)(null==y?void 0:y.users,R._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=h&&h.includes(s.toString())||null!==(a=e[L.SCIMConfigs.scim.enterpriseSchema])&&void 0!==a&&a.managedOrg?F("common:view"):F("common:edit")},renderer:"semantic-icon"}];return e.push({"data-testid":"users-list-item-delete-button",hidden:function(e){var t,n,i,o,a=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:T.ss.PRIMARY_USER_STORE;return!(0,r.cr)(null==y?void 0:y.users,R._F.FEATURE_DICTIONARY.get("USER_DELETE"))||!(0,r.hasRequiredScopes)(null==y?void 0:y.users,null==y||null===(i=y.users)||void 0===i||null===(o=i.scopes)||void 0===o?void 0:o.delete,ee)||(null==h?void 0:h.includes(a.toString()))||(0,r.WX)(null==e?void 0:e.userName)===(null==C?void 0:C.adminUser)&&!Q()||(null==te?void 0:te.includes((0,r.WX)(null==e?void 0:e.userName)))},icon:function(){return"trash alternate"},onClick:function(e,t){G(!0),J(t)},popupText:function(){return F("console:manage.features.users.usersList.list.iconPopups.delete")},renderer:"semantic-icon"}),e}}(),columns:function(){var e=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n,i,o=(0,r.WX)(null==e?void 0:e.userName),a=N.UserManagementUtils.resolveUserListSubheader(e),l=void 0===(null===(t=e.name)||void 0===t?void 0:t.familyName)&&void 0===(null===(n=e.name)||void 0===n?void 0:n.givenName);return c.createElement(I.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(Z,"-item-heading")},c.createElement(s.Yt,{"data-componentid":"users-list-item-image",name:re(e),size:"mini",image:e.profileUrl,spaced:"right","data-hj-suppress":""}),c.createElement(I.Z.Content,null,c.createElement("div",null,o,(null===(i=e[L.SCIMConfigs.scim.enterpriseSchema])||void 0===i?void 0:i.managedOrg)&&c.createElement(P.Z,{size:"mini",className:"client-id-label"},F("console:manage.features.parentOrgInvitations.invitedUserLabel"))),!l&&c.createElement(I.Z.Subheader,{"data-componentid":"".concat(Z,"-item-sub-heading")},a)))},title:"User"}];if(!_.userConfig.disableManagedByColumn&&e.push({allowToggleVisibility:!1,dataIndex:"idpType",id:"idpType",key:"idpType",render:function(e){return function(e){var t,n,r,i,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n||null===(r=n.split("/")[0])||void 0===r?void 0:r.toUpperCase():"PRIMARY",a=null===(i=e[L.SCIMConfigs.scim.enterpriseSchema])||void 0===i?void 0:i.idpType;return a?a.split("/").length>1?null!=h&&h.includes(o.toString())?a.split("/")[1]+"-remote":a.split("/")[1]:a:"N/A"}(e)},title:c.createElement(c.Fragment,null,c.createElement("div",{className:"header-with-popup"},c.createElement("span",null,F("extensions:manage.users.list.columns.idpType")),c.createElement(s.GI,{trigger:c.createElement("div",{className:"inline"},c.createElement(f.Z,{disabled:!0,name:"info circle",className:"link pointing pl-1"})),content:F("extensions:manage.users.list.popups.content.idpTypeContent"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})))}),e.push({allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""}),!j||!D)return e;var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(D.entries());try{for(i.s();!(t=i.n()).done;){var o=M(t.value,2),l=o[0],u=o[1];if("name"!==l&&"emails"!==l&&"profileUrl"!==l&&""!==u){var d={allowToggleVisibility:!0,dataIndex:u,id:l,key:l,title:u};"meta.lastModified"===l&&(d=k(k({},d),{},{render:function(e){var t;return a.CommonUtils.humanizeDateDifference(null==e||null===(t=e.meta)||void 0===t?void 0:t.lastModified)}})),"userName"===l&&(d=k(k({},d),{},{render:function(e){return(0,r.WX)(null==e?void 0:e.userName)}})),n.push(d)}}}catch(m){i.e(m)}finally{i.f()}return n.unshift(e[0]),n.push(e[1]),n}(),data:V.Resources,onColumnSelectionChange:E,onRowClick:function(e,t){ne(null==t?void 0:t.id),b&&b(e,t)},placeholders:ie(),selectable:U,showHeader:!0,transparent:!p&&null!==ie(),"data-testid":Z}),c.createElement(s.cV,{primaryActionLoading:$,"data-testid":"".concat(Z,"-confirmation-modal"),onClose:function(){return G(!1)},type:"negative",open:X,assertionHint:F("console:manage.features.user.deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){G(!1)},onPrimaryActionClick:function(){var e;K(!0),(e=null==q?void 0:q.id,(0,S.h8)(e).then((function(){W((0,o.V_)({description:F("console:manage.features.users.notifications.deleteUser.success.description"),level:i.QU.SUCCESS,message:F("console:manage.features.users.notifications.deleteUser.success.message")})),u()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?W((0,o.V_)({description:e.response.data.description,level:i.QU.ERROR,message:F("console:manage.features.users.notifications.deleteUser.error.message")})):W((0,o.V_)({description:F("console:manage.features.users.notifications.deleteUser.genericError.description"),level:i.QU.ERROR,message:F("console:manage.features.users.notifications.deleteUser.genericError.message")}))}))).finally((function(){K(!1),J(void 0),G(!1)}))},closeOnDimmerClick:!1},c.createElement(s.cV.Header,{"data-testid":"".concat(Z,"-confirmation-modal-header")},F("console:manage.features.user.deleteUser.confirmationModal.header")),c.createElement(s.cV.Message,{"data-testid":"".concat(Z,"-confirmation-modal-message"),attached:!0,negative:!0},F("console:manage.features.user.deleteUser.confirmationModal.message")),c.createElement(s.cV.Content,{"data-testid":"".concat(Z,"-confirmation-modal-content")},q&&null!==(t=q[L.SCIMConfigs.scim.enterpriseSchema])&&void 0!==t&&t.userSourceId?F("console:manage.features.user.deleteJITUser.confirmationModal.content"):F("console:manage.features.user.deleteUser.confirmationModal.content"))))};Z.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0};var F=n(39162),W=n(18580),Q=n(21921),H=n(94635),X=n(27716),G=n(61555),Y=n(59206),q=n(83849),J=n.n(q),B=n(67127),$=n(39990),K=n(28758),ee=n(99778),te=n(62132),ne=n.n(te),re=n(27899),ie=n.n(re),oe=n(76569),ae=n.n(oe),se=n(34753),le=n.n(se),ue=n(93598),ce=n.n(ue),de=n(46244),me=n.n(de),fe=n(78795),pe=n.n(fe),ve={};ve.styleTagTransform=me(),ve.setAttributes=le(),ve.insert=ae().bind(null,"head"),ve.domAPI=ie(),ve.insertStyleElement=ce();ne()(pe(),ve);pe()&&pe().locals&&pe().locals;function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}var he=function(e){var t=e.onSubmit,n=e["data-componentid"],r=ee.pH,i=(0,d.$)().t,o=(0,K.Ug)(r,"members",null,!0).data,a=(0,c.useMemo)((function(){var e;return(0,B.Z)(null==o?void 0:o.Resources)?[]:null==o||null===(e=o.Resources)||void 0===e?void 0:e.map((function(e){return{group:e,key:e.id,label:e.displayName}}))}),[o]);return c.createElement(Y.vy,{initialValues:null,keepDirtyOnReinitialize:!0,"data-componentid":"".concat(n,"-external-form"),onSubmit:t,validate:function(e){var t={groups:void 0,username:void 0};return e.username||(t.username=i("console:manage.features.parentOrgInvitations.addUserWizard.username.validations.required")),t},render:function(e){var t=e.handleSubmit;return c.createElement("form",{id:R._F.INVITE_PARENT_ORG_USER_FORM_ID,onSubmit:t,className:"invite-parent-org-user-form"},c.createElement(s.v0,{type:"info",className:"add-user-info",content:i("console:manage.features.parentOrgInvitations.addUserWizard.hint")}),c.createElement(Y.SE,{fullWidth:!0,ariaLabel:"Usernames field","data-componentid":"".concat(n,"-external-form-username-input"),label:i("console:manage.features.parentOrgInvitations.addUserWizard.username.label"),name:"username",placeholder:i("console:manage.features.parentOrgInvitations.addUserWizard.username.placeholder"),required:!0,helperText:c.createElement(s.kW,null,c.createElement(G.Z,{variant:"inherit"},i("console:manage.features.parentOrgInvitations.addUserWizard.username.hint"))),component:Y.KQ,options:[],renderTags:function(e,t){return e.map((function(e,n){return c.createElement(X.Z,ge({key:n,size:"small",sx:{marginLeft:1},className:"oxygen-chip-beta",label:e},t({index:n})))}))},filterOptions:function(e,t){var n=t.inputValue;return""!==n?["".concat(n)]:[]},renderOption:function(e,t){return c.createElement("li",ge({},e,{className:J()("press-enter-prompt",e.className)}),t,c.createElement("p",null,c.createElement($.c,{i18nKey:"common:pressEnterPrompt"},"Press ",c.createElement("kbd",null,"Enter")," to select")))},multipleValues:!0,freeSolo:!0}),c.createElement(Y.SE,{fullWidth:!0,multipleValues:!0,ariaLabel:"Groups field","data-componentid":"".concat(n,"-form-groups-field"),name:"groups",label:i("console:manage.features.parentOrgInvitations.addUserWizard.groups.label"),helperText:c.createElement(s.kW,null,c.createElement(G.Z,{variant:"inherit"},i("console:manage.features.parentOrgInvitations.addUserWizard.groups.hint"))),placeholder:i("console:manage.features.parentOrgInvitations.addUserWizard.groups.placeholder"),component:Y.KQ,options:a,renderTags:function(e,t){return e.map((function(e,n){return c.createElement(X.Z,ge({key:n,size:"medium",label:e.label},t({index:n})))}))}}))}})};he.defaultProps={"data-componentid":"invite-parent-org-user"};var ye=n(31092),Ee=n(17497),Se=n(91977);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Te=function(e){var t=e.response,n=e.isLoading,r=e.hasError,i=e["data-componentid"],o=(0,d.$)().t,a=Ae((0,c.useState)([]),2),l=a[0],u=a[1],m=Ae((0,c.useState)({failedCount:0,successCount:0,totalCount:0}),2),f=m[0],p=m[1];(0,c.useEffect)((function(){t&&(null==t?void 0:t.length)>0&&t.map((function(e){var t=o("console:manage.features.invite.notifications.sendInvite.success.message");if(e.result.errorCode)switch(e.result.errorCode){case Se.jI.ERROR_CODE_USER_NOT_FOUND:t=o("console:manage.features.user.modals.inviteParentUserWizard.tableMessages.userNotFound");break;case Se.jI.ERROR_CODE_ACTIVE_INVITATION_EXISTS:t=o("console:manage.features.user.modals.inviteParentUserWizard.tableMessages.activeInvitationExists");break;case Se.jI.ERROR_CODE_INVITED_USER_EMAIL_NOT_FOUND:t=o("console:manage.features.user.modals.inviteParentUserWizard.tableMessages.userEmailNotFound");break;case Se.jI.ERROR_CODE_USER_ALREADY_EXISTS_INVITED_ORGANIZATION:t=o("console:manage.features.user.modals.inviteParentUserWizard.tableMessages.userAlreadyExist")}u((function(n){return[].concat(Ce(n),[{message:t,status:e.result.status,username:e.username}])})),e.result.status===Se.YV.SUCCESS?p((function(e){return Oe(Oe({},e),{},{successCount:e.successCount+1,totalCount:e.totalCount+1})})):p((function(e){return Oe(Oe({},e),{},{failedCount:e.failedCount+1,totalCount:e.totalCount+1})}))}))}),[t]);return c.createElement(H.Z,null,c.createElement(H.Z.Row,{columns:1},c.createElement(H.Z.Column,{mobile:16,tablet:16,computer:16},n||r?null:0===(null==f?void 0:f.failedCount)?c.createElement(ye.Z,{severity:"success","data-componentid":"".concat(i,"-success-alert")},c.createElement(Ee.Z,{"data-componentid":"".concat(i,"-success-alert-title")},o("console:manage.features.user.modals.inviteParentUserWizard.successAlert.message")),o("console:manage.features.user.modals.inviteParentUserWizard.successAlert.description")):c.createElement(ye.Z,{severity:"error","data-componentid":"".concat(i,"-error-alert")},c.createElement(Ee.Z,{"data-componentid":"".concat(i,"-error-alert-title")},o("console:manage.features.user.modals.inviteParentUserWizard.errorAlert.message")),c.createElement($.c,{i18nKey:"console:manage.features.user.modals.inviteParentUserWizard.errorAlert.description",tOptions:{failedCount:null==f?void 0:f.failedCount}},"An error occurred while inviting ",null==f?void 0:f.failedCount," user(s)..")))),c.createElement(H.Z.Row,{columns:1},c.createElement(H.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(G.Z,{variant:"body2",style:{textAlign:"right"}},o("console:manage.features.user.modals.inviteParentUserWizard.totalInvitations")+" : "+(null==f?void 0:f.totalCount)),c.createElement(s.wQ,{className:"addon-field-wrapper",isLoading:n,actions:[],columns:[{allowToggleVisibility:!1,dataIndex:"resourceIdentifier",id:"resourceIdentifier",key:"resourceIdentifier",render:function(e){return c.createElement(I.Z,{as:"h6","data-componentid":"".concat(i,"-username-item-heading")},c.createElement(I.Z.Content,null,e.username))},title:o("console:manage.features.user.modals.bulkImportUserWizard.wizardSummary.tableHeaders.username")},{allowToggleVisibility:!1,dataIndex:"status",id:"status",key:"status",render:function(e){return c.createElement(I.Z,{as:"h6","data-componentid":"".concat(i,"-status-item-heading")},c.createElement(I.Z.Content,null,c.createElement(P.Z,{"data-componentid":"".concat(i,"-bulk-label"),content:e.status,size:"small",color:e.status===Se.YV.SUCCESS?"green":"red",className:"group-label"})))},title:o("console:manage.features.user.modals.bulkImportUserWizard.wizardSummary.tableHeaders.status")},{allowToggleVisibility:!1,dataIndex:"message",id:"message",key:"message",render:function(e){return c.createElement(I.Z,{as:"h6","data-componentid":"".concat(i,"-status-item-heading")},c.createElement(I.Z.Content,null,e.message))},title:o("console:manage.features.user.modals.bulkImportUserWizard.wizardSummary.tableHeaders.message")}],data:l,onColumnSelectionChange:function(){return null},onRowClick:function(){return null},placeholders:c.createElement(s.$J,{"data-testid":"".concat(i,"-empty-search-result"),"data-componentid":"".concat(i,"-empty-search-result"),image:(0,v.jF)().emptySearch,imageSize:"tiny",title:o("console:manage.features.users.usersList.search.emptyResultPlaceholder.title"),subtitle:""}),transparent:!0,selectable:!1,showHeader:!1,"data-testid":"".concat(i,"-data-table"),"data-componentid":"".concat(i,"-data-table"),loadingStateOptions:{count:v.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}}))))};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Te.defaultProps={"data-componentid":"parent-invite-response-list",hasError:!1,isLoading:!1,response:[]};var Le=function(e){var t=e.closeWizard,n=e.onUserInviteSuccess,r=e["data-componentid"],o=(0,d.$)().t,a=Pe((0,c.useState)(!1),2),u=a[0],m=a[1],f=Pe((0,s.IK)(),3),p=f[0],v=f[1],g=f[2],h=Pe((0,c.useState)([]),2),y=h[0],E=h[1];return c.createElement(Q.Z,{"data-componentid":r,open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0},c.createElement(Q.Z.Header,{className:"wizard-header"},o("console:manage.features.parentOrgInvitations.addUserWizard.heading"),c.createElement(s.X6,{as:"h6"},o("console:manage.features.parentOrgInvitations.addUserWizard.description"))),c.createElement(Q.Z.Content,{className:"content-container",scrolling:!0},p&&g,(null==y?void 0:y.length)>0?c.createElement(Te,{response:y,isLoading:u}):c.createElement(he,{onSubmit:function(e){var t,r={groups:null==e||null===(t=e.groups)||void 0===t?void 0:t.map((function(e){return e.group.id})),usernames:null==e?void 0:e.username};v(null),m(!0),(0,C.O)(r).then((function(e){var t=null==e?void 0:e.data;E(t),n()})).catch((function(e){!function(e){var t,n,r,a,s,u;if(null!=e&&e.response&&401!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status))if(403===(null==e||null===(n=e.response)||void 0===n?void 0:n.status)&&(null==e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.code)===l.UsersConstants.ERROR_COLLABORATOR_USER_LIMIT_REACHED)v({description:o("extensions:manage.invite.notifications.sendInvite.limitReachError.description"),level:i.QU.ERROR,message:o("extensions:manage.invite.notifications.sendInvite.limitReachError.message")});else if(null!=e&&null!==(s=e.response)&&void 0!==s&&null!==(u=s.data)&&void 0!==u&&u.description){var c,d;v({description:o("console:manage.features.invite.notifications.sendInvite.error.description",{description:null==e||null===(c=e.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.description}),level:i.QU.ERROR,message:o("console:manage.features.invite.notifications.sendInvite.error.message")})}else v({description:o("console:manage.features.invite.notifications.sendInvite.genericError.description"),level:i.QU.ERROR,message:o("console:manage.features.invite.notifications.sendInvite.genericError.message")});else v({description:o("console:manage.features.invite.notifications.sendInvite.error.description"),level:i.QU.ERROR,message:o("console:manage.features.invite.notifications.sendInvite.error.message")})}(e)})).finally((function(){m(!1)}))},"data-componentid":"".concat(r,"-form")})),c.createElement(Q.Z.Actions,null,c.createElement(H.Z,null,c.createElement(H.Z.Row,{column:2},c.createElement(H.Z.Column,{mobile:8},c.createElement(s.Qj,{"data-componentid":"".concat(r,"-cancel-button"),floated:"left",onClick:function(){t()}},o("common:cancel"))),!y||(null==y?void 0:y.length)<1&&c.createElement(H.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.KM,{"data-componentid":"".concat(r,"-finish-button"),floated:"right",onClick:function(){document.getElementById(R._F.INVITE_PARENT_ORG_USER_FORM_ID).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},loading:u,disabled:u},o("extensions:manage.features.user.addUser.invite")))))))};function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function De(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_e(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=function(e){var t,n,I=e["data-testid"],O=e["data-componentid"],C=(0,d.$)().t,A=(0,m.I0)(),U=(0,m.v9)((function(e){return e.config.ui.features})),T=(0,m.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),P=xe((0,c.useState)(""),2),N=P[0],L=P[1],_=xe((0,c.useState)(0),2),j=_[0],D=_[1],k=xe((0,c.useState)(0),2),V=k[0],M=k[1],x=xe((0,c.useState)(v.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),z=x[0],Q=x[1],H=xe((0,c.useState)(!1),2),X=H[0],G=H[1],Y=xe((0,c.useState)(!1),2),q=Y[0],J=Y[1],B=xe((0,c.useState)({}),2),$=B[0],K=B[1],ee=xe((0,c.useState)(!1),2),te=ee[0],ne=ee[1],re=xe((0,c.useState)(void 0),2),ie=re[0],oe=re[1],ae=xe((0,c.useState)([]),2),se=ae[0],le=ae[1],ue=xe((0,c.useState)(E.pH.toLocaleLowerCase()),2),ce=ue[0],de=ue[1],me=xe((0,c.useState)(!1),2),fe=me[0],pe=me[1],ve=xe((0,c.useState)(!1),2),ge=ve[0],he=ve[1],ye=xe((0,c.useState)(void 0),2),Ee=ye[0],Se=ye[1],be=xe((0,c.useState)(!1),2),Ie=be[0],Oe=be[1],Re=xe((0,c.useState)(void 0),2),Ce=Re[0],Ae=Re[1],Ue=xe((0,c.useState)(void 0),2),we=Ue[0],Te=Ue[1],Pe=xe((0,c.useState)(void 0),2),Ne=Pe[0],_e=Pe[1],ke=xe((0,c.useState)(R.sk.USER),1)[0],Ze=xe((0,c.useState)(),2),Fe=Ze[0],We=Ze[1],Qe=xe((0,c.useState)(E.XS),1)[0],He=xe((0,c.useState)(u.InvitationStatus.PENDING),2),Xe=He[0],Ge=He[1],Ye=xe((0,c.useState)(void 0),1)[0],qe=xe((0,c.useState)(!1),1)[0],Je=xe((0,c.useState)(!1),2),Be=Je[0],$e=Je[1],Ke=xe((0,c.useState)(),2),et=Ke[0],tt=Ke[1],nt=xe((0,c.useState)([]),2),rt=nt[0],it=nt[1],ot=xe((0,c.useState)([]),2),at=ot[0],st=ot[1],lt=xe((0,c.useState)(!1),2),ut=lt[0],ct=lt[1],dt=xe((0,c.useState)(!1),2),mt=dt[0],ft=dt[1],pt=xe((0,c.useState)(!1),2),vt=pt[0],gt=pt[1],ht=(0,g.z)(),yt=ht.isSubOrganization,Et=ht.isSuperOrganization,St=ht.isFirstLevelOrganization,bt=(0,m.v9)((function(e){return e.auth.username})),It=v.h.getState().config.deployment.tenant,Ot=JSON.parse(a.LocalStorageUtils.getValueFromLocalStorage(It)),Rt=v.lD.getInstance(),Ct=window.AppUtils.getConfig().organizationName,At=[{key:2,text:C("console:manage.features.parentOrgInvitations.searchdropdown.pendingLabel"),value:"Pending"},{key:3,text:C("console:manage.features.parentOrgInvitations.searchdropdown.expiredLabel"),value:"Expired"}],Ut=(0,b.M)(yt()),wt=Ut.data,Tt=Ut.isLoading,Pt=Ut.mutate,Nt=(0,c.useMemo)((function(){return!(null==Ee||!Ee.includes(ce))}),[ce]);(0,c.useEffect)((function(){if(!yt()){if(null!==r.EN.lookupKey(Ot,bt)){var e=r.EN.lookupKey(Ot,bt)[1],t=new Map;if(e.identityAppsSettings.userPreferences.userListColumns.length<1){var n=R._F.DEFAULT_USER_LIST_ATTRIBUTES;Gt(n),n.map((function(e){"id"===e?t.set(e,""):t.set(e,e)})),oe(t)}e.identityAppsSettings.userPreferences.userListColumns.map((function(e){t.set(e,e)})),oe(t)}Qt(),Zt(),Xt()}}),[]),(0,c.useEffect)((function(){var e=ie?Ht(null==ie?void 0:ie.values()):null;Ft(z,j,null,e,ce)}),[z,j,ce]),(0,c.useEffect)((function(){if(D(0),"userName co "===N||""===N||null===N)return st(null==wt?void 0:wt.invitations),void tt([]);if(N){var e=null==wt?void 0:wt.invitations;if((null==et?void 0:et.length)>0&&(e=et),N.includes("userName sw ")){var t,n=N.split("sw ")[1];e=null===(t=e)||void 0===t?void 0:t.filter((function(e){return null==e?void 0:e.username.startsWith(n)}))}else if(N.includes("userName ew ")){var r,i=N.split("ew ")[1];e=null===(r=e)||void 0===r?void 0:r.filter((function(e){return null==e?void 0:e.username.endsWith(i)}))}else if(N.includes("userName eq ")){var o,a=N.split("eq ")[1];e=null===(o=e)||void 0===o?void 0:o.filter((function(e){return(null==e?void 0:e.username)===a}))}else if(N.includes("userName co ")){var s,l=N.split("co ")[1];e=null===(s=e)||void 0===s?void 0:s.filter((function(e){return null==e?void 0:e.username.includes(l)}))}st(e),tt(e)}}),[N]),(0,c.useEffect)((function(){if(te){var e=Ht(null==ie?void 0:ie.values());Ft(z,j,null,e,ce),ne(!1)}}),[te]),(0,c.useEffect)((function(){ct(q&&!mt&&!Ce)}),[q,mt]),(0,c.useEffect)((function(){var e;it(null==wt||null===(e=wt.invitations)||void 0===e?void 0:e.filter((function(e){return e.status===u.InvitationStatus.PENDING.toUpperCase()})))}),[null==wt?void 0:wt.invitations]),(0,c.useEffect)((function(){var e;if(Xe!==u.InvitationStatus.ACCEPTED){var t=null==at?void 0:at.filter((function(e){return e.status===Xe.toUpperCase()}));(null===(e=t)||void 0===e?void 0:e.length)>z?(t=t.slice(j,j+z),it(t),Te(t.length===z)):(it(t),Te(!1))}}),[at,j,z,Be,Xe]);var Lt,_t,jt,Dt,kt,Vt,Mt,xt,zt,Zt=function(){v.w3.getReadOnlyUserStores().then((function(e){Se(e)}))},Ft=function(e,t,n,r,a){he(!0);var s=e+1;(0,S.Fp)(s,t,n,r,a,"groups,roles").then((function(e){var t,n=Ve({},e);n.Resources=null==n||null===(t=n.Resources)||void 0===t?void 0:t.map((function(e){if((e.userName.split("/").length>1?e.userName.split("/")[0]:"Primary")!==E.XS){var t=null;if((null==e?void 0:e.emails)instanceof Array){var r=null==e?void 0:e.emails[0];t="string"==typeof r?r:null==r?void 0:r.value}return e.emails=[t],e}var i=De(n.Resources);i.splice(i.indexOf(e),1),n.Resources=i})),K(Wt(n,s,1)),Oe(!1)})).catch((function(e){var t,n,r,a,s,l,u,c,d,m,f;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?A((0,o.V_)({description:null!==(r=null!==(a=null==e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.description)&&void 0!==a?a:null==e||null===(u=e.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.detail)&&void 0!==r?r:C("console:manage.features.users.notifications.fetchUsers.error.description"),level:i.QU.ERROR,message:null!==(d=null==e||null===(m=e.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.message)&&void 0!==d?d:C("console:manage.features.users.notifications.fetchUsers.error.message")})):(A((0,o.V_)({description:C("console:manage.features.users.notifications.fetchUsers.genericError.description"),level:i.QU.ERROR,message:C("console:manage.features.users.notifications.fetchUsers.genericError.message")})),Oe(!0),K({Resources:[],itemsPerPage:10,links:[],startIndex:1,totalResults:0}))})).finally((function(){he(!1)}))},Wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e;return r.itemsPerPage===t?(r.Resources.splice(-1,n),Te(!0)):Te(!1),r},Qt=function(){var e=[{key:-1,text:C("console:manage.features.users.userstores.userstoreOptions.primary"),value:"primary"}],t={key:null,text:"",value:""};(0,y.ow)().then((function(n){0===e.length&&e.push(t),n.data.map((function(n,r){n.name!==E.XS&&(0,v.YZ)(n.id).then((function(i){var o;"true"===(null===(o=i.properties.find((function(e){return"Disabled"===e.name})))||void 0===o?void 0:o.value)||(t={key:r,text:n.name,value:n.name},e.push(t))}))})),le(e)})),le(e)},Ht=function(e){var t=[];if(e){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ze(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e[Symbol.iterator]());try{for(r.s();!(n=r.n()).done;){var i=n.value;""!==i&&t.push(i)}}catch(o){r.e(o)}finally{r.f()}}return t.includes(R._F.SCIM2_SCHEMA_DICTIONARY.get("USERNAME"))||t.push(R._F.SCIM2_SCHEMA_DICTIONARY.get("USERNAME")),yt()&&!t.includes(R._F.SCIM2_SCHEMA_DICTIONARY.get("ENTERPRISE_USER"))&&t.push(R._F.SCIM2_SCHEMA_DICTIONARY.get("ENTERPRISE_USER")),t.toString()},Xt=function(){(0,h.Un)().then((function(e){_e(null==e?void 0:e.realmConfig)}))},Gt=function(e){if(null!==r.EN.lookupKey(Ot,bt)){var t=r.EN.lookupKey(Ot,bt)[1],n=Ve(Ve({},Ot),{},Me({},bt,Ve(Ve({},t),{},{identityAppsSettings:Ve(Ve({},t.identityAppsSettings),{},{userPreferences:Ve(Ve({},t.identityAppsSettings.userPreferences),{},{userListColumns:e})})})));a.LocalStorageUtils.setValueInLocalStorage(It,JSON.stringify(n))}},Yt=function(){pe(!fe),L(""),Ft(z,j,null,null,ce)},qt=function(e){var t=Ht(null==ie?void 0:ie.values());"userName sw "!==e?(L(e),D(0),Ft(z,j,e,t,ce)):Ft(z,j,null,t,ce)},Jt=function(e,t){D((t.activePage-1)*z)},Bt=function(e,t){Q(t.value)},$t=function(e,t){"all"===t.value?de(null):de(t.value),D(0)},Kt=function(){ne(!0)},en=function(){ft(!0),(0,h.Qy)(h.vH.USER_ONBOARDING_CONNECTOR_ID).then((function(e){var t=(null==e?void 0:e.connectors).find((function(e){return e.id===h.vH.USER_EMAIL_VERIFICATION_CONNECTOR_ID})).properties.find((function(e){return e.name===h.vH.EMAIL_VERIFICATION_ENABLED}));Ae("true"===t.value)})).catch((function(e){var t,n,r,a,s,l,u;u={description:null!==(t=null==e||null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.description)&&void 0!==t?t:C("console:manage.features.governanceConnectors.notifications.getConnector.genericError.description"),level:i.QU.ERROR,message:null!==(a=null==e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)&&void 0!==a?a:C("console:manage.features.governanceConnectors.notifications.getConnector.genericError.message")},A((0,o.V_)(u))})).finally((function(){return ft(!1)}))},tn=c.createElement(s.KM,{"data-componentid":"".concat(I,"-add-user-button"),"data-testid":"".concat(I,"-add-user-button")},c.createElement(f.Z,{name:"add"}),C("extensions:manage.users.buttons.addUserBtn"),c.createElement(f.Z,{name:"dropdown",className:"ml-3 mr-0"})),nn=function(){return c.createElement(v.nC,{onFilter:qt,filterAttributeOptions:[{key:0,text:C("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:C("console:manage.features.users.advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:C("console:manage.features.users.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:C("console:manage.features.users.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:C("console:manage.features.users.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:C("console:manage.features.users.advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:fe,disableSearchAndFilterOptions:(null==$?void 0:$.totalResults)<=0&&!N})},rn=function(){return c.createElement(s.PS,{className:"sub-org-users-list",advancedSearch:nn(),currentListSize:$.itemsPerPage,listItemLimit:z,onItemsPerPageDropdownChange:Bt,"data-testid":"user-mgt-user-list-layout",onPageChange:Jt,rightActionPanel:St()||Et()?c.createElement(p.Z,{"data-testid":"user-mgt-user-list-userstore-dropdown",selection:!0,options:se&&se,onChange:$t,defaultValue:E.pH.toLocaleLowerCase()}):null,showPagination:!0,totalPages:sn(),totalListSize:$.totalResults,paginationOptions:{disableNextButton:!we},isLoading:ge},Ie?c.createElement(s.$J,{subtitle:[C("console:manage.features.users.placeholders.userstoreError.subtitles.0"),C("console:manage.features.users.placeholders.userstoreError.subtitles.1")],title:C("console:manage.features.users.placeholders.userstoreError.title"),image:(0,v.jF)().genericError,imageSize:"tiny"}):c.createElement(Z,{advancedSearch:nn(),usersList:$,onUserDelete:Kt,userMetaListContent:null,realmConfigs:Ne,onEmptyListPlaceholderActionClick:function(){return G(!0)},onSearchQueryClear:Yt,searchQuery:N,"data-testid":"user-mgt-user-list",readOnlyUserStores:Ee,featureConfig:U,isReadOnlyUserStore:Nt}))},on=function(){return c.createElement(s.PS,{className:"sub-org-users-list",advancedSearch:nn(),currentListSize:null==$?void 0:$.itemsPerPage,listItemLimit:z,onItemsPerPageDropdownChange:Bt,"data-componentid":"".concat(O,"-user-mgt-user-list-layout"),"data-testid":"".concat(I,"-user-mgt-user-list-layout"),onPageChange:Jt,showPagination:!0,totalPages:sn(),totalListSize:null==$?void 0:$.totalResults,isLoading:ge||Tt,paginationOptions:{disableNextButton:!Ye,showItemsPerPageDropdown:Qe===E.XS},showPaginationPageLimit:!qe,leftActionPanel:c.createElement(p.Z,{"data-componentid":"".concat(O,"-list-userstore-dropdown"),selection:!0,options:At,onChange:an,text:C("console:manage.features.parentOrgInvitations.filterLabel")+Xe,disabled:Tt})},Ie?c.createElement(s.$J,{subtitle:[C("console:manage.features.users.placeholders.userstoreError.subtitles.0"),C("console:manage.features.users.placeholders.userstoreError.subtitles.1")],title:C("console:manage.features.users.placeholders.userstoreError.title"),image:(0,v.jF)().genericError,imageSize:"tiny"}):c.createElement(w,{invitationStatusOption:null,onEmptyListPlaceholderActionClick:function(){return G(!0)},onboardedGuestUserList:$,onSearchQueryClear:Yt,guestUsersList:rt,getGuestUsersList:function(){return Pt()},searchQuery:N,userTypeSelection:R.rb.EXTERNAL,"data-testid":I}))},an=function(e,t){Ge(t.value),$e(!0)},sn=function(){return ce===E.XS||ce===E.pH.toLocaleLowerCase()?Math.ceil((null==$?void 0:$.totalResults)/z):100};return c.createElement(s.Xg,{action:(0,r.hasRequiredScopes)(null==U?void 0:U.users,null==U||null===(t=U.users)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.create,T)&&!ge&&(!yt()||!Tt)&&!Nt&&c.createElement(p.Z,{"data-componentid":"".concat(O,"-add-user-dropdown"),direction:"left",floating:!0,icon:null,trigger:tn},c.createElement(p.Z.Menu,null,(zt=[],(0,r.hasRequiredScopes)(null==U?void 0:U.users,null==U||null===(_t=U.users)||void 0===_t||null===(jt=_t.scopes)||void 0===jt?void 0:jt.create,T)&&zt.push({"data-componentid":"".concat(O,"-add-user"),key:1,text:C("console:manage.features.users.addUserDropDown.addNewUser"),value:R.rb.EXTERNAL}),(0,r.hasRequiredScopes)(null==U?void 0:U.bulkUserImport,null==U||null===(Dt=U.bulkUserImport)||void 0===Dt||null===(kt=Dt.scopes)||void 0===kt?void 0:kt.create,T)&&zt.push({"data-componentid":"".concat(I,"-bulk-import-users-dropdown-item"),"data-testid":"".concat(I,"-bulk-import-users-dropdown-item"),key:2,text:C("console:manage.features.users.addUserDropDown.bulkImport"),value:R.Bv.BULK_IMPORT}),yt()&&null!=U&&null!==(Vt=U.guestUser)&&void 0!==Vt&&Vt.enabled&&(0,r.hasRequiredScopes)(null==U?void 0:U.guestUser,null==U||null===(Mt=U.guestUser)||void 0===Mt||null===(xt=Mt.scopes)||void 0===xt?void 0:xt.create,T)&&zt.push({"data-componentid":"".concat(O,"-invite-parent-user"),key:3,text:C("console:manage.features.parentOrgInvitations.addUserWizard.heading"),value:R.rb.INTERNAL}),zt).map((function(e){return c.createElement(p.Z.Item,je({key:e.value,onClick:function(){return function(e){switch(en(),e){case R.rb.EXTERNAL:Rt.publish("manage-users-click-create-new",{type:"user"}),G(!0),We(R.rb.EXTERNAL);break;case R.Bv.BULK_IMPORT:J(!0);break;case R.rb.INTERNAL:Rt.publish("manage-users-click-invite-new",{type:"user"}),gt(!0)}}(e.value)}},e))})))),title:C("console:manage.pages.users.title"),pageTitle:C("console:manage.pages.users.title"),description:C("extensions:manage.users.usersSubTitle"),"data-testid":"".concat(I,"-page-layout")},Ct?c.createElement(s.M$,{activeIndex:V,"data-testid":"".concat(I,"-administrator-tabs"),defaultActiveIndex:0,onTabChange:function(e,t){M(t.activeIndex),Yt(),0===t.activeIndex?We(R.rb.INTERNAL):1===t.activeIndex&&We(R.rb.EXTERNAL)},panes:(Lt=[],Lt.push({componentId:"users",menuItem:C("console:manage.features.parentOrgInvitations.tab.usersTab"),render:rn}),Lt.push({componentId:"invitations",menuItem:C("console:manage.features.parentOrgInvitations.tab.invitationsTab"),render:on}),Lt)}):rn(),X&&c.createElement(F.G,{"data-componentid":"".concat(O,"-user-mgt-add-user-wizard-modal"),"data-testid":"".concat(I,"-user-mgt-add-user-wizard-modal"),isSubOrg:Ct,closeWizard:function(){G(!1),Ae(void 0)},emailVerificationEnabled:Ce,onSuccessfulUserAddition:function(e){Pt(),Rt.publish("manage-users-finish-creating-user"),v.m8.push(l.UsersConstants.getPaths().get("CUSTOMER_USER_EDIT_PATH").replace(":id",e))},defaultUserTypeSelection:ke,userTypeSelection:Fe,listOffset:j,listItemLimit:z,updateList:function(){return ne(!0)},userStore:ce}),q&&!mt&&Ce&&c.createElement(W.O,{"data-componentid":"user-mgt-bulk-import-user-wizard-modal",closeWizard:function(){J(!1),Ft(z,j,null,null,ce)},userstore:E.pH}),ut&&c.createElement(s.cV,{"data-componentid":"".concat(O,"-select-multiple-invite-confirmation-modal"),onClose:function(){ct(!1),J(!1)},type:"warning",open:ut,primaryAction:C("common:close"),onPrimaryActionClick:function(){ct(!1),J(!1)},closeOnDimmerClick:!1},c.createElement(s.cV.Header,null,C("console:manage.features.users.confirmations.addMultipleUser.header")),c.createElement(s.cV.Message,{attached:!0,warning:!0},C("console:manage.features.users.confirmations.addMultipleUser.message")),c.createElement(s.cV.Content,null,C("console:manage.features.users.confirmations.addMultipleUser.content"))),vt&&c.createElement(Le,{closeWizard:function(){gt(!1),Pt()},onUserInviteSuccess:function(){return Pt()},"data-componentid":"user-mgt-invite-parent-user-wizard-modal"}))};Fe.defaultProps={"data-componentid":"users","data-testid":"users"};const We=Fe},78795:e=>{e.exports=[[e.id,".invite-parent-org-user-form .press-enter-prompt{display:flex;align-items:center;justify-content:space-between}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludml0ZS1wYXJlbnQtb3JnLXVzZXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpREFBaUQsWUFBWSxDQUFDLGtCQUFrQixDQUFDLDZCQUE2QiIsImZpbGUiOiJpbnZpdGUtcGFyZW50LW9yZy11c2VyLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW52aXRlLXBhcmVudC1vcmctdXNlci1mb3JtIC5wcmVzcy1lbnRlci1wcm9tcHR7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0iXX0= */","",""]]},17497:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(64062),i=n(97458),o=n(74014),a=n(14517),s=n(52983),l=n(22854);const u="AlertTitle",c=(0,s.forwardRef)(((e,t)=>{const{className:n}=e,s=(0,r.__rest)(e,["className"]),l=(0,a.Z)("oxygen-alert-title",n);return(0,i.jsx)(o.Z,Object.assign({className:l},s,{ref:t}))}));c.displayName=(0,l.I)(u),c.muiName=u,c.defaultProps={};const d=c;var m,f,p;m='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com). All Rights Reserved.\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-alert-title {\n  /* Add Styles */ }\n',f=document.getElementsByTagName("head")[0],(p=document.createElement("style")).setAttribute("type","text/css"),p.appendChild(document.createTextNode(m)),f.appendChild(p)}}]);