/*! For license information please see 48294.6672293c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[48294],{48294:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Q});var o=t(48573),r=t(83374),i=t(14603),a=t(90268),c=t(81816),l=t(52983),u=t(9202),s=t(54221),d=t(74691),p=t(75917),f=t(48684),v=t(30640),m=t(28900),g=t(93967),h=t(26187),b=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance()),y=function(e){var n={data:{outboundProvisioningIdps:e},headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.PUT,url:h.h.getState().config.endpoints.applications+"/resident"};return b(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update inbound configuration")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},E=t(43991),w=t(39990),S=function(e){var n=e.isOpen,t=e.onClose,o=e.deletingIdp,r=e.onConfirm,i=e["data-componentid"],a=(0,u.$)().t;return l.createElement(c.cV,{onClose:t,type:"negative",open:n,assertion:null==o?void 0:o.idp,assertionHint:l.createElement("p",null,l.createElement(w.c,{i18nKey:"console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.assertionHint",tOptions:{name:null==o?void 0:o.idp}},"Please type ",l.createElement("strong",null,null==o?void 0:o.idp)," to confirm.")),assertionType:"input",primaryAction:a("common:confirm"),secondaryAction:a("common:cancel"),onSecondaryActionClick:t,onPrimaryActionClick:function(){return r(o)},"data-componentid":"".concat(i,"-connector-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-componentid":"".concat(i,"-connector-delete-confirmation-modal-header")},a("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(i,"-connector-delete-confirmation-modal-message")},a("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.message")),l.createElement(c.cV.Content,{"data-componentid":"".concat(i,"-connector-delete-confirmation-modal-content")},a("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.content")))};S.defaultProps={"data-componentid":"outbound-provisioning-connector-delete-wizard"};var C=t(90009),k=t(13318),x=t(94635);function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,i,a,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=i.call(t)).done)&&(c.push(o.value),c.length!==n);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return c}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var I=function(e){var n,t,o=e.initialValues,r=e.idpList,i=e.triggerSubmit,a=e.onSubmit,s=e.isEdit,d=e.isReadOnly,p=e.isSubmitting,f=e["data-componentid"],v=(0,u.$)().t,g=(0,C.Z)().UIConfig,h=P((0,l.useState)([]),2),b=h[0],y=h[1],E=P((0,l.useState)(void 0),2),w=E[0],S=E[1],O=P((0,l.useState)(),2),I=O[0],A=O[1],L=P((0,l.useState)(null!==(n=null==o?void 0:o.blocking)&&void 0!==n&&n),2),j=L[0],_=L[1],R=P((0,l.useState)(null!==(t=null==o?void 0:o.rules)&&void 0!==t&&t),2),Z=R[0],N=R[1],U=P((0,l.useState)(null==o?void 0:o.connector),2),T=U[0],V=U[1];(0,l.useEffect)((function(){if(r&&null!=o&&o.idp){var e=null==r?void 0:r.find((function(e){return e.name===(null==o?void 0:o.idp)}));A(null==e?void 0:e.id)}}),[r]),(0,l.useEffect)((function(){if(r){var e=[],n={key:-1,text:"",value:""};r.map((function(t,o){n={key:o,text:t.name,value:t.id},e.push(n)})),y(e)}}),[r]),(0,l.useEffect)((function(){if(I){var e=[],n={key:-1,text:"",value:""};(0,m.OL)(I).then((function(t){t.provisioning.outboundConnectors.connectors.map((function(t,o){t.isEnabled&&(n={key:o,text:t.name,value:t.name},e.push(n))})),S(e)}))}}),[I]);return l.createElement(k.Es,{onSubmit:function(e){return a((n=b.find((function(e){return e.value===I})).text,{blocking:j,connector:T,idp:n,rules:Z}));var n},submitState:i&&i},l.createElement(x.Z,null,!s&&l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{type:"dropdown",label:v("console:develop.features.applications.resident.provisioning.outbound.form.fields.connection.label"),placeholder:v("console:develop.features.applications.resident.provisioning.outbound.form.fields.connection.placeholder"),name:"idp",children:b,requiredErrorMessage:v("console:develop.features.applications.resident.provisioning.outbound.form.fields.connection.empty"),readOnly:d,required:!1,value:null==o?void 0:o.idp,listen:function(e){A(e.get("idp").toString())},"data-componentid":"".concat(f,"-idp-dropdown")}))),l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{type:"dropdown",label:v("console:develop.features.applications.forms.outboundProvisioning.fields.connector.label"),placeholder:v("console:develop.features.applications.forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:w,requiredErrorMessage:v("console:develop.features.applications.forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:d,required:!0,value:null==o?void 0:o.connector,listen:function(e){V(e.get("connector").toString())},"data-componentid":"".concat(f,"-provisioning-connector-dropdown")}),(null==w?void 0:w.length)<=0&&l.createElement(c.kW,{icon:"warning sign"},v("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),(null==g?void 0:g.isXacmlConnectorEnabled)&&l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:v("console:develop.features.applications.forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=o&&o.rules?["rules"]:[],listen:function(e){N(e.get("rules").includes("rules"))},readOnly:d,"data-componentid":"".concat(f,"-rules-checkbox")}),l.createElement(c.kW,null,v("console:develop.features.applications.forms.outboundProvisioning.fields.rules.hint")))),l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(k.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:v("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:d,value:null!=o&&o.blocking?["blocking"]:[],listen:function(e){_(e.get("blocking").includes("blocking"))},"data-componentid":"".concat(f,"-blocking-checkbox")}),l.createElement(c.kW,null,v("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.hint")))),s&&!d&&l.createElement(x.Z.Row,{columns:1},l.createElement(x.Z.Column,{mobile:16,computer:10},l.createElement(c.KM,{type:"submit",size:"small",className:"form-button","data-componentid":"".concat(f,"-submit-button"),loading:p,disabled:p},v("common:update"))))))};I.defaultProps={"data-componentid":"outbound-provisioning-connector-setup-form"};var A=t(89101),L=t(21921),j=t(18606);function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,i,a,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=i.call(t)).done)&&(c.push(o.value),c.length!==n);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return c}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var Z=function(e){var n=e.closeWizard,t=e.onUpdate,o=e.isSubmitting,r=e.availableIdpList,i=e["data-componentid"],a=(0,u.$)().t,s=_((0,k.cC)(),2),d=s[0],p=s[1];return l.createElement(L.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-componentid":i,closeOnDimmerClick:!1,closeOnEscape:!0},l.createElement(L.Z.Header,{className:"wizard-header"},a("console:develop.features.applications.resident.provisioning.outbound.addIdpWizard.heading"),l.createElement(c.X6,{as:"h6"},a("console:develop.features.applications.resident.provisioning.outbound.addIdpWizard.subHeading"))),l.createElement(L.Z.Content,{className:"steps-container"},l.createElement(c.Rg.Group,{"data-componentid":"".concat(i,"-steps")},l.createElement(c.Rg.Step,{icon:(0,j.jK)().general,title:a("console:develop.features.applications.resident.provisioning.outbound.addIdpWizard.steps.details"),"data-componentid":"".concat(i,"-step-",0)}))),l.createElement(L.Z.Content,{className:"content-container",scrolling:!0},l.createElement(I,{initialValues:null,triggerSubmit:d,onSubmit:function(e){t(e)},idpList:r,"data-componentid":"".concat(i,"-form"),isSubmitting:o})),l.createElement(L.Z.Actions,null,l.createElement(A.Z,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},l.createElement(A.Z,null,l.createElement(c.Qj,{floated:"left",onClick:function(){return n()},disabled:o,"data-componentid":"".concat(i,"-cancel-button")},a("common:cancel"))),l.createElement(A.Z,null,l.createElement(c.KM,{floated:"right",onClick:function(){return p()},"data-componentid":"".concat(i,"-finish-button"),loading:o,disabled:o},a("common:finish"))))))};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function U(){U=function(){return n};var e,n={},t=Object.prototype,o=t.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function s(e,n,t,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype),c=new L(o||[]);return r(a,"_invoke",{value:P(e,t,c)}),a}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=s;var p="suspendedStart",f="suspendedYield",v="executing",m="completed",g={};function h(){}function b(){}function y(){}var E={};u(E,a,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==t&&o.call(S,a)&&(E=S);var C=y.prototype=h.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function x(e,n){function t(r,i,a,c){var l=d(e[r],e,i);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==N(s)&&o.call(s,"__await")?n.resolve(s.__await).then((function(e){t("next",e,a,c)}),(function(e){t("throw",e,a,c)})):n.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return t("throw",e,a,c)}))}c(l.arg)}var i;r(this,"_invoke",{value:function(e,o){function r(){return new n((function(n,r){t(e,o,n,r)}))}return i=i?i.then(r,r):r()}})}function P(n,t,o){var r=p;return function(i,a){if(r===v)throw new Error("Generator is already running");if(r===m){if("throw"===i)throw a;return{value:e,done:!0}}for(o.method=i,o.arg=a;;){var c=o.delegate;if(c){var l=O(c,o);if(l){if(l===g)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===p)throw r=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=v;var u=d(n,t,o);if("normal"===u.type){if(r=o.done?m:f,u.arg===g)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(r=m,o.method="throw",o.arg=u.arg)}}}function O(n,t){var o=t.method,r=n.iterator[o];if(r===e)return t.delegate=null,"throw"===o&&n.iterator.return&&(t.method="return",t.arg=e,O(n,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var i=d(r,n.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,g;var a=i.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function I(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function A(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function j(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function t(){for(;++r<n.length;)if(o.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(N(n)+" is not iterable")}return b.prototype=y,r(C,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:b,configurable:!0}),b.displayName=u(y,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},k(x.prototype),u(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(e,t,o,r,i){void 0===i&&(i=Promise);var a=new x(s(e,t,o,r),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(C),u(C,l,"Generator"),u(C,a,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var o in n)t.push(o);return t.reverse(),function e(){for(;t.length;){var o=t.pop();if(o in n)return e.value=o,e.done=!1,e}return e.done=!0,e}},n.values=j,L.prototype={constructor:L,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!n)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function r(o,r){return c.type="throw",c.arg=n,t.next=o,r&&(t.method="next",t.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),A(t),g}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var r=o.arg;A(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,o){return this.delegate={iterator:j(n),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=e),g}},n}function T(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,n,t,o,r,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(o,r)}function z(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){V(i,o,r,a,c,"next",e)}function c(e){V(i,o,r,a,c,"throw",e)}a(void 0)}))}}function M(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,i,a,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=i.call(t)).done)&&(c.push(o.value),c.length!==n);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return c}}(e,n)||G(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,n){if(e){if("string"==typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q(e,n):void 0}}function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}Z.defaultProps={"data-componentid":"outbound-provisioning-connector-setup-wizard"};var F=function(e){var n,t,g,b,w,C,k,x,P,O,A=e["data-componentid"],L=(0,u.$)().t,j=(0,s.I0)(),_=(0,s.v9)((function(e){var n,t;return null==e||null===(n=e.config)||void 0===n||null===(t=n.ui)||void 0===t?void 0:t.features})),R=(0,s.v9)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.allowedScopes})),N=(0,l.useMemo)((function(){var e,n;return!(0,r.hasRequiredScopes)(null==_?void 0:_.residentOutboundProvisioning,null==_||null===(e=_.residentOutboundProvisioning)||void 0===e||null===(n=e.scopes)||void 0===n?void 0:n.update,R)}),[_,R]),V=M((0,l.useState)(!1),2),G=V[0],q=V[1],F=M((0,l.useState)([]),2),Q=F[0],W=F[1],$=M((0,l.useState)([]),2),D=$[0],H=$[1],K=M((0,l.useState)(null),2),X=K[0],B=K[1],Y=M((0,l.useState)(!1),2),J=Y[0],ee=Y[1],ne=M((0,l.useState)(!1),2),te=ne[0],oe=ne[1],re=(k={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,url:"".concat(h.h.getState().config.endpoints.applications,"/resident")},x=(0,E.Z)(k),P=x.data,O=x.error,{data:P,error:O,isLoading:!O&&!P,isValidating:x.isValidating,mutate:x.mutate}),ie=re.data,ae=re.error,ce=re.isLoading,le=re.mutate,ue=(0,m.af)(null,null,null,"provisioning"),se=ue.data,de=ue.isLoading,pe=ue.error;(0,l.useEffect)((function(){if(!de&&!pe){var e,n=null==se||null===(e=se.identityProviders)||void 0===e?void 0:e.filter((function(e){var n,t,o;return null===(n=e.provisioning)||void 0===n||null===(t=n.outboundConnectors)||void 0===t||null===(o=t.connectors)||void 0===o?void 0:o.some((function(e){return e.isEnabled}))}));H(n)}}),[de,pe,se]),(0,l.useEffect)((function(){!ce&&ae&&j((0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.fetch.genericError.description"),level:i.QU.ERROR,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.fetch.genericError.message")}))}),[ae]);var fe=function(){var e=z(U().mark((function e(n,t){var o,r,c,l,u,s,d,p;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(!0),s=null==ie||null===(o=ie.provisioningConfigurations)||void 0===o||null===(r=o.outboundProvisioningIdps)||void 0===r?void 0:r.some((function(e){return e.idp===n.idp&&e.connector===n.connector})),t||!s){e.next=7;break}return oe(!1),q(!1),j((0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.create.error.description"),level:i.QU.ERROR,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.create.error.message")})),e.abrupt("return");case 7:return d=T(null==ie||null===(c=ie.provisioningConfigurations)||void 0===c?void 0:c.outboundProvisioningIdps),(p=null==ie||null===(l=ie.provisioningConfigurations)||void 0===l||null===(u=l.outboundProvisioningIdps)||void 0===u?void 0:u.findIndex((function(e){return e.idp===n.idp})))>-1&&d.splice(p,1),d.push(n),e.prev=11,e.next=14,y(d);case 14:q(!1),j(t?(0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.update.success.description"),level:i.QU.SUCCESS,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.update.success.message")}):(0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.create.success.description"),level:i.QU.SUCCESS,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.create.success.message")})),le(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),j(t?(0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.update.genericError.description"),level:i.QU.ERROR,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.update.genericError.message")}):(0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.create.genericError.description"),level:i.QU.ERROR,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.create.genericError.message")}));case 22:return e.prev=22,oe(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[11,19,22,25]])})));return function(n,t){return e.apply(this,arguments)}}(),ve=function(){var e=z(U().mark((function e(n){var t,o,r,c,l;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=T(null==ie||null===(t=ie.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps),(l=null==ie||null===(o=ie.provisioningConfigurations)||void 0===o||null===(r=o.outboundProvisioningIdps)||void 0===r?void 0:r.findIndex((function(e){return e.idp===n.idp})))>-1&&c.splice(l,1),e.prev=3,e.next=6,y(c);case 6:ee(!1),j((0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.delete.success.description"),level:i.QU.SUCCESS,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.delete.success.message")})),le(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),j((0,a.V_)({description:L("console:develop.features.applications.resident.provisioning.outbound.notifications.delete.genericError.description"),level:i.QU.SUCCESS,message:L("console:develop.features.applications.resident.provisioning.outbound.notifications.delete.genericError.message")}));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}(),me=function(e,n){if(n){var t=T(Q);if(t.includes(n.accordionIndex)){var o=t.indexOf(n.accordionIndex);t.splice(o,1)}else t.push(n.accordionIndex);W(t)}};return l.createElement(c.Xg,{pageTitle:L("console:develop.features.applications.resident.provisioning.outbound.heading"),title:L("console:develop.features.applications.resident.provisioning.outbound.heading"),description:L("console:develop.features.applications.resident.provisioning.outbound.subHeading"),"data-componentid":"".concat(A,"-layout"),backButton:{"data-componentid":"".concat(A,"-back-button"),onClick:function(){v.m8.push(v.$x.getPaths().get("LOGIN_AND_REGISTRATION"))},text:L("console:manage.features.governanceConnectors.goBackLoginAndRegistration")},action:(null==ie||null===(n=ie.provisioningConfigurations)||void 0===n||null===(t=n.outboundProvisioningIdps)||void 0===t?void 0:t.length)>0&&!N&&l.createElement(c.KM,{onClick:function(){return q(!0)},"data-componentid":"".concat(A,"-add-button")},l.createElement(d.Z,{name:"add"}),L("console:develop.features.applications.resident.provisioning.outbound.emptyPlaceholder.action"))},l.createElement(p.Z,{hidden:!0}),l.createElement(l.Fragment,null,(null==ie||null===(g=ie.provisioningConfigurations)||void 0===g||null===(b=g.outboundProvisioningIdps)||void 0===b?void 0:b.length)>0?l.createElement(l.Fragment,null,null==ie||null===(w=ie.provisioningConfigurations)||void 0===w||null===(C=w.outboundProvisioningIdps)||void 0===C?void 0:C.map((function(e,n){return l.createElement(v.Us,{key:e.idp,globalActions:[!N&&{icon:"trash alternate",onClick:function(){ee(!0),B(e)},type:"icon"}],authenticators:[{content:l.createElement(I,{initialValues:e,triggerSubmit:null,onSubmit:function(e){return fe(e,!0)},idpList:D,"data-componentid":"".concat(A,"-").concat(e.idp,"-form"),isSubmitting:te,isReadOnly:N,isEdit:!0}),id:null==e?void 0:e.idp,title:null==e?void 0:e.idp}],accordionActiveIndexes:Q,accordionIndex:n,handleAccordionOnClick:me,"data-componentid":"".concat(A,"-").concat(e.idp,"-\n                                                            outbound-connector-accordion")})}))):l.createElement(f.Z,null,l.createElement(c.$J,{title:L("console:develop.features.applications.resident.provisioning.outbound.emptyPlaceholder.title"),image:(0,o.jF)().emptyList,subtitle:[L("console:develop.features.applications.resident.provisioning.outbound.emptyPlaceholder.subtitles")],imageSize:"tiny",action:l.createElement(c.KM,{onClick:function(){return q(!0)},"data-componentid":"".concat(A,"-add-button")},l.createElement(d.Z,{name:"add"}),L("console:develop.features.applications.resident.provisioning.outbound.emptyPlaceholder.action"))}))),G&&l.createElement(Z,{closeWizard:function(){return q(!1)},onUpdate:function(e){return fe(e,!1)},isSubmitting:te,availableIdpList:D}),J&&l.createElement(S,{isOpen:J,onClose:function(){return ee(!1)},deletingIdp:X,onConfirm:ve}))};F.defaultProps={"data-componentid":"outbound-provisioning-settings-page"};const Q=F}}]);