"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[76254,64903],{64903:(e,n,t)=>{t.r(n),t.d(n,{updateOrganizationConfig:()=>d,useOrganizationConfig:()=>l});var i=t(93967),a=t(14603),r=t(43991),o=t(26187),s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),l=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={headers:{"Content-Type":"application/json"},method:a.f2.GET,url:o.h.getState().config.endpoints.organizationEndpoint.replace("{organization}",e)},s=(0,r.Z)(t?i:null,n),l=s.data,d=s.error;return{data:l,error:d,isLoading:!d&&!l,isValidating:s.isValidating,mutate:s.mutate}},d=function(e){var n={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.PATCH,url:o.h.getState().config.endpoints.organizationPatchEndpoint};return s(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},76254:(e,n,t)=>{t.r(n),t.d(n,{AdminSettingsPage:()=>S,default:()=>h});var i=t(14603),a=t(90268),r=t(81816),o=t(52983),s=t(9202),l=t(54221),d=t(21228),u=t(82722),c=t(74691),g=t(30640),m=t(64903),p=t(99839);function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,o,s=[],l=!0,d=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(s.push(i.value),s.length!==n);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var S=function(e){var n=e["data-componentid"],t=(0,l.I0)(),v=(0,s.$)().t,S=(0,r.fQ)().getLink,h=f((0,o.useState)(!1),2),b=h[0],E=h[1],y=g.h.getState().auth.tenantDomain,x=(0,m.useOrganizationConfig)(y,{revalidateIfStale:!1}),A=x.data,C=x.isLoading,O=x.error;(0,o.useEffect)((function(){E(null==A?void 0:A.isEnterpriseLoginEnabled)}),[C]),(0,o.useEffect)((function(){var e,n,r,o,s,l,d,u,c,g,m;O&&(null!=O&&null!==(e=O.response)&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.description?t((0,a.V_)({description:null!==(r=null!==(o=null==O||null===(s=O.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.description)&&void 0!==o?o:null==O||null===(d=O.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.detail)&&void 0!==r?r:v("extensions:manage.users.administratorSettings.error.description"),level:i.QU.ERROR,message:null!==(c=null==O||null===(g=O.response)||void 0===g||null===(m=g.data)||void 0===m?void 0:m.message)&&void 0!==c?c:v("extensions:manage.users.administratorSettings.error.message")})):t((0,a.V_)({description:v("extensions:manage.users.administratorSettings.genericError.description"),level:i.QU.ERROR,message:v("extensions:manage.users.administratorSettings.genericError.message")})))}),[O]);var R=function(e,n){var r={isEnterpriseLoginEnabled:n.checked};E(n.checked),(0,m.updateOrganizationConfig)(r).then((function(){t((0,a.V_)({description:v("extensions:manage.users.administratorSettings.success.description"),level:i.QU.SUCCESS,message:v("extensions:manage.users.administratorSettings.success.message")}))})).catch((function(e){var n,r,o,s,l,d,u,c,g,m,p;null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.description?t((0,a.V_)({description:null!==(o=null!==(s=null==e||null===(l=e.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.description)&&void 0!==s?s:null==e||null===(u=e.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.detail)&&void 0!==o?o:v("extensions:manage.users.administratorSettings.error.description"),level:i.QU.ERROR,message:null!==(g=null==e||null===(m=e.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.message)&&void 0!==g?g:v("extensions:manage.users.administratorSettings.error.message")})):t((0,a.V_)({description:v("extensions:manage.users.administratorSettings.genericError.description"),level:i.QU.ERROR,message:v("extensions:manage.users.administratorSettings.genericError.message")}))}))};return o.createElement(r.Xg,{title:v("extensions:manage.users.administratorSettings.administratorSettingsTitle"),description:o.createElement(o.Fragment,null,v("extensions:manage.users.administratorSettings.administratorSettingsSubtitle"),o.createElement(r.eb,{link:S("manage.users.collaboratorAccounts.adminSettingsLearnMore")},v("extensions:common.learnMore"))),backButton:{"data-componentid":"".concat(n,"-page-back-button"),onClick:function(){g.m8.push(p.UsersConstants.getPaths().get("COLLABORATOR_USERS_PATH"))},text:v("extensions:manage.users.administratorSettings.backButton")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,"data-componentid":"".concat(n,"-page-layout")},o.createElement(o.Fragment,null,o.createElement(d.Z,{label:v(b?"extensions:manage.users.administratorSettings.enableToggleMessage":"extensions:manage.users.administratorSettings.disableToggleMessage"),toggle:!0,onChange:R,checked:b,readOnly:!1,"data-componentid":"".concat(n,"-enable-toggle")})),o.createElement(u.Z,{info:!0,content:o.createElement(o.Fragment,null,o.createElement(c.Z,{name:"info circle"}),v("extensions:manage.users.administratorSettings.toggleHint"))}))};S.defaultProps={"data-componentid":"administrator-settings-page"};const h=S}}]);