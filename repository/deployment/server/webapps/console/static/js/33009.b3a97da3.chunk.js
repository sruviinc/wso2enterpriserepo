"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[33009],{33009:(e,t,n)=>{n.r(t),n.d(t,{AttributeMappingsComponent:()=>h});var r=n(13318),a=n(81816),i=n(52983),l=n(9202),u=n(39990),o=n(48684),s=n(94635),c=n(97860),m=n(86957),d=n(53830),p=n(85585);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,u=[],o=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{if(!o&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.triggerSubmit,n=e.handleAttributeMappingsSubmit,y=e.mandatoryAttributes,h=e.isAttributesListRequestLoading,b=e["data-testid"],E=f((0,i.useState)([]),2),g=E[0],v=E[1],S=f((0,i.useState)([]),2),w=S[0],A=S[1],I=f((0,i.useState)(""),2),R=I[0],U=I[1],C=(0,l.$)().t,M=(0,p.W)().data;return(0,i.useEffect)((function(){var e;M&&U("false"===(null===(e=(0,d.t$)(M))||void 0===e?void 0:e.enableValidator)?C("extensions:manage.features.userStores.create.pageLayout.steps.attributeMappings.emailUsername"):C("extensions:manage.features.userStores.create.pageLayout.steps.attributeMappings.alphanumericUsername"))}),[M]),(0,i.useEffect)((function(){if(y){var e=y.filter((function(e){return e.claimURI===m.Q.USER_NAME_CLAIM_URI})),t=y.filter((function(e){return e.claimURI!==m.Q.USER_NAME_CLAIM_URI}));v(e),A(t)}}),[y]),i.createElement(r.Es,{submitState:t,onSubmit:function(e){n(e)}},i.createElement(o.Z,{className:"attribute-mapping-section",padded:"very"},h?i.createElement(a.pO,null):i.createElement(s.Z,{width:10},null==g?void 0:g.map((function(e,t){return i.createElement(s.Z.Row,{key:t,columns:2},i.createElement(s.Z.Column,{width:8},i.createElement(c.Z.Content,null,null==e?void 0:e.displayName,i.createElement(a.xv,{display:"inline",styles:{color:"red"}}," *"),i.createElement(c.Z.Subheader,null,i.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),i.createElement(s.Z.Column,{width:8},i.createElement(r.gN,{name:null==e?void 0:e.claimURI,requiredErrorMessage:"This field cannot be empty as email is the primary identifier of the user",type:"text",required:!0,minLength:3,maxLength:50,"data-testid":"".concat(b,"-user-store-name-input"),width:14}),i.createElement(a.kW,null,i.createElement(u.c,{i18nKey:"extensions:manage.features.userStores.create.pageLayout.steps.attributeMappings.usernameHint",tOptions:{usernameType:R}},"The mapped attribute for username should be ",i.createElement("strong",null,"unique ")," and be of",i.createElement("strong",null," type ",R),". This field cannot be empty as username is the primary identifier of the user."))))})),null==w?void 0:w.map((function(e,t){return i.createElement(s.Z.Row,{key:t,columns:2},i.createElement(s.Z.Column,{width:8},i.createElement(c.Z.Content,null,null==e?void 0:e.displayName,i.createElement(a.xv,{display:"inline",styles:{color:"red"}}," *"),i.createElement(c.Z.Subheader,null,i.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),i.createElement(s.Z.Column,{width:8},i.createElement(r.gN,{name:null==e?void 0:e.claimURI,requiredErrorMessage:"This field cannot be empty.",type:"text",required:!0,minLength:3,maxLength:50,"data-testid":"".concat(b,"-user-store-name-input"),width:14}),i.createElement(a.kW,null,"The mapped attribute for user ID should be ",i.createElement("strong",null,"unique"),".")))})))))}}}]);