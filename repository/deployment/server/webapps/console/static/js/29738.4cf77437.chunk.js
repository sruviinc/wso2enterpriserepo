"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[29738],{29738:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var n=l(7955),a=l(83374),i=l(14603),c=l(90268),r=l(81816),o=l(52983),s=l(9202),u=l(54221),d=l(28141),m=l(75917),g=l(97860),p=l(71325),E=l(94635),v=l(74691),f=l(32442),h=l(91478),A=l(33614),b=l(30640),Z=l(97988),I=l(68836);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,a,i,c,r=[],o=!0,s=!1;try{if(i=(l=l.call(e)).next,0===t){if(Object(l)!==l)return;o=!1}else for(;!(o=(n=i.call(l)).done)&&(r.push(n.value),r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{if(!o&&null!=l.return&&(c=l.return(),Object(c)!==c))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(e);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}var S=function(e){var t,l,C,S,T,y,R,w,M,_,U,P,L,N,k,x,Q,O,q,B,G,H,z,$,j,J,X,F,V,K=e["data-testid"],W=(0,s.$)().t,Y=(0,u.v9)((function(e){return e.config.ui.features})),ee=D((0,o.useState)(!1),2),te=ee[0],le=ee[1],ne=D((0,o.useState)(!0),2),ae=ne[0],ie=ne[1],ce=D((0,o.useState)([]),2),re=ce[0],oe=ce[1],se=D((0,o.useState)([]),2),ue=se[0],de=se[1],me=D((0,o.useState)([]),2),ge=me[0],pe=me[1],Ee=D((0,o.useState)([]),2),ve=Ee[0],fe=Ee[1],he=D((0,o.useState)([]),2),Ae=he[0],be=he[1],Ze=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),Ie=(0,u.I0)(),De=(0,u.v9)((function(e){return e.config.ui.listAllAttributeDialects})),Ce=(0,u.v9)((function(e){var t,l;return null==e||null===(t=e.config)||void 0===t||null===(l=t.ui)||void 0===l?void 0:l.isSAASDeployment})),Se=function(e,t,l,n){ie(!0),(0,A.jp)({filter:n,limit:e,offset:t,sort:l}).then((function(e){var t=e.filter((function(e){return De?"local"!==e.id&&e.id!==I.Q.ATTRIBUTE_DIALECT_IDS.get("XML_SOAP")&&e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET"):e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("LOCAL")&&e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("AXSCHEMA")&&e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_LEGAL")&&e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_NATURAL")&&e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET")&&e.id!=I.Q.ATTRIBUTE_DIALECT_IDS.get("XML_SOAP")})),l=[],n=[],a=[],i=[],c=[];t.forEach((function(e){I.Q.OIDC_MAPPING.includes(e.dialectURI)?l.push(e):Object.values(I.Q.SCIM_TABS).map((function(e){return e.uri})).includes(e.dialectURI)?n.push(e):I.Q.AXSCHEMA_MAPPING===e.dialectURI?a.push(e):Object.values(I.Q.EIDAS_TABS).map((function(e){return e.uri})).includes(e.dialectURI)?i.push(e):h.attributeConfig.showCustomDialectInSCIM?e.dialectURI!==h.attributeConfig.localAttributes.customDialectURI&&c.push(e):c.push(e)})),oe(l),de(n),pe(a),fe(null),be(c)})).catch((function(e){var t,l,n,a;Ie((0,c.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.description)||W("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:i.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||W("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))})).finally((function(){ie(!1)}))};(0,o.useEffect)((function(){Se()}),[]);var Te=function(){return o.createElement(d.Z,null,o.createElement(d.Z.Header,null,o.createElement(d.Z.Line,null)))},ye=function(){return o.createElement(r.pJ,null,o.createElement(d.Z,{fluid:!0},o.createElement(d.Z.Header,{image:!0},o.createElement(d.Z.Line,{length:"very short"}),o.createElement(d.Z.Line,null))))};return o.createElement(o.Fragment,null,h.attributeConfig.addAttributeMapping&&te&&o.createElement(Z.$E,{open:te,onClose:function(){le(!1)},update:Se,"data-testid":"".concat(K,"-add-dialect-wizard")}),o.createElement(r.Xg,{pageTitle:"Attributes",title:W("console:manage.features.claims.dialects.pageLayout.list.title"),description:W("console:manage.features.claims.dialects.pageLayout.list.description"),"data-testid":"".concat(K,"-page-layout")},o.createElement(r.Me,{showTopActionPanel:!1},(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(t=Y.attributeDialects)||void 0===t||null===(l=t.scopes)||void 0===l?void 0:l.read,Ze)&&(ae?o.createElement(o.Fragment,null,Te(),o.createElement(m.Z,{hidden:!0}),ye()):o.createElement(o.Fragment,null,o.createElement(g.Z,{as:"h4"},W("console:manage.features.claims.dialects.sections.manageAttributes.heading")),o.createElement(m.Z,{hidden:!0}),o.createElement(r.pJ,{onClick:function(){b.m8.push(b.$x.getPaths().get("LOCAL_CLAIMS"))},className:"clickable","data-testid":"".concat(K,"-local-dialect-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,null,o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(r.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:(0,b.Uz)().claims,spaced:"right",size:"mini",floated:"left"}),o.createElement(p.Z.Header,null,W("console:manage.features.claims.dialects.sections.manageAttributes.attributes.heading")),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-local-dialect")},W("console:manage.features.claims.dialects.sections.manageAttributes.attributes.description"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right","data-testid":"".concat(K,"-local-dialect-")+"attributes-edit-icon"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(C=Y.attributeDialects)||void 0===C||null===(S=C.scopes)||void 0===S?void 0:S.create,Ze)?W("common:edit"):W("common:view"),trigger:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(T=Y.attributeDialects)||void 0===T||null===(y=T.scopes)||void 0===y?void 0:y.create,Ze)?o.createElement(v.Z,{color:"grey",name:"pencil"}):o.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),!Ce&&(null==Y||null===(R=Y.server)||void 0===R?void 0:R.enabled)&&(0,a.hasRequiredScopes)(null==Y?void 0:Y.server,null==Y||null===(w=Y.server)||void 0===w||null===(M=w.scopes)||void 0===M?void 0:M.read,Ze)&&o.createElement(r.pJ,{onClick:function(){b.m8.push(b.$x.getPaths().get("CLAIM_VERIFICATION_SETTINGS"))},className:"clickable","data-testid":"".concat(K,"-attribute-verification-settings-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,null,o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(r.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:(0,b.Uz)().gears,spaced:"right",size:"mini",floated:"left"}),o.createElement(p.Z.Header,null,W("console:manage.features.governanceConnectors.connectorCategories.otherSettings.connectors.userClaimUpdate.friendlyName")),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-attribute-verification")+"-settings"},W("console:manage.features.governanceConnectors.connectorSubHeading",{name:W("console:manage.features.governanceConnectors.connectorCategories.otherSettings.connectors.userClaimUpdate.friendlyName")}))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right","data-testid":"".concat(K,"-attribute-verification-")+"settings-edit-icon"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(_=Y.attributeDialects)||void 0===_||null===(U=_.scopes)||void 0===U?void 0:U.create,Ze)?W("common:configure"):W("common:view"),trigger:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(P=Y.attributeDialects)||void 0===P||null===(L=P.scopes)||void 0===L?void 0:L.create,Ze)?o.createElement(v.Z,{color:"grey",name:"pencil"}):o.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))))),o.createElement(m.Z,{hidden:!0}),o.createElement(m.Z,{hidden:!0}),o.createElement(m.Z,null),o.createElement(m.Z,{hidden:!0}),o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12,verticalAlign:"middle"},ae?Te():o.createElement(g.Z,{as:"h4"},W("console:manage.features.claims.dialects.sections.manageAttributeMappings.heading"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},h.attributeConfig.addAttributeMapping&&o.createElement(n.di,{when:n.TA.ATTRIBUTE_WRITE},o.createElement(r.KM,{disabled:ae,loading:ae,onClick:function(){le(!0)},"data-testid":"".concat(K,"-list-layout-add-button")},o.createElement(v.Z,{name:"add"}),W("console:manage.features.claims.dialects.pageLayout.list.primaryAction")))))),o.createElement(m.Z,{hidden:!0}),ae?ye():(null==re?void 0:re.length)>0&&o.createElement(r.pJ,{className:"clickable","data-testid":"".concat(K,"-oidc-dialect-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",I.Q.OIDC).replace(":customAttributeMappingID",""))}},o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(r.dn,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,b.r2)().oidc,spaced:"right",size:"mini",floated:"left"}),o.createElement(p.Z.Header,null,W("console:manage.features.claims.dialects.sections.manageAttributeMappings.oidc.heading")),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-local-dialect")},W("console:manage.features.claims.attributeMappings.oidc.description"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(N=Y.attributeDialects)||void 0===N||null===(k=N.scopes)||void 0===k?void 0:k.create,Ze)?W("common:edit"):W("common:view"),trigger:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(x=Y.attributeDialects)||void 0===x||null===(Q=x.scopes)||void 0===Q?void 0:Q.create,Ze)?o.createElement(v.Z,{color:"grey",name:"pencil"}):o.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),ae?ye():(null==ue?void 0:ue.length)>0&&o.createElement(r.pJ,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",I.Q.SCIM).replace(":customAttributeMappingID",""))},className:"clickable","data-testid":"".concat(K,"-scim-dialect-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,null,o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(r.dn,{verticalAlign:"middle",rounded:!0,icon:(0,b.r2)().scim,spaced:"right",size:"mini",floated:"left"}),o.createElement(p.Z.Header,null,W("console:manage.features.claims.dialects.sections.manageAttributeMappings.scim.heading")),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-local-dialect")},W("console:manage.features.claims.attributeMappings.scim.description"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(O=Y.attributeDialects)||void 0===O||null===(q=O.scopes)||void 0===q?void 0:q.create,Ze)&&h.attributeConfig.isSCIMEditable?W("common:edit"):W("common:view"),trigger:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(B=Y.attributeDialects)||void 0===B||null===(G=B.scopes)||void 0===G?void 0:G.create,Ze)&&h.attributeConfig.isSCIMEditable?o.createElement(v.Z,{color:"grey",name:"pencil"}):o.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),ae?ye():(null==ge?void 0:ge.length)>0&&o.createElement(r.pJ,{className:"clickable","data-testid":"".concat(K,"-axschema-dialect-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",I.Q.AXSCHEMA).replace(":customAttributeMappingID",""))}},o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(r.dn,{verticalAlign:"middle",rounded:!0,icon:(0,b.r2)().axschema,spaced:"right",size:"mini",floated:"left"}),o.createElement(p.Z.Header,null,W("console:manage.features.claims.attributeMappings.axschema.heading")),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-local-dialect")},W("console:manage.features.claims.attributeMappings.axschema.description"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(H=Y.attributeDialects)||void 0===H||null===(z=H.scopes)||void 0===z?void 0:z.create,Ze)?W("common:edit"):W("common:view"),trigger:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===($=Y.attributeDialects)||void 0===$||null===(j=$.scopes)||void 0===j?void 0:j.create,Ze)?o.createElement(v.Z,{color:"grey",name:"pencil"}):o.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),ae?ye():(null==ve?void 0:ve.length)>0&&o.createElement(r.pJ,{className:"clickable","data-testid":"".concat(K,"-eidas-dialect-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",I.Q.EIDAS).replace(":customAttributeMappingID",""))}},o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(r.dn,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,b.r2)().eidas,spaced:"right",size:"mini",floated:"left"}),o.createElement(p.Z.Header,null,W("console:manage.features.claims.attributeMappings.eidas.heading")),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-local-dialect")},W("console:manage.features.claims.attributeMappings.eidas.description"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(J=Y.attributeDialects)||void 0===J||null===(X=J.scopes)||void 0===X?void 0:X.create,Ze)?W("common:edit"):W("common:view"),trigger:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(F=Y.attributeDialects)||void 0===F||null===(V=F.scopes)||void 0===V?void 0:V.create,Ze)?o.createElement(v.Z,{color:"grey",name:"pencil"}):o.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),h.attributeConfig.showCustomAttributeMapping&&(ae?ye():(null==Ae?void 0:Ae.length)>0&&Ae.map((function(e){var t,l,n,i;return o.createElement(r.pJ,{key:e.dialectURI,onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",I.Q.OTHERS).replace(":customAttributeMappingID",e.id))},className:"clickable","data-testid":"".concat(K,"-other-dialect-container")},o.createElement(p.Z,null,o.createElement(p.Z.Item,null,o.createElement(E.Z,null,o.createElement(E.Z.Row,{columns:2},o.createElement(E.Z.Column,{width:12},o.createElement(f.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"mini"},o.createElement(r.Xo,null),o.createElement("span",{className:"claims-letter"},e.dialectURI.charAt(0).toUpperCase())),o.createElement(p.Z.Header,null,e.dialectURI),o.createElement(p.Z.Description,{"data-testid":"".concat(K,"-local-dialect")},W("console:manage.features.claims.attributeMappings.custom.description"))),o.createElement(E.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},o.createElement(r.GI,{content:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(t=Y.attributeDialects)||void 0===t||null===(l=t.scopes)||void 0===l?void 0:l.create,Ze)?W("common:edit"):W("common:view"),trigger:o.createElement(v.Z,{color:"grey",name:(0,a.hasRequiredScopes)(null==Y?void 0:Y.attributeDialects,null==Y||null===(n=Y.attributeDialects)||void 0===n||null===(i=n.scopes)||void 0===i?void 0:i.create,Ze)?"pencil":"eye"}),inverted:!0})))))))}))))))};S.defaultProps={"data-testid":"attribute-dialects"};const T=S}}]);